{
  "version": 3,
  "sources": ["../../node_modules/iobroker-react/src/lib/components/Dropdown.tsx", "../../node_modules/iobroker-react/src/components.ts", "../../node_modules/@material-ui/icons/Add.js", "../../node_modules/@material-ui/icons/Restore.js", "../../node_modules/@material-ui/icons/DeleteForever.js", "../../node_modules/@material-ui/icons/Wifi.js", "../../node_modules/@material-ui/icons/WifiOff.js", "../../node_modules/@material-ui/icons/DeviceUnknown.js", "../../node_modules/@material-ui/icons/PowerSettingsNew.js", "../../node_modules/@material-ui/icons/Remove.js", "../../node_modules/@material-ui/icons/NetworkCheck.js", "../../node_modules/@material-ui/icons/Home.js", "../../node_modules/@material-ui/icons/KeyboardArrowDown.js", "../../node_modules/@material-ui/icons/KeyboardArrowUp.js", "../../node_modules/@material-ui/icons/RestorePage.js", "../../node_modules/@material-ui/icons/Language.js", "../../node_modules/@material-ui/icons/NoEncryption.js", "../../node_modules/@material-ui/icons/Done.js", "../../node_modules/@material-ui/icons/Redo.js", "../../node_modules/@material-ui/icons/ErrorOutline.js", "../../node_modules/@material-ui/icons/Autorenew.js", "../../node_modules/@material-ui/icons/Publish.js", "../../node_modules/@material-ui/icons/Memory.js", "../../node_modules/@material-ui/icons/DeleteOutline.js", "../../node_modules/@material-ui/icons/SwapHoriz.js", "../../node_modules/@material-ui/icons/PhotoCamera.js", "../../node_modules/@material-ui/icons/Videocam.js", "../../node_modules/@material-ui/icons/CheckBoxOutlineBlank.js", "../../node_modules/@material-ui/icons/CheckBox.js", "../../node_modules/@zwave-js/core/src/error/ZWaveError.ts", "../../node_modules/@zwave-js/core/src/security/DSK.ts", "../../node_modules/@zwave-js/core/src/security/SecurityClass.ts", "../../node_modules/@material-ui/icons/AddAPhoto.js", "../src/tab.tsx", "../src/components/TabPanel.tsx", "../src/pages/Associations.tsx", "../src/components/AssociationNodeTable.tsx", "../src/components/AssociationRow.tsx", "../src/components/DeviceStatusIcon.tsx", "../src/components/Messages.tsx", "../src/pages/Devices.tsx", "../src/components/DeviceActionButtons.tsx", "../src/components/DeviceTable.tsx", "../src/components/DeviceTableRow.tsx", "../src/components/ControllerActions.tsx", "../src/components/SetRFRegionDialog.tsx", "../src/components/DeviceSecurityIcon.tsx", "../src/components/DeviceStatisticsIndicator.tsx", "../src/components/NodeStatisticsTooltip.tsx", "../src/components/HealStatusIcon.tsx", "../src/components/NodeActions.tsx", "../src/components/InclusionExclusionDialog.tsx", "../../node_modules/@material-ui/lab/esm/Alert/Alert.js", "../../node_modules/@material-ui/lab/esm/internal/svg-icons/SuccessOutlined.js", "../../node_modules/@material-ui/lab/esm/internal/svg-icons/ReportProblemOutlined.js", "../../node_modules/@material-ui/lab/esm/internal/svg-icons/ErrorOutline.js", "../../node_modules/@material-ui/lab/esm/internal/svg-icons/InfoOutlined.js", "../../node_modules/@material-ui/lab/esm/ToggleButton/ToggleButton.js", "../../node_modules/@material-ui/lab/esm/ToggleButtonGroup/ToggleButtonGroup.js", "../../node_modules/@material-ui/lab/esm/ToggleButtonGroup/isValueSelected.js", "../src/components/QRScanner.tsx", "../src/lib/useAnimationFrame.ts", "../../node_modules/jsqr-es6/src/BitMatrix.ts", "../../node_modules/jsqr-es6/src/binarizer/index.ts", "../../node_modules/jsqr-es6/src/decoder/decodeData/BitStream.ts", "../../node_modules/jsqr-es6/src/decoder/decodeData/index.ts", "../../node_modules/jsqr-es6/src/decoder/reedsolomon/GenericGFPoly.ts", "../../node_modules/jsqr-es6/src/decoder/reedsolomon/GenericGF.ts", "../../node_modules/jsqr-es6/src/decoder/reedsolomon/index.ts", "../../node_modules/jsqr-es6/src/decoder/version.ts", "../../node_modules/jsqr-es6/src/decoder/decoder.ts", "../../node_modules/jsqr-es6/src/extractor/index.ts", "../../node_modules/jsqr-es6/src/locator/index.ts", "../../node_modules/jsqr-es6/src/index.ts", "../src/pages/NetworkMap.tsx", "../../node_modules/d3-array/src/ascending.js", "../../node_modules/internmap/src/index.js", "../../node_modules/d3-array/src/range.js", "../../node_modules/d3-chord/src/math.js", "../../node_modules/d3-chord/src/chord.js", "../../node_modules/d3-path/src/path.js", "../../node_modules/d3-chord/src/array.js", "../../node_modules/d3-chord/src/constant.js", "../../node_modules/d3-chord/src/ribbon.js", "../../node_modules/d3-scale/src/init.js", "../../node_modules/d3-scale/src/ordinal.js", "../../node_modules/d3-color/src/define.js", "../../node_modules/d3-color/src/color.js", "../../node_modules/d3-interpolate/src/basis.js", "../../node_modules/d3-interpolate/src/basisClosed.js", "../../node_modules/d3-interpolate/src/constant.js", "../../node_modules/d3-interpolate/src/color.js", "../../node_modules/d3-interpolate/src/rgb.js", "../../node_modules/d3-scale-chromatic/src/colors.js", "../../node_modules/d3-scale-chromatic/src/ramp.js", "../../node_modules/d3-scale-chromatic/src/diverging/Spectral.js", "../../node_modules/d3-selection/src/namespaces.js", "../../node_modules/d3-selection/src/namespace.js", "../../node_modules/d3-selection/src/creator.js", "../../node_modules/d3-selection/src/selector.js", "../../node_modules/d3-selection/src/selection/select.js", "../../node_modules/d3-selection/src/array.js", "../../node_modules/d3-selection/src/selectorAll.js", "../../node_modules/d3-selection/src/selection/selectAll.js", "../../node_modules/d3-selection/src/matcher.js", "../../node_modules/d3-selection/src/selection/selectChild.js", "../../node_modules/d3-selection/src/selection/selectChildren.js", "../../node_modules/d3-selection/src/selection/filter.js", "../../node_modules/d3-selection/src/selection/sparse.js", "../../node_modules/d3-selection/src/selection/enter.js", "../../node_modules/d3-selection/src/constant.js", "../../node_modules/d3-selection/src/selection/data.js", "../../node_modules/d3-selection/src/selection/exit.js", "../../node_modules/d3-selection/src/selection/join.js", "../../node_modules/d3-selection/src/selection/merge.js", "../../node_modules/d3-selection/src/selection/order.js", "../../node_modules/d3-selection/src/selection/sort.js", "../../node_modules/d3-selection/src/selection/call.js", "../../node_modules/d3-selection/src/selection/nodes.js", "../../node_modules/d3-selection/src/selection/node.js", "../../node_modules/d3-selection/src/selection/size.js", "../../node_modules/d3-selection/src/selection/empty.js", "../../node_modules/d3-selection/src/selection/each.js", "../../node_modules/d3-selection/src/selection/attr.js", "../../node_modules/d3-selection/src/window.js", "../../node_modules/d3-selection/src/selection/style.js", "../../node_modules/d3-selection/src/selection/property.js", "../../node_modules/d3-selection/src/selection/classed.js", "../../node_modules/d3-selection/src/selection/text.js", "../../node_modules/d3-selection/src/selection/html.js", "../../node_modules/d3-selection/src/selection/raise.js", "../../node_modules/d3-selection/src/selection/lower.js", "../../node_modules/d3-selection/src/selection/append.js", "../../node_modules/d3-selection/src/selection/insert.js", "../../node_modules/d3-selection/src/selection/remove.js", "../../node_modules/d3-selection/src/selection/clone.js", "../../node_modules/d3-selection/src/selection/datum.js", "../../node_modules/d3-selection/src/selection/on.js", "../../node_modules/d3-selection/src/selection/dispatch.js", "../../node_modules/d3-selection/src/selection/iterator.js", "../../node_modules/d3-selection/src/selection/index.js", "../../node_modules/d3-selection/src/select.js", "../../node_modules/d3-shape/src/constant.js", "../../node_modules/d3-shape/src/math.js", "../../node_modules/d3-shape/src/arc.js", "../src/lib/networkMap.ts", "../src/lib/useDevices.ts", "../src/pages/Groups.tsx", "../src/components/GroupRow.tsx", "../src/lib/tools.ts", "../src/lib/useGroups.ts", "../src/pages/SmartStart.tsx", "../src/components/SmartStartTableRow.tsx"],
  "sourcesContent": [null, null, "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"\n}), 'Restore');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteForever');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z\"\n}), 'Wifi');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7l2-2zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53.96-.97zM2 3.05L5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79 2 3.05zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0z\"\n}), 'WifiOff');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14zM12 6.72c-1.96 0-3.5 1.52-3.5 3.47h1.75c0-.93.82-1.75 1.75-1.75s1.75.82 1.75 1.75c0 1.75-2.63 1.57-2.63 4.45h1.76c0-1.96 2.62-2.19 2.62-4.45 0-1.96-1.54-3.47-3.5-3.47zm-.88 8.8h1.76v1.76h-1.76z\"\n}), 'DeviceUnknown');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z\"\n}), 'PowerSettingsNew');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9zm20 2l2-2c-1.64-1.64-3.55-2.82-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75zm-4 4l2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97zM5 13l2 2c1.13-1.13 2.56-1.79 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88z\"\n}), 'NetworkCheck');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"\n}), 'Home');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z\"\n}), 'KeyboardArrowUp');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z\"\n}), 'RestorePage');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"\n}), 'Language');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 21.78L4.22 5 3 6.22l2.04 2.04C4.42 8.6 4 9.25 4 10v10c0 1.1.9 2 2 2h12c.23 0 .45-.05.66-.12L19.78 23 21 21.78zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H9.66L20 18.34V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5-2.56 0-4.64 1.93-4.94 4.4L8.9 7.24V6z\"\n}), 'NoEncryption');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"\n}), 'Redo');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"\n}), 'Autorenew');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z\"\n}), 'Publish');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z\"\n}), 'Memory');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\"\n}), 'SwapHoriz');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"3.2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n})), 'PhotoCamera');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"\n}), 'Videocam');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');\n\nexports.default = _default;", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');\n\nexports.default = _default;", null, null, null, "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z\"\n}), 'AddAPhoto');\n\nexports.default = _default;", "import { AppBar, Tab, Tabs } from \"@material-ui/core\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { IoBrokerApp } from \"iobroker-react/app\";\nimport type { Translations } from \"iobroker-react/i18n\";\nimport { TabPanel } from \"./components/TabPanel\";\nimport { Associations } from \"./pages/Associations\";\nimport { Devices } from \"./pages/Devices\";\nimport { NetworkMap } from \"./pages/NetworkMap\";\nimport { useI18n } from \"iobroker-react/hooks\";\n\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { ZWaveLogs } from \"./pages/ZWaveLogs\";\nimport { useDevices } from \"./lib/useDevices\";\nimport { Groups } from \"./pages/Groups\";\nimport { SmartStart } from \"./pages/SmartStart\";\n\nfunction ErrorFallback({ error, resetErrorBoundary }) {\n\treturn (\n\t\t<div role=\"alert\">\n\t\t\t<p>Something went wrong:</p>\n\t\t\t<pre>{error.stack}</pre>\n\t\t\t<button onClick={resetErrorBoundary}>Try again</button>\n\t\t</div>\n\t);\n}\n\nconst translations: Translations = {\n\ten: require(\"./i18n/en.json\"),\n\tde: require(\"./i18n/de.json\"),\n\tru: require(\"./i18n/ru.json\"),\n\tpt: require(\"./i18n/pt.json\"),\n\tnl: require(\"./i18n/nl.json\"),\n\tfr: require(\"./i18n/fr.json\"),\n\tit: require(\"./i18n/it.json\"),\n\tes: require(\"./i18n/es.json\"),\n\tpl: require(\"./i18n/pl.json\"),\n\t\"zh-cn\": require(\"./i18n/zh-cn.json\"),\n};\n\nconst Root: React.FC = React.memo(() => {\n\tconst [value, setValue] = React.useState(0);\n\tconst { translate: _ } = useI18n();\n\n\tconst handleTabChange = (\n\t\t// eslint-disable-next-line @typescript-eslint/ban-types\n\t\tevent: React.ChangeEvent<{}>,\n\t\tnewValue: number,\n\t) => {\n\t\tsetValue(newValue);\n\t};\n\n\tconst [devices, updateDevices] = useDevices();\n\n\treturn (\n\t\t<>\n\t\t\t<AppBar position=\"static\">\n\t\t\t\t<Tabs value={value} onChange={handleTabChange}>\n\t\t\t\t\t<Tab label={_(\"Devices\")} />\n\t\t\t\t\t<Tab label={_(\"SmartStart\")} />\n\t\t\t\t\t<Tab label={_(\"Groups\")} />\n\t\t\t\t\t<Tab label={_(\"Associations\")} />\n\t\t\t\t\t<Tab label={_(\"Z-Wave Logs\")} />\n\t\t\t\t\t<Tab label={_(\"Network map\")} />\n\t\t\t\t</Tabs>\n\t\t\t</AppBar>\n\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t<ErrorBoundary FallbackComponent={ErrorFallback}>\n\t\t\t\t\t<Devices devices={devices} />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t<ErrorBoundary FallbackComponent={ErrorFallback}>\n\t\t\t\t\t<SmartStart devices={devices} />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t<ErrorBoundary FallbackComponent={ErrorFallback}>\n\t\t\t\t\t<Groups devices={devices} />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={3}>\n\t\t\t\t<ErrorBoundary FallbackComponent={ErrorFallback}>\n\t\t\t\t\t<Associations\n\t\t\t\t\t\tdevices={devices}\n\t\t\t\t\t\tupdateDevices={updateDevices}\n\t\t\t\t\t/>\n\t\t\t\t</ErrorBoundary>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={4}>\n\t\t\t\t<ErrorBoundary FallbackComponent={ErrorFallback}>\n\t\t\t\t\t<ZWaveLogs />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={5}>\n\t\t\t\t<ErrorBoundary FallbackComponent={ErrorFallback}>\n\t\t\t\t\t<NetworkMap />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</TabPanel>\n\t\t</>\n\t);\n});\n\nReactDOM.render(\n\t<IoBrokerApp name={\"zwave2\"} translations={translations}>\n\t\t<Root />\n\t</IoBrokerApp>,\n\tdocument.getElementById(\"root\"),\n);\n", "import Box from \"@material-ui/core/Box\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\n\ninterface TabPanelProps {\n\tchildren?: React.ReactNode;\n\tindex: any;\n\tvalue: any;\n}\n\nconst useStyles = makeStyles((_theme) => ({\n\ttabpanel: {\n\t\tflex: 1,\n\t\tposition: \"relative\",\n\t\t\"& > *\": {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t},\n}));\n\nexport const TabPanel: React.FC<TabPanelProps> = (props) => {\n\tconst { children, value, index, ...other } = props;\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classes.tabpanel}\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\n\t\t</div>\n\t);\n};\n", "import React from \"react\";\nimport type { AssociationDefinition } from \"../../../src/lib/shared\";\nimport { AssociationNodeTable } from \"../components/AssociationNodeTable\";\nimport { NoDevices, NotRunning } from \"../components/Messages\";\nimport { useAdapter } from \"iobroker-react/hooks\";\nimport { Device, useAPI } from \"../lib/useAPI\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nexport interface AssociationsProps {\n\tdevices: Record<number, Device> | undefined;\n\tupdateDevices: () => Promise<void>;\n}\n\nexport const Associations: React.FC<AssociationsProps> = (props) => {\n\tconst { alive: adapterRunning, connected: driverReady } = useAdapter();\n\tconst api = useAPI();\n\tconst { devices, updateDevices } = props;\n\n\tasync function saveAssociation(\n\t\tnodeId: number,\n\t\tprev: AssociationDefinition | undefined,\n\t\tcurrent: AssociationDefinition,\n\t): Promise<void> {\n\t\tif (prev) await deleteAssociation(nodeId, prev);\n\t\tawait api.addAssociation(nodeId, current);\n\t\t// Associations are not reflected in states, so we need to\n\t\t// manually update them\n\t\tawait updateDevices();\n\t}\n\n\tasync function deleteAssociation(\n\t\tnodeId: number,\n\t\tassociation: AssociationDefinition,\n\t): Promise<void> {\n\t\tawait api.removeAssociation(nodeId, association);\n\t\t// Associations are not reflected in states, so we need to\n\t\t// manually update them\n\t\tawait updateDevices();\n\t}\n\n\tconst devicesAsArray = devices\n\t\t? Object.values(devices).filter(Boolean)\n\t\t: [];\n\tconst nodes = devicesAsArray.map((d) => ({\n\t\tnodeId: d.value.native.id as number,\n\t\tendpointIndizes: d.value.native.endpointIndizes as number[] | undefined,\n\t}));\n\tconst nonControllerDevices = devicesAsArray.filter(\n\t\t(d) => !d.value.native.isControllerNode,\n\t);\n\n\tif (!adapterRunning || !driverReady) return <NotRunning />;\n\tif (!devices) return <CircularProgress />;\n\tif (!nonControllerDevices.length) return <NoDevices />;\n\n\treturn (\n\t\t<>\n\t\t\t{nonControllerDevices.map((device, index) => (\n\t\t\t\t<AssociationNodeTable\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdevice={device}\n\t\t\t\t\tnodes={nodes}\n\t\t\t\t\tsaveAssociation={saveAssociation}\n\t\t\t\t\tdeleteAssociation={deleteAssociation}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</>\n\t);\n};\n", "import { padStart } from \"alcalzone-shared/strings\";\nimport React from \"react\";\nimport type { AssociationGroup } from \"zwave-js\";\nimport type { AssociationDefinition } from \"../../../src/lib/shared\";\nimport type { Device } from \"../lib/useAPI\";\nimport { AssociationRow } from \"./AssociationRow\";\nimport { DeviceStatusIcon } from \"./DeviceStatusIcon\";\nimport { NodeNotReady } from \"./Messages\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Table from \"@material-ui/core/Table\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles((theme) => ({\n\theadline: {\n\t\tbackgroundColor: theme.palette.background.default,\n\t\tmargin: theme.spacing(-2),\n\t\tmarginBottom: theme.spacing(2),\n\t\tborderBottom: `1px solid ${theme.palette.divider}`,\n\t\tpadding: theme.spacing(2),\n\t},\n\ttable: {\n\t\tmarginTop: theme.spacing(-2),\n\t},\n\tnodeNumber: {\n\t\t\"& > *\": {\n\t\t\tverticalAlign: \"middle\",\n\t\t},\n\t},\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tmarginTop: theme.spacing(4),\n\t\t\"&:first-child\": {\n\t\t\tmargin: 0,\n\t\t},\n\t},\n}));\n\ninterface AssociationNodeTableHeadlineProps {\n\tdevice: Device;\n}\n\nfunction AssociationNodeTableHeadline(\n\tprops: AssociationNodeTableHeadlineProps,\n) {\n\tconst { translate: _ } = useI18n();\n\n\tconst { value, status } = props.device;\n\tconst nodeId = value.native.id as number;\n\tconst nodeName =\n\t\tvalue.common.name && !(value.common.name as string).startsWith(\"Node\")\n\t\t\t? value.common.name\n\t\t\t: undefined;\n\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.headline}>\n\t\t\t<Typography\n\t\t\t\tvariant=\"h5\"\n\t\t\t\tcomponent=\"h2\"\n\t\t\t\tclassName={classes.nodeNumber}\n\t\t\t>\n\t\t\t\t<span>\n\t\t\t\t\t{_(\"Node\")} {padStart(nodeId.toString(), 3, \"0\")}\n\t\t\t\t</span>\n\t\t\t\t&nbsp;\n\t\t\t\t<DeviceStatusIcon status={status} />\n\t\t\t</Typography>\n\t\t\t{nodeName && (\n\t\t\t\t<Typography variant=\"h6\" component=\"h3\">\n\t\t\t\t\t{nodeName}\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nfunction AssociationNodeTableContent(props: AssociationNodeTableProps) {\n\tconst { translate: _ } = useI18n();\n\n\tconst { endpoints, value } = props.device;\n\tconst nodeId = value.native.id as number;\n\n\t// Contains a flat array of all association definitions by endpoint\n\tconst {\n\t\tsourceEndpoints,\n\t\tgroups,\n\t\tsupportsMultiChannel,\n\t\thasAssociations,\n\t\tassociations,\n\t} = React.useMemo(() => {\n\t\tconst definitions: AssociationDefinition[] = [];\n\t\tlet hasAssociations = false;\n\t\tlet supportsMultiChannel = false;\n\t\tconst groups = new Map<\n\t\t\tnumber,\n\t\t\t(AssociationGroup & { group: number })[]\n\t\t>();\n\t\tconst sourceEndpoints: number[] = [];\n\t\tif (endpoints) {\n\t\t\tfor (const [index, endpoint] of endpoints) {\n\t\t\t\tif (!endpoint.associationGroups) {\n\t\t\t\t\tgroups.set(index, []);\n\t\t\t\t} else {\n\t\t\t\t\tsupportsMultiChannel ||= Object.values(\n\t\t\t\t\t\tendpoint.associationGroups,\n\t\t\t\t\t).some((a) => !!a.multiChannel);\n\t\t\t\t\tgroups.set(\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\tObject.entries(endpoint.associationGroups).map(\n\t\t\t\t\t\t\t([group, def]) => ({\n\t\t\t\t\t\t\t\tgroup: parseInt(group),\n\t\t\t\t\t\t\t\t...def,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (endpoint.associations) {\n\t\t\t\t\tdefinitions.push(\n\t\t\t\t\t\t...Object.entries(endpoint.associations)\n\t\t\t\t\t\t\t.map(([group, assocs]) =>\n\t\t\t\t\t\t\t\tassocs.map((a) => ({\n\t\t\t\t\t\t\t\t\tsourceEndpoint: index,\n\t\t\t\t\t\t\t\t\tgroup: parseInt(group),\n\t\t\t\t\t\t\t\t\t...a,\n\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.reduce((acc, cur) => [...acc, ...cur], [])\n\t\t\t\t\t\t\t.sort((a1, a2) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\ta1.group - a2.group ||\n\t\t\t\t\t\t\t\t\ta1.nodeId - a2.nodeId ||\n\t\t\t\t\t\t\t\t\t(a1.endpoint ?? -1) - (a2.endpoint ?? -1)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\t\t\t\t\thasAssociations ||=\n\t\t\t\t\t\tObject.keys(endpoint.associations).length > 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (supportsMultiChannel) sourceEndpoints.push(0);\n\t\t\tsourceEndpoints.push(...endpoints.keys());\n\t\t}\n\t\treturn {\n\t\t\tsourceEndpoints,\n\t\t\tgroups,\n\t\t\tsupportsMultiChannel,\n\t\t\thasAssociations,\n\t\t\tassociations: definitions,\n\t\t};\n\t}, [endpoints]);\n\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Table className={classes.table}>\n\t\t\t<TableHead>\n\t\t\t\t<TableRow>\n\t\t\t\t\t<TableCell>{_(\"Source endpoint\")}</TableCell>\n\t\t\t\t\t<TableCell>{_(\"Group\")}</TableCell>\n\t\t\t\t\t<TableCell>{_(\"Target node\")}</TableCell>\n\t\t\t\t\t{supportsMultiChannel && (\n\t\t\t\t\t\t<TableCell>{_(\"Target endpoint\")}</TableCell>\n\t\t\t\t\t)}\n\t\t\t\t\t<TableCell>&nbsp;</TableCell>\n\t\t\t\t</TableRow>\n\t\t\t</TableHead>\n\t\t\t<TableBody>\n\t\t\t\t{hasAssociations ? (\n\t\t\t\t\tassociations.map((assoc) => (\n\t\t\t\t\t\t<AssociationRow\n\t\t\t\t\t\t\tkey={`from${nodeId}${\n\t\t\t\t\t\t\t\tassoc.sourceEndpoint ?? -1\n\t\t\t\t\t\t\t}-to${assoc.group}-${assoc.nodeId}-${\n\t\t\t\t\t\t\t\tassoc.endpoint ?? -1\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tendpoints={sourceEndpoints ?? []}\n\t\t\t\t\t\t\tgroups={groups}\n\t\t\t\t\t\t\tnodes={props.nodes.filter(\n\t\t\t\t\t\t\t\t(n) => n.nodeId !== nodeId,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tsourceEndpoint={assoc.sourceEndpoint ?? 0}\n\t\t\t\t\t\t\tgroup={assoc.group}\n\t\t\t\t\t\t\tnodeId={assoc.nodeId}\n\t\t\t\t\t\t\tendpoint={assoc.endpoint}\n\t\t\t\t\t\t\tsupportsMultiChannel={supportsMultiChannel}\n\t\t\t\t\t\t\tsave={(\n\t\t\t\t\t\t\t\tsourceEndpoint,\n\t\t\t\t\t\t\t\tgroup,\n\t\t\t\t\t\t\t\ttargetNodeId,\n\t\t\t\t\t\t\t\tendpoint,\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\treturn props.saveAssociation(nodeId, assoc, {\n\t\t\t\t\t\t\t\t\tsourceEndpoint,\n\t\t\t\t\t\t\t\t\tgroup,\n\t\t\t\t\t\t\t\t\tnodeId: targetNodeId,\n\t\t\t\t\t\t\t\t\tendpoint,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdelete={() => {\n\t\t\t\t\t\t\t\treturn props.deleteAssociation(nodeId, assoc);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\t\t\t\t{/* Empty row to add new associations */}\n\t\t\t\t<AssociationRow\n\t\t\t\t\tendpoints={sourceEndpoints ?? []}\n\t\t\t\t\tgroups={groups}\n\t\t\t\t\tnodes={props.nodes.filter((n) => n.nodeId !== nodeId)}\n\t\t\t\t\tsourceEndpoint={undefined}\n\t\t\t\t\tgroup={undefined}\n\t\t\t\t\tnodeId={undefined}\n\t\t\t\t\tsupportsMultiChannel={supportsMultiChannel}\n\t\t\t\t\tsave={(sourceEndpoint, group, targetNodeId, endpoint) => {\n\t\t\t\t\t\treturn props.saveAssociation(nodeId, undefined, {\n\t\t\t\t\t\t\tsourceEndpoint,\n\t\t\t\t\t\t\tgroup,\n\t\t\t\t\t\t\tnodeId: targetNodeId,\n\t\t\t\t\t\t\tendpoint,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</TableBody>\n\t\t</Table>\n\t);\n}\n\nexport interface AssociationNodeTableProps {\n\tnodes: {\n\t\tnodeId: number;\n\t\tendpointIndizes?: number[];\n\t}[];\n\tdevice: Device;\n\tsaveAssociation(\n\t\tnodeId: number,\n\t\tprev: AssociationDefinition | undefined,\n\t\tcurrent: AssociationDefinition,\n\t): Promise<void>;\n\tdeleteAssociation(\n\t\tnodeId: number,\n\t\tassociation: AssociationDefinition,\n\t): Promise<void>;\n}\n\nexport const AssociationNodeTable: React.FC<AssociationNodeTableProps> = (\n\tprops,\n) => {\n\tconst { ready, endpoints } = props.device;\n\n\tconst hasSomeAssociationGroups =\n\t\t!!endpoints &&\n\t\t[...endpoints.values()].some((e) => !!e.associationGroups);\n\n\tconst classes = useStyles();\n\n\tif (ready && !hasSomeAssociationGroups) {\n\t\t// This node doesn't support associations\n\t\treturn <React.Fragment></React.Fragment>;\n\t}\n\n\treturn (\n\t\t<Paper className={classes.paper} elevation={2}>\n\t\t\t<AssociationNodeTableHeadline device={props.device} />\n\t\t\t{ready ? (\n\t\t\t\t<AssociationNodeTableContent {...props} />\n\t\t\t) : (\n\t\t\t\t<NodeNotReady />\n\t\t\t)}\n\t\t</Paper>\n\t);\n};\n", "import React from \"react\";\nimport type { AssociationGroup } from \"zwave-js/CommandClass\";\nimport { padStart } from \"alcalzone-shared/strings\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport { Dropdown, DropdownOption } from \"iobroker-react/components\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport RestoreIcon from \"@material-ui/icons/Restore\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport MuiTableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { makeStyles, styled } from \"@material-ui/core/styles\";\nimport { getErrorMessage } from \"../../../src/lib/shared\";\n\nexport interface AssociationRowProps {\n\t// The existing endpoints on the source node, their defined groups, and existing nodes including endpoints\n\tendpoints: number[];\n\tgroups: ReadonlyMap<number, (AssociationGroup & { group: number })[]>;\n\tnodes: { nodeId: number; endpointIndizes?: number[] }[];\n\n\t// Whether the target endpoint selection should be shown\n\tsupportsMultiChannel: boolean;\n\n\t// The selected association\n\tsourceEndpoint: number | undefined;\n\tgroup: number | undefined;\n\tnodeId: number | undefined;\n\tendpoint?: number | undefined;\n\n\t// Will be called when the group should be saved\n\tsave(\n\t\tsourceEndpoint: number | undefined,\n\t\tgroup: number,\n\t\tnodeId: number,\n\t\tendpoint: number | undefined,\n\t): Promise<void>;\n\t// Will be called when the group should be deleted\n\tdelete?(): Promise<void>;\n}\n\nconst useStyles = makeStyles((_theme) => ({\n\tdropdown: {\n\t\twidth: \"100%\",\n\t},\n}));\n\nconst TableCell = styled(MuiTableCell)(({ theme }) => ({\n\tpadding: theme.spacing(1),\n}));\n\nexport const AssociationRow: React.FC<AssociationRowProps> = (props) => {\n\tconst { translate: _ } = useI18n();\n\n\tconst [sourceEndpoint, setSourceEndpoint] = React.useState(\n\t\tprops.sourceEndpoint,\n\t);\n\tconst [group, setGroup] = React.useState(props.group);\n\tconst [nodeId, setNodeId] = React.useState(props.nodeId);\n\tconst [endpoint, setEndpoint] = React.useState(props.endpoint);\n\n\tconst [isValid, setValid] = React.useState(false);\n\tconst [hasChanges, setHasChanges] = React.useState(false);\n\tconst [isBusy, setBusy] = React.useState(false);\n\n\tconst groups =\n\t\t(sourceEndpoint != undefined && props.groups.get(sourceEndpoint)) || [];\n\n\tReact.useEffect(() => {\n\t\tsetHasChanges(\n\t\t\tsourceEndpoint !== props.sourceEndpoint ||\n\t\t\t\tgroup !== props.group ||\n\t\t\t\tnodeId !== props.nodeId ||\n\t\t\t\tendpoint !== props.endpoint,\n\t\t);\n\t\tconst groupExists = !!groups.find((g) => g.group === group);\n\t\tconst node = props.nodes.find((n) => n.nodeId === nodeId);\n\t\tconst endpointIndizes = node?.endpointIndizes ?? [];\n\t\tsetValid(\n\t\t\tgroupExists &&\n\t\t\t\t!!node &&\n\t\t\t\t(endpoint == undefined ||\n\t\t\t\t\tendpoint === 0 ||\n\t\t\t\t\tendpointIndizes.includes(endpoint)),\n\t\t);\n\t}, [group, groups, nodeId, endpoint]);\n\n\tconst groupOptions = groups.map(({ group, label }) => ({\n\t\tvalue: group,\n\t\tlabel: `${_(\"Group\")} ${group}: ${label}`,\n\t}));\n\n\tconst nodesOptions = props.nodes.map(({ nodeId }) => ({\n\t\tvalue: nodeId,\n\t\tlabel: `${_(\"Node\")} ${padStart(nodeId.toString(), 3, \"0\")}`,\n\t}));\n\n\t// Update the source endpoint dropdown when necessary\n\tconst sourceEndpointOptions = React.useMemo(() => {\n\t\tconst newEndpointOptions: DropdownOption[] = [\n\t\t\t{ value: 0, label: _(\"Root device\") },\n\t\t];\n\t\tfor (const ep of props.endpoints) {\n\t\t\t// The source endpoint does not distinguish between no endpoint and root device\n\t\t\tif (ep === 0) continue;\n\t\t\tnewEndpointOptions.push({\n\t\t\t\tvalue: ep,\n\t\t\t\tlabel: `${_(\"Endpoint\")} ${ep}`,\n\t\t\t});\n\t\t}\n\t\treturn newEndpointOptions;\n\t}, [props.endpoints]);\n\n\t// Update the target endpoint dropdown when necessary\n\tconst targetEndpointOptions = React.useMemo(() => {\n\t\tconst endpointIndizes =\n\t\t\tprops.nodes.find((n) => n.nodeId === nodeId)?.endpointIndizes ?? [];\n\t\t// The endpoint indizes don't include the root endpoint, so we need to add it manually\n\t\tif (!endpointIndizes.includes(0)) endpointIndizes.unshift(0);\n\t\tconst groupSupportsMultiChannel = !!groups.find(\n\t\t\t(g) => g.group === group,\n\t\t)?.multiChannel;\n\t\tif (!groupSupportsMultiChannel) {\n\t\t\treturn [];\n\t\t} else {\n\t\t\tconst newEndpointOptions: DropdownOption[] = [\n\t\t\t\t{ value: \"none\", label: _(\"Root device\") },\n\t\t\t];\n\t\t\tfor (const ep of endpointIndizes) {\n\t\t\t\tnewEndpointOptions.push({\n\t\t\t\t\tvalue: ep,\n\t\t\t\t\tlabel:\n\t\t\t\t\t\tep === 0\n\t\t\t\t\t\t\t? _(\"Root endpoint\")\n\t\t\t\t\t\t\t: `${_(\"Endpoint\")} ${ep}`,\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn newEndpointOptions;\n\t\t}\n\t}, [props.nodes, groups, group, nodeId]);\n\n\tconst isNewAssociation =\n\t\tprops.sourceEndpoint == undefined &&\n\t\tprops.group == undefined &&\n\t\tprops.nodeId == undefined &&\n\t\tprops.endpoint == undefined;\n\n\tasync function saveAssociation() {\n\t\ttry {\n\t\t\tsetBusy(true);\n\t\t\tawait props.save(sourceEndpoint, group!, nodeId!, endpoint);\n\t\t\tif (isNewAssociation) resetAssociation();\n\t\t} catch (e) {\n\t\t\talert(_(`The association could not be saved!`));\n\t\t\tconsole.error(\n\t\t\t\t`The association could not be saved! Reason: ${getErrorMessage(\n\t\t\t\t\te,\n\t\t\t\t)}`,\n\t\t\t);\n\t\t\tresetAssociation();\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t}\n\t}\n\tfunction resetAssociation() {\n\t\tsetSourceEndpoint(props.sourceEndpoint);\n\t\tsetGroup(props.group);\n\t\tsetNodeId(props.nodeId);\n\t\tsetEndpoint(props.endpoint);\n\t}\n\tasync function deleteAssociation() {\n\t\tif (!props.delete) return;\n\t\ttry {\n\t\t\tsetBusy(true);\n\t\t\tawait props.delete();\n\t\t} catch (e) {\n\t\t\talert(_(`The association could not be deleted!`));\n\t\t\tconsole.error(\n\t\t\t\t`The association could not be deleted! Reason: ${getErrorMessage(\n\t\t\t\t\te,\n\t\t\t\t)}`,\n\t\t\t);\n\t\t\tresetAssociation();\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t}\n\t}\n\n\tconst currentGroup = groups.find((g) => g.group === group);\n\tconst endpointSupportsMultiChannel = groups.some((g) => g.multiChannel);\n\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<TableRow>\n\t\t\t<TableCell>\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName={classes.dropdown}\n\t\t\t\t\toptions={sourceEndpointOptions}\n\t\t\t\t\tselectedOption={sourceEndpoint ?? \"\"}\n\t\t\t\t\tplaceholder={_(\"- select endpoint -\")}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetSourceEndpoint(e.target.value as number);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName={classes.dropdown}\n\t\t\t\t\toptions={groupOptions}\n\t\t\t\t\tselectedOption={group}\n\t\t\t\t\tplaceholder={_(\"- select group -\")}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetGroup(e.target.value as number);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName={classes.dropdown}\n\t\t\t\t\toptions={nodesOptions}\n\t\t\t\t\tselectedOption={nodeId}\n\t\t\t\t\tplaceholder={_(\"- select node -\")}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetNodeId(e.target.value as number);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t{props.supportsMultiChannel && (\n\t\t\t\t<TableCell>\n\t\t\t\t\t{currentGroup?.multiChannel &&\n\t\t\t\t\t\tendpointSupportsMultiChannel && (\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tclassName={classes.dropdown}\n\t\t\t\t\t\t\t\toptions={targetEndpointOptions}\n\t\t\t\t\t\t\t\tselectedOption={endpoint ?? \"none\"}\n\t\t\t\t\t\t\t\tplaceholder={_(\"- select endpoint -\")}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\tsetEndpoint(\n\t\t\t\t\t\t\t\t\t\tvalue === \"none\"\n\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t: (value as number),\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t)}\n\t\t\t<TableCell>\n\t\t\t\t<ButtonGroup\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tstyle={{ flex: \"1 0 auto\" }}\n\t\t\t\t>\n\t\t\t\t\t<Tooltip title={_(\"Save association\")}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={isBusy || !isValid || !hasChanges}\n\t\t\t\t\t\t\tonClick={() => saveAssociation()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isNewAssociation ? <AddIcon /> : <SaveIcon />}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t<Tooltip title={_(\"Undo changes\")}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={isBusy || !hasChanges}\n\t\t\t\t\t\t\tonClick={() => resetAssociation()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RestoreIcon />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t{!isNewAssociation && (\n\t\t\t\t\t\t<Tooltip title={_(\"Delete association\")}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={isBusy}\n\t\t\t\t\t\t\t\tonClick={() => deleteAssociation()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DeleteForeverIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonGroup>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t);\n};\n", "import React from \"react\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { red, green, lightBlue } from \"@material-ui/core/colors\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport WifiIcon from \"@material-ui/icons/Wifi\";\nimport WifiOffIcon from \"@material-ui/icons/WifiOff\";\nimport DeviceUnknownIcon from \"@material-ui/icons/DeviceUnknown\";\nimport PowerSettingsNewIcon from \"@material-ui/icons/PowerSettingsNew\";\nimport type { Device } from \"../lib/useAPI\";\n\nconst useStyles = makeStyles((_theme) => ({\n\tdeviceIconAlive: {\n\t\tcolor: green[800],\n\t},\n\tdeviceIconAsleep: {\n\t\tcolor: lightBlue[500],\n\t},\n\tdeviceIconDead: {\n\t\tcolor: red[900],\n\t},\n}));\n\ninterface DeviceStatusIconProps {\n\tstatus: Device[\"status\"];\n}\n\nexport const DeviceStatusIcon: React.FC<DeviceStatusIconProps> = (props) => {\n\tconst { status } = props;\n\tconst { translate: _ } = useI18n();\n\tconst classes = useStyles();\n\n\tconst title = _(status ?? \"unknown\");\n\n\tswitch (status) {\n\t\tcase \"alive\":\n\t\tcase \"awake\":\n\t\t\treturn (\n\t\t\t\t<Tooltip title={title}>\n\t\t\t\t\t<WifiIcon className={classes.deviceIconAlive} />\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\tcase \"asleep\":\n\t\t\treturn (\n\t\t\t\t<Tooltip title={title}>\n\t\t\t\t\t<PowerSettingsNewIcon\n\t\t\t\t\t\tclassName={classes.deviceIconAsleep}\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\tcase \"dead\":\n\t\t\treturn (\n\t\t\t\t<Tooltip title={title}>\n\t\t\t\t\t<WifiOffIcon className={classes.deviceIconDead} />\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<Tooltip title={title}>\n\t\t\t\t\t<DeviceUnknownIcon />\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t}\n};\n", "import React from \"react\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport const Message: React.FC = (props) => {\n\treturn (\n\t\t<Typography variant=\"body1\" style={{ textAlign: \"center\" }}>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport const NotRunning: React.FC = () => {\n\tconst { translate: _ } = useI18n();\n\treturn <Message>{_(\"adapter not ready\")}</Message>;\n};\n\nexport const NoDevices: React.FC = () => {\n\tconst { translate: _ } = useI18n();\n\treturn <Message>{_(\"No devices present\")}</Message>;\n};\n\nexport const NodeNotReady: React.FC = () => {\n\tconst { translate: _ } = useI18n();\n\treturn <Message>{_(\"Node is not ready\")}</Message>;\n};\n", "import CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {\n\tuseAdapter,\n\tuseDialogs,\n\tuseGlobals,\n\tuseI18n,\n\tuseIoBrokerState,\n} from \"iobroker-react/hooks\";\nimport React from \"react\";\nimport {\n\tgetErrorMessage,\n\tInclusionExclusionStatus,\n\tNetworkHealStatus,\n\tPushMessage,\n} from \"../../../src/lib/shared\";\nimport {\n\tDeviceActionButtons,\n\tDeviceActionButtonsState,\n} from \"../components/DeviceActionButtons\";\nimport { DeviceTable } from \"../components/DeviceTable\";\nimport {\n\tInclusionDialog,\n\tInclusionExclusionDialogProps,\n\tInclusionExclusionStep,\n\tInclusionStrategy,\n} from \"../components/InclusionExclusionDialog\";\nimport { NotRunning } from \"../components/Messages\";\nimport { Device, useAPI } from \"../lib/useAPI\";\nimport { usePush } from \"../lib/usePush\";\nexport interface DevicesProps {\n\tdevices: Record<number, Device> | undefined;\n}\n\nexport const Devices: React.FC<DevicesProps> = (props) => {\n\tconst { devices } = props;\n\tconst { alive: adapterRunning, connected: driverReady } = useAdapter();\n\tconst { namespace } = useGlobals();\n\tconst { translate: _ } = useI18n();\n\tconst api = useAPI();\n\tconst { showNotification } = useDialogs();\n\tconst [isBusy, setBusy] = React.useState(false);\n\n\tconst [inclusion] = useIoBrokerState<boolean>({\n\t\tid: `${namespace}.info.inclusion`,\n\t\tdefaultValue: false,\n\t});\n\tconst [exclusion, , setExclusion] = useIoBrokerState<boolean>({\n\t\tid: `${namespace}.info.exclusion`,\n\t\tdefaultValue: false,\n\t});\n\tconst [healingNetwork] = useIoBrokerState<boolean>({\n\t\tid: `${namespace}.info.healingNetwork`,\n\t\tdefaultValue: false,\n\t});\n\n\tconst [networkHealProgress, setNetworkHealProgress] = React.useState<\n\t\tNonNullable<NetworkHealStatus[\"progress\"]>\n\t>({});\n\n\tconst [inclusionStatus, setInclusionStatus] =\n\t\tReact.useState<InclusionExclusionStatus>();\n\tconst [showInclusionExclusionModal, setShowInclusionExclusionModal] =\n\t\tReact.useState(false);\n\n\tconst onPush = React.useCallback(\n\t\t(payload: PushMessage) => {\n\t\t\tconsole.log(\"on push\", payload);\n\t\t\tif (payload.type === \"inclusion\") {\n\t\t\t\tsetInclusionStatus(payload.status);\n\t\t\t\t// Always show the inclusion result\n\t\t\t\tif (payload.status.type === \"done\") {\n\t\t\t\t\tsetShowInclusionExclusionModal(true);\n\t\t\t\t}\n\t\t\t} else if (payload.type === \"healing\") {\n\t\t\t\tsetNetworkHealProgress(payload.status.progress ?? {});\n\t\t\t\tif (payload.status.type === \"done\") {\n\t\t\t\t\tvoid showNotification(\n\t\t\t\t\t\t_(\"Healing the network was successful!\"),\n\t\t\t\t\t\t\"success\",\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[setInclusionStatus, setNetworkHealProgress, showNotification],\n\t);\n\tusePush(onPush);\n\n\t// Enable displaying usage statistics while the device tab is open\n\tconst [statisticsSubscribed, setStatisticsSubscribed] =\n\t\tReact.useState(false);\n\tReact.useEffect(() => {\n\t\tif (adapterRunning && driverReady && !statisticsSubscribed) {\n\t\t\tsetStatisticsSubscribed(true);\n\t\t\tvoid api.subscribeStatistics();\n\t\t}\n\t\treturn () => {\n\t\t\tif (statisticsSubscribed) {\n\t\t\t\tsetStatisticsSubscribed(false);\n\t\t\t\tvoid api.unsubscribeStatistics();\n\t\t\t}\n\t\t};\n\t}, [adapterRunning, driverReady, statisticsSubscribed]);\n\n\tasync function healNetwork() {\n\t\tif (!healingNetwork) {\n\t\t\t// start the healing progress\n\t\t\ttry {\n\t\t\t\tsetNetworkHealProgress({});\n\t\t\t\tawait api.beginHealingNetwork();\n\t\t\t} catch (e) {\n\t\t\t\tshowNotification(getErrorMessage(e), \"error\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst devicesAsArray: Device[] = [];\n\tif (devices) {\n\t\tfor (const nodeId of Object.keys(devices)) {\n\t\t\tconst device = devices[nodeId];\n\t\t\tif (device) devicesAsArray.push(device);\n\t\t}\n\t}\n\n\tasync function replaceFailedNode(nodeId: number) {\n\t\tsetInclusionStatus({\n\t\t\ttype: \"chooseReplacementStrategy\",\n\t\t\tnodeId,\n\t\t});\n\t\tsetShowInclusionExclusionModal(true);\n\t}\n\n\tconst closeDialog = React.useCallback(() => {\n\t\tsetShowInclusionExclusionModal(false);\n\t\t// avoid flicker while the modal is being hidden\n\t\tsetTimeout(() => {\n\t\t\tsetInclusionStatus(undefined);\n\t\t}, 250);\n\t}, [setShowInclusionExclusionModal, setInclusionStatus]);\n\n\t// Choose which inclusion/exclusion step to display\n\tconst inclusionExclusionDialogProps = (():\n\t\t| InclusionExclusionDialogProps\n\t\t| undefined => {\n\t\tif (exclusion) {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.ExcludeDevice,\n\t\t\t\tonCancel: () => {\n\t\t\t\t\tsetShowInclusionExclusionModal(false);\n\t\t\t\t\t// avoid flicker while the modal is being hidden\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetExclusion(false);\n\t\t\t\t\t}, 250);\n\t\t\t\t},\n\t\t\t};\n\t\t} else if (!inclusionStatus && !inclusion) {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.SelectInclusionStrategy,\n\t\t\t\tonCancel: () => setShowInclusionExclusionModal(false),\n\t\t\t\tselectStrategy: async (strategy, forceSecurity) => {\n\t\t\t\t\tif (strategy === InclusionStrategy.QRCode) {\n\t\t\t\t\t\tsetInclusionStatus({ type: \"scanQRCode\" });\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait api.beginInclusion(\n\t\t\t\t\t\t\tstrategy as any,\n\t\t\t\t\t\t\tforceSecurity,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetInclusionStatus({\n\t\t\t\t\t\t\ttype: \"waitingForDevice\",\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tshowNotification(\n\t\t\t\t\t\t\t_(\"Failed to start inclusion\"),\n\t\t\t\t\t\t\t\"error\",\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\t\t} else if (inclusionStatus?.type === \"chooseReplacementStrategy\") {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.SelectReplacementStrategy,\n\t\t\t\tonCancel: closeDialog,\n\t\t\t\tselectStrategy: async (strategy) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait api.replaceFailedNode(\n\t\t\t\t\t\t\tinclusionStatus.nodeId,\n\t\t\t\t\t\t\tstrategy as any,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetInclusionStatus({\n\t\t\t\t\t\t\ttype: \"waitingForDevice\",\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tshowNotification(\n\t\t\t\t\t\t\t_(\"Failed to start replacing the node\"),\n\t\t\t\t\t\t\t\"error\",\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\t\t} else if (inclusionStatus?.type === \"scanQRCode\") {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.QRCode,\n\t\t\t\tonScan: async (code) => {\n\t\t\t\t\tsetInclusionStatus({ type: \"busy\" });\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst result = await api.scanQRCode(code, true);\n\t\t\t\t\t\tif (result.type === \"none\") {\n\t\t\t\t\t\t\tshowNotification(\n\t\t\t\t\t\t\t\t_(\"This is not a valid Z-Wave QR code\"),\n\t\t\t\t\t\t\t\t\"warning\",\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetInclusionStatus({ type: \"scanQRCode\" });\n\t\t\t\t\t\t} else if (result.type === \"SmartStart\") {\n\t\t\t\t\t\t\tsetInclusionStatus({\n\t\t\t\t\t\t\t\ttype: \"resultMessage\",\n\t\t\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\t\t\ttitle: _(\"Added SmartStart device\"),\n\t\t\t\t\t\t\t\tmessage: (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{_(\n\t\t\t\t\t\t\t\t\t\t\t\"Successfully added SmartStart device to provisioning list.\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t{_(\n\t\t\t\t\t\t\t\t\t\t\t\"It will be included automatically when it announces itself.\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (result.type === \"S2\") {\n\t\t\t\t\t\t\tsetInclusionStatus({\n\t\t\t\t\t\t\t\ttype: \"waitingForDevice\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (result.type === \"included\") {\n\t\t\t\t\t\t\tsetInclusionStatus({\n\t\t\t\t\t\t\t\ttype: \"resultMessage\",\n\t\t\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\t\t\ttitle: _(\"Already included\"),\n\t\t\t\t\t\t\t\tmessage: _(\n\t\t\t\t\t\t\t\t\t\"The device is already included as Node %s\",\n\t\t\t\t\t\t\t\t\tresult.nodeId.toString(),\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (result.type === \"provisioned\") {\n\t\t\t\t\t\t\tsetInclusionStatus({\n\t\t\t\t\t\t\t\ttype: \"resultMessage\",\n\t\t\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\t\t\ttitle: _(\"Already provisioned\"),\n\t\t\t\t\t\t\t\tmessage: _(\n\t\t\t\t\t\t\t\t\t\"This node is already on the SmartStart provisioning list\",\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tcloseDialog();\n\t\t\t\t\t\tshowNotification(_(\"Failed to scan QR code\"), \"error\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonCancel: closeDialog,\n\t\t\t};\n\t\t} else if (\n\t\t\t!inclusionStatus ||\n\t\t\tinclusionStatus.type === \"waitingForDevice\"\n\t\t) {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.IncludeDevice,\n\t\t\t\tonCancel: () => {\n\t\t\t\t\tsetShowInclusionExclusionModal(false);\n\t\t\t\t\t// avoid flicker while the modal is being hidden\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tapi.stopInclusion();\n\t\t\t\t\t\tsetInclusionStatus(undefined);\n\t\t\t\t\t}, 250);\n\t\t\t\t},\n\t\t\t};\n\t\t} else if (inclusionStatus.type === \"busy\") {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.Busy,\n\t\t\t\tonCancel: () => {\n\t\t\t\t\t// Don't do anything here\n\t\t\t\t},\n\t\t\t};\n\t\t} else if (inclusionStatus.type === \"validateDSK\") {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.ValidateDSK,\n\t\t\t\tdsk: inclusionStatus.dsk,\n\t\t\t\tsetPIN: (pin) => {\n\t\t\t\t\tapi.validateDSK(pin);\n\t\t\t\t},\n\t\t\t\tonCancel: () => {\n\t\t\t\t\tapi.validateDSK(false);\n\t\t\t\t},\n\t\t\t};\n\t\t} else if (inclusionStatus.type === \"grantSecurityClasses\") {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.GrantSecurityClasses,\n\t\t\t\trequest: inclusionStatus.request,\n\t\t\t\tgrantSecurityClasses: (grant) => {\n\t\t\t\t\tapi.grantSecurityClasses(grant);\n\t\t\t\t},\n\t\t\t\tonCancel: () => {\n\t\t\t\t\tapi.grantSecurityClasses(false);\n\t\t\t\t},\n\t\t\t};\n\t\t} else if (inclusionStatus.type === \"done\") {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.Result,\n\t\t\t\tnodeId: inclusionStatus.nodeId,\n\t\t\t\tlowSecurity: inclusionStatus.lowSecurity,\n\t\t\t\tsecurityClass: inclusionStatus.securityClass,\n\t\t\t\tonDone: closeDialog,\n\t\t\t\tonCancel: closeDialog,\n\t\t\t};\n\t\t} else if (inclusionStatus.type === \"exclusionDone\") {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.ExclusionResult,\n\t\t\t\tnodeId: inclusionStatus.nodeId,\n\t\t\t\tonDone: closeDialog,\n\t\t\t\tonCancel: closeDialog,\n\t\t\t};\n\t\t} else if (inclusionStatus.type === \"resultMessage\") {\n\t\t\treturn {\n\t\t\t\tstep: InclusionExclusionStep.ResultMessage,\n\t\t\t\tmessage: inclusionStatus.message,\n\t\t\t\tsuccess: inclusionStatus.success,\n\t\t\t\ttitle: inclusionStatus.title,\n\t\t\t\tonDone: closeDialog,\n\t\t\t\tonCancel: closeDialog,\n\t\t\t};\n\t\t}\n\t})();\n\n\tconst isIncluding =\n\t\tinclusion ||\n\t\t(!!inclusionStatus &&\n\t\t\t!exclusion &&\n\t\t\tinclusionStatus.type !== \"exclusionDone\");\n\tconst isExcluding =\n\t\texclusion ||\n\t\t(!!inclusionStatus &&\n\t\t\t!inclusion &&\n\t\t\tinclusionStatus.type !== \"done\" &&\n\t\t\tinclusionStatus.type !== \"exclusionDone\");\n\n\tif (!adapterRunning || !driverReady) return <NotRunning />;\n\tif (!devices) return <CircularProgress />;\n\n\treturn (\n\t\t<>\n\t\t\t{/* Action buttons */}\n\t\t\t<DeviceActionButtons\n\t\t\t\tstate={\n\t\t\t\t\tisBusy\n\t\t\t\t\t\t? DeviceActionButtonsState.Busy\n\t\t\t\t\t\t: isIncluding\n\t\t\t\t\t\t? DeviceActionButtonsState.Including\n\t\t\t\t\t\t: isExcluding\n\t\t\t\t\t\t? DeviceActionButtonsState.Excluding\n\t\t\t\t\t\t: healingNetwork\n\t\t\t\t\t\t? DeviceActionButtonsState.Healing\n\t\t\t\t\t\t: DeviceActionButtonsState.Idle\n\t\t\t\t}\n\t\t\t\tbeginInclusion={() => setShowInclusionExclusionModal(true)}\n\t\t\t\tbeginExclusion={async () => {\n\t\t\t\t\tawait setExclusion(true);\n\t\t\t\t\tsetShowInclusionExclusionModal(true);\n\t\t\t\t}}\n\t\t\t\thealNetwork={healNetwork}\n\t\t\t\tcancelHealing={() => api.stopHealingNetwork()}\n\t\t\t/>\n\n\t\t\t<DeviceTable\n\t\t\t\tisBusy={isBusy || healingNetwork}\n\t\t\t\tsetBusy={setBusy}\n\t\t\t\tdevices={devicesAsArray}\n\t\t\t\thealingNetwork={healingNetwork}\n\t\t\t\tnetworkHealProgress={networkHealProgress}\n\t\t\t\treplaceFailedNode={replaceFailedNode}\n\t\t\t/>\n\n\t\t\t{/* Modal dialog for the inclusion process */}\n\t\t\t{inclusionExclusionDialogProps && (\n\t\t\t\t<InclusionDialog\n\t\t\t\t\tisOpen={showInclusionExclusionModal}\n\t\t\t\t\t{...inclusionExclusionDialogProps}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n", "import Button from \"@material-ui/core/Button\";\nimport React from \"react\";\nimport PlusIcon from \"@material-ui/icons/Add\";\nimport MinusIcon from \"@material-ui/icons/Remove\";\nimport NetworkCheckIcon from \"@material-ui/icons/NetworkCheck\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\n\ninterface DeviceActionButtonsProps {\n\tstate: DeviceActionButtonsState;\n\tbeginInclusion: () => void;\n\tbeginExclusion: () => void;\n\thealNetwork: () => void;\n\tcancelHealing: () => void;\n}\n\nexport enum DeviceActionButtonsState {\n\tIdle = 0,\n\tIncluding,\n\tExcluding,\n\tHealing,\n\tBusy,\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tgap: theme.spacing(1),\n\t},\n\tredButton: {\n\t\tbackground: theme.palette.error.main,\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.palette.error.dark,\n\t\t},\n\t},\n}));\n\nexport const DeviceActionButtons: React.FC<DeviceActionButtonsProps> = (\n\tprops,\n) => {\n\tconst { translate: _ } = useI18n();\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor={\n\t\t\t\t\tprops.state === DeviceActionButtonsState.Including\n\t\t\t\t\t\t? \"secondary\"\n\t\t\t\t\t\t: \"primary\"\n\t\t\t\t}\n\t\t\t\tstartIcon={<PlusIcon />}\n\t\t\t\tdisabled={\n\t\t\t\t\tprops.state !== DeviceActionButtonsState.Idle &&\n\t\t\t\t\tprops.state !== DeviceActionButtonsState.Including\n\t\t\t\t}\n\t\t\t\tonClick={props.beginInclusion}\n\t\t\t>\n\t\t\t\t{props.state !== DeviceActionButtonsState.Including\n\t\t\t\t\t? _(\"Include device\")\n\t\t\t\t\t: _(\"Inclusion active\")}\n\t\t\t</Button>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor={\n\t\t\t\t\tprops.state === DeviceActionButtonsState.Excluding\n\t\t\t\t\t\t? \"secondary\"\n\t\t\t\t\t\t: \"primary\"\n\t\t\t\t}\n\t\t\t\tstartIcon={<MinusIcon />}\n\t\t\t\tdisabled={\n\t\t\t\t\tprops.state !== DeviceActionButtonsState.Idle &&\n\t\t\t\t\tprops.state !== DeviceActionButtonsState.Excluding\n\t\t\t\t}\n\t\t\t\tonClick={props.beginExclusion}\n\t\t\t>\n\t\t\t\t{props.state !== DeviceActionButtonsState.Excluding\n\t\t\t\t\t? _(\"Exclude device\")\n\t\t\t\t\t: _(\"Exclusion active\")}\n\t\t\t</Button>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor={\"primary\"}\n\t\t\t\tclassName={clsx(\n\t\t\t\t\tprops.state === DeviceActionButtonsState.Healing &&\n\t\t\t\t\t\tclasses.redButton,\n\t\t\t\t)}\n\t\t\t\tstartIcon={<NetworkCheckIcon />}\n\t\t\t\tdisabled={\n\t\t\t\t\tprops.state !== DeviceActionButtonsState.Idle &&\n\t\t\t\t\tprops.state !== DeviceActionButtonsState.Healing\n\t\t\t\t}\n\t\t\t\tonClick={\n\t\t\t\t\tprops.state !== DeviceActionButtonsState.Healing\n\t\t\t\t\t\t? props.healNetwork\n\t\t\t\t\t\t: props.cancelHealing\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{props.state !== DeviceActionButtonsState.Healing\n\t\t\t\t\t? _(\"Heal network\")\n\t\t\t\t\t: _(\"Cancel healing\")}\n\t\t\t</Button>\n\t\t</div>\n\t);\n};\n", "import Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport React from \"react\";\nimport type { NetworkHealStatus } from \"../../../src/lib/shared\";\nimport type { Device } from \"../lib/useAPI\";\nimport { DeviceTableRow } from \"./DeviceTableRow\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(2),\n\t},\n\tcontainer: {\n\t\toverflowY: \"auto\",\n\t},\n\tempty: {\n\t\ttextAlign: \"center\",\n\t\tfontStyle: \"italic\",\n\t},\n}));\n\nexport interface DeviceTableProps {\n\tdevices: Device[];\n\thealingNetwork: boolean;\n\tnetworkHealProgress: NonNullable<NetworkHealStatus[\"progress\"]>;\n\tisBusy: boolean;\n\tsetBusy: (isBusy: boolean) => void;\n\treplaceFailedNode: (nodeId: number) => void;\n}\n\nexport const DeviceTable: React.FC<DeviceTableProps> = (props) => {\n\tconst { translate: _ } = useI18n();\n\n\tconst classes = useStyles();\n\tconst { devices, healingNetwork, networkHealProgress } = props;\n\n\treturn (\n\t\t<Paper className={classes.root} elevation={2}>\n\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t<Table>\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"right\">#</TableCell>\n\t\t\t\t\t\t\t<TableCell>{_(\"Name\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell>{_(\"Type\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell>{_(\"Security\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell>{_(\"Status\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell>{_(\"Statistics\")}</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{devices.length ? (\n\t\t\t\t\t\t\tdevices.map((device) => {\n\t\t\t\t\t\t\t\tconst nodeId = device.value.native.id as number;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<DeviceTableRow\n\t\t\t\t\t\t\t\t\t\tkey={`device-${nodeId}`}\n\t\t\t\t\t\t\t\t\t\tisBusy={props.isBusy}\n\t\t\t\t\t\t\t\t\t\tsetBusy={props.setBusy}\n\t\t\t\t\t\t\t\t\t\tdevice={device}\n\t\t\t\t\t\t\t\t\t\thealStatus={\n\t\t\t\t\t\t\t\t\t\t\thealingNetwork\n\t\t\t\t\t\t\t\t\t\t\t\t? networkHealProgress[nodeId]\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treplaceFailedNode={() =>\n\t\t\t\t\t\t\t\t\t\t\tprops.replaceFailedNode(nodeId)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\tcolSpan={6}\n\t\t\t\t\t\t\t\t\tclassName={classes.empty}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{_(\"No devices present\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</Paper>\n\t);\n};\n", "import Collapse from \"@material-ui/core/Collapse\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\nimport { useGlobals, useI18n, useIoBrokerState } from \"iobroker-react/hooks\";\nimport React from \"react\";\nimport type { ControllerStatistics, NodeStatistics } from \"zwave-js\";\nimport { computeDeviceId } from \"../../../src/lib/shared\";\nimport type { Device } from \"../lib/useAPI\";\nimport { ControllerActions } from \"./ControllerActions\";\nimport { DeviceSecurityIcon } from \"./DeviceSecurityIcon\";\nimport { DeviceStatisticsIndicator } from \"./DeviceStatisticsIndicator\";\nimport { DeviceStatusIcon } from \"./DeviceStatusIcon\";\nimport { HealStatusIcon } from \"./HealStatusIcon\";\nimport { NodeActions } from \"./NodeActions\";\n\nexport interface DeviceTableRowProps {\n\tdevice: Device;\n\thealStatus: any;\n\tisBusy: boolean;\n\tsetBusy: (isBusy: boolean) => void;\n\treplaceFailedNode: () => void;\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tmainRow: {\n\t\t\"& > *\": {\n\t\t\tborder: 0,\n\t\t},\n\t},\n\tcontrollerIcon: {\n\t\tfontSize: \"16px\",\n\t\tmargin: \"7px\",\n\t\tcolor: theme.palette.text.secondary,\n\t},\n\tidCell: {\n\t\tdisplay: \"flex\",\n\t\tflexFlow: \"row nowrap\",\n\t\t// justifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t},\n\texpanderCell: {\n\t\tpaddingBottom: 0,\n\t\tpaddingTop: 0,\n\t\tbackground: theme.palette.background.default,\n\t},\n}));\n\nexport const DeviceTableRow: React.FC<DeviceTableRowProps> = (props) => {\n\tconst { healStatus, device } = props;\n\n\tconst { value, status } = device;\n\tconst nodeId = value.native.id as number;\n\tconst supportsFirmwareUpdate = !!value.native.supportsFirmwareUpdate;\n\tconst { secure, securityClasses, isControllerNode } = value.native;\n\n\tconst [open, setOpen] = React.useState(isControllerNode);\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\n\tconst { namespace } = useGlobals();\n\tconst [stringifiedStatistics] = useIoBrokerState<string>({\n\t\tid: isControllerNode\n\t\t\t? `${namespace}.info.statistics`\n\t\t\t: `${namespace}.${computeDeviceId(nodeId)}.info.statistics`,\n\t});\n\tconst [statistics, setStatistics] = React.useState<\n\t\tControllerStatistics | NodeStatistics\n\t>();\n\tReact.useEffect(() => {\n\t\tif (stringifiedStatistics) {\n\t\t\ttry {\n\t\t\t\tconst parsed = JSON.parse(stringifiedStatistics);\n\t\t\t\tsetStatistics(parsed);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}\n\t}, [stringifiedStatistics]);\n\n\treturn (\n\t\t<>\n\t\t\t<TableRow hover className={classes.mainRow}>\n\t\t\t\t<TableCell className={classes.idCell}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\taria-label=\"expand row\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={() => setOpen(!open)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{open ? (\n\t\t\t\t\t\t\t<KeyboardArrowUpIcon />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<KeyboardArrowDownIcon />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t<span style={{ marginLeft: \"auto\" }}>{nodeId}</span>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>{value.common.name}</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{(value.native as any).type.specific ??\n\t\t\t\t\t\t(value.native as any).type.generic ??\n\t\t\t\t\t\t_(\"unknown\")}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{secure && securityClasses && (\n\t\t\t\t\t\t<DeviceSecurityIcon securityClasses={securityClasses} />\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{isControllerNode ? (\n\t\t\t\t\t\t<Tooltip title={_(\"Controller node\")}>\n\t\t\t\t\t\t\t<HomeIcon />\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{/* Whether the device is reachable */}\n\t\t\t\t\t\t\t<DeviceStatusIcon status={status} />\n\t\t\t\t\t\t\t{/* While healing the network also show the current progress */}\n\t\t\t\t\t\t\t{!!healStatus && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t<HealStatusIcon status={props.healStatus} />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<DeviceStatisticsIndicator\n\t\t\t\t\t\ttype={isControllerNode ? \"controller\" : \"node\"}\n\t\t\t\t\t\tstatistics={statistics as any}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell colSpan={6} className={classes.expanderCell}>\n\t\t\t\t\t<Collapse in={open} timeout=\"auto\" unmountOnExit>\n\t\t\t\t\t\t{isControllerNode ? (\n\t\t\t\t\t\t\t<ControllerActions\n\t\t\t\t\t\t\t\tisBusy={props.isBusy}\n\t\t\t\t\t\t\t\tsetBusy={props.setBusy}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<NodeActions\n\t\t\t\t\t\t\t\tnodeId={nodeId}\n\t\t\t\t\t\t\t\tstatus={status}\n\t\t\t\t\t\t\t\tisBusy={props.isBusy}\n\t\t\t\t\t\t\t\tsetBusy={props.setBusy}\n\t\t\t\t\t\t\t\tsupportsFirmwareUpdate={supportsFirmwareUpdate}\n\t\t\t\t\t\t\t\treplaceFailedNode={props.replaceFailedNode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Collapse>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n", "import Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { useAPI } from \"../lib/useAPI\";\nimport {\n\tuseDialogs,\n\tuseGlobals,\n\tuseI18n,\n\tuseIoBrokerObject,\n\tuseIoBrokerState,\n} from \"iobroker-react/hooks\";\nimport { Typography } from \"@material-ui/core\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport RestorePageIcon from \"@material-ui/icons/RestorePage\";\nimport PowerSettingsNewIcon from \"@material-ui/icons/PowerSettingsNew\";\nimport LanguageIcon from \"@material-ui/icons/Language\";\nimport { getErrorMessage } from \"../../../src/lib/shared\";\nimport type { RFRegion } from \"zwave-js\";\nimport { SetRFRegionDialog } from \"./SetRFRegionDialog\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tpadding: theme.spacing(2, 0),\n\t\tdisplay: \"grid\",\n\t\tgridTemplateColumns: \"minmax(auto, 300px) 1fr\",\n\t\talignItems: \"center\",\n\t\tcolumnGap: theme.spacing(4),\n\t\trowGap: theme.spacing(2),\n\t},\n\tredButton: {\n\t\tbackground: theme.palette.error.main,\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.palette.error.dark,\n\t\t},\n\t},\n}));\n\nexport interface ControllerActionsProps {\n\tisBusy: boolean;\n\tsetBusy: (isBusy: boolean) => void;\n}\n\nexport const ControllerActions: React.FC<ControllerActionsProps> = (props) => {\n\tconst { isBusy, setBusy } = props;\n\tconst { namespace } = useGlobals();\n\tconst api = useAPI();\n\tconst { translate: _ } = useI18n();\n\tconst { showModal, showNotification } = useDialogs();\n\n\t// Handle changing regions\n\tconst [showSetRFRegionDialog, setShowSetRFRegionDialog] =\n\t\tReact.useState(false);\n\tconst [rfRegionObject] = useIoBrokerObject(`${namespace}.info.rfRegion`, {\n\t\tsubscribe: false,\n\t});\n\tconst [rfRegion] = useIoBrokerState<RFRegion>({\n\t\tid: `${namespace}.info.rfRegion`,\n\t});\n\tconst setRFRegion = React.useCallback(\n\t\t(region: RFRegion) => {\n\t\t\tif (isBusy) return;\n\t\t\tsetBusy(true);\n\t\t\tapi.setRFRegion(region).finally(() => setBusy(false));\n\t\t},\n\t\t[api, isBusy, setBusy],\n\t);\n\n\t// Handle soft reset\n\tconst softReset = React.useCallback(() => {\n\t\tif (isBusy) return;\n\t\tsetBusy(true);\n\t\tapi.softReset().finally(() => setBusy(false));\n\t}, [api, isBusy, setBusy]);\n\n\tconst clearCache = React.useCallback(async () => {\n\t\tif (isBusy) return;\n\n\t\ttry {\n\t\t\tconst result = await showModal(\n\t\t\t\t_(\"Re-interview all?\"),\n\t\t\t\t_(\"clear cache procedure\"),\n\t\t\t);\n\t\t\tif (!result) return;\n\t\t\tsetBusy(true);\n\t\t\tawait api.clearCache();\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetBusy(false);\n\t\t\t}, 1000);\n\t\t} catch (e) {\n\t\t\tshowNotification(getErrorMessage(e), \"error\");\n\t\t\treturn;\n\t\t}\n\t}, [api, isBusy, showModal, showNotification]);\n\n\tconst hardReset = React.useCallback(async () => {\n\t\tif (isBusy) return;\n\n\t\ttry {\n\t\t\tconst result = await showModal(\n\t\t\t\t_(\"Factory reset?\"),\n\t\t\t\t_(\"factory reset procedure\"),\n\t\t\t);\n\t\t\tif (!result) return;\n\n\t\t\tsetBusy(true);\n\t\t\tawait api.hardReset();\n\t\t\tsetBusy(false);\n\n\t\t\tawait showModal(\n\t\t\t\t_(\"Factory reset successful\"),\n\t\t\t\t_(\"The adapter will now restart.\"),\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tshowNotification(getErrorMessage(e), \"error\");\n\t\t\treturn;\n\t\t}\n\t}, [api, isBusy, showModal, showNotification]);\n\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Button\n\t\t\t\tdisabled={isBusy}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={softReset}\n\t\t\t\tstartIcon={<PowerSettingsNewIcon />}\n\t\t\t>\n\t\t\t\t{_(\"Soft reset\")}\n\t\t\t</Button>\n\t\t\t<Typography variant=\"body2\">\n\t\t\t\t{_(\"Restart the controller, e.g. when it hangs\")}\n\t\t\t</Typography>\n\n\t\t\t<Button\n\t\t\t\tdisabled={isBusy}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={clearCache}\n\t\t\t\tstartIcon={<RestorePageIcon />}\n\t\t\t>\n\t\t\t\t{_(\"Re-interview all\")}\n\t\t\t</Button>\n\t\t\t<Typography variant=\"body2\">\n\t\t\t\t{_(\n\t\t\t\t\t\"Forget all information about all nodes and re-interview them. Battery-powered nodes might need to be woken up manually.\",\n\t\t\t\t)}\n\t\t\t</Typography>\n\n\t\t\t<Button\n\t\t\t\tdisabled={isBusy || rfRegion == undefined}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={() => setShowSetRFRegionDialog(true)}\n\t\t\t\tstartIcon={<LanguageIcon />}\n\t\t\t>\n\t\t\t\t{_(\"Set RF Region\")}\n\t\t\t</Button>\n\t\t\t<Typography variant=\"body2\">\n\t\t\t\t{_(\n\t\t\t\t\t\"Configure the region and radio frequencies of the controller.\",\n\t\t\t\t)}\n\t\t\t</Typography>\n\n\t\t\t<Button\n\t\t\t\tclassName={classes.redButton}\n\t\t\t\tdisabled={isBusy}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tonClick={hardReset}\n\t\t\t\tstartIcon={<DeleteForeverIcon />}\n\t\t\t>\n\t\t\t\t{_(\"Factory reset\")}\n\t\t\t</Button>\n\t\t\t<Typography variant=\"body2\">\n\t\t\t\t{_(\n\t\t\t\t\t\"Wipes all configuration of the controller. All connected nodes will be orphaned and have to be reset and included into the new network before they can be used again.\",\n\t\t\t\t)}\n\t\t\t</Typography>\n\n\t\t\t{/* Modal dialog to change the RF region*/}\n\t\t\t{rfRegionObject && rfRegion != undefined && (\n\t\t\t\t<SetRFRegionDialog\n\t\t\t\t\topen={showSetRFRegionDialog}\n\t\t\t\t\tonCancel={() => setShowSetRFRegionDialog(false)}\n\t\t\t\t\tonConfirm={(region) => {\n\t\t\t\t\t\tsetRFRegion(region);\n\t\t\t\t\t\tsetShowSetRFRegionDialog(false);\n\t\t\t\t\t}}\n\t\t\t\t\tregion={rfRegion}\n\t\t\t\t\tregions={(rfRegionObject as any).common.states ?? {}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n", "import React from \"react\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport type { RFRegion } from \"zwave-js\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { Dropdown } from \"iobroker-react/components\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nexport interface SetRFRegionDialogContentProps {\n\topen: boolean;\n\tregion: RFRegion;\n\tregions: Record<string, string>;\n\tonCancel: () => void;\n\tonConfirm: (region: RFRegion) => void;\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexFlow: \"column\",\n\t\tmaxWidth: 400,\n\t\tgap: theme.spacing(2),\n\t},\n}));\n\nexport const SetRFRegionDialog: React.FC<SetRFRegionDialogContentProps> = (\n\tprops,\n) => {\n\tconst { translate: _ } = useI18n();\n\n\tconst classes = useStyles();\n\n\tconst [region, setRegion] = React.useState<RFRegion>(props.region);\n\n\tconst options = React.useMemo(() => {\n\t\treturn Object.entries(props.regions).map(([key, value]) => ({\n\t\t\tvalue: key,\n\t\t\tlabel: value,\n\t\t}));\n\t}, [props.regions]);\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onCancel} maxWidth={false}>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t{_(\"Set RF Region\")}\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent className={classes.root}>\n\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t{_(\n\t\t\t\t\t\t\"Select the correct region for where you are. Using a different region may be illegal.\",\n\t\t\t\t\t)}\n\t\t\t\t</Typography>\n\t\t\t\t<Dropdown\n\t\t\t\t\tselectedOption={region}\n\t\t\t\t\toptions={options}\n\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\tsetRegion(parseInt(event.target.value as string))\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t{_(\n\t\t\t\t\t\t\"Note: Applying a different region might take a few seconds.\",\n\t\t\t\t\t)}\n\t\t\t\t</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={props.region === region}\n\t\t\t\t\tonClick={() => props.onConfirm(region)}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{_(\"OK\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={props.onCancel} color=\"primary\">\n\t\t\t\t\t{_(\"Cancel\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n", "import React from \"react\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { green, blue, grey, amber, deepPurple } from \"@material-ui/core/colors\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport NoEncryptionIcon from \"@material-ui/icons/NoEncryption\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((_theme) => ({\n\troot: {\n\t\tdisplay: \"grid\",\n\t\tgridTemplateColumns: \"repeat(4, 16px)\",\n\t\tgridTemplateRows: \"16px\",\n\t},\n\tsecurityIcon: {\n\t\tfontSize: \"16px\",\n\t\tcolor: grey[200],\n\t},\n\tS2_AccessControl: {\n\t\tcolor: green[800],\n\t},\n\tS2_Authenticated: {\n\t\tcolor: blue[900],\n\t},\n\tS2_Unauthenticated: {\n\t\tcolor: deepPurple[500],\n\t},\n\tS0_Legacy: {\n\t\tcolor: amber[800],\n\t},\n}));\n\ninterface SecurityClassIconProps {\n\ttitle: string;\n\tclassName: string;\n\tsupported: boolean;\n\tgranted: boolean;\n}\n\nconst SecurityClassIcon: React.FC<SecurityClassIconProps> = (props) => {\n\tconst classes = useStyles();\n\n\tconst Icon = props.granted ? LockIcon : NoEncryptionIcon;\n\n\treturn props.supported ? (\n\t\t<Tooltip title={`${props.title}: ${props.granted ? \"\u2714\" : \"\u2718\"}`}>\n\t\t\t<Icon\n\t\t\t\tclassName={clsx(\n\t\t\t\t\tclasses.securityIcon,\n\t\t\t\t\tprops.granted && classes[props.className],\n\t\t\t\t)}\n\t\t\t/>\n\t\t</Tooltip>\n\t) : (\n\t\t<span></span>\n\t);\n};\n\ninterface DeviceSecurityIconProps {\n\tsecurityClasses: Record<number, boolean>;\n}\n\nconst secClassDefinitions = [\n\t[\"S2_AccessControl\", \"S2 Access Control\"],\n\t[\"S2_Authenticated\", \"S2 Authenticated\"],\n\t[\"S2_Unauthenticated\", \"S2 Unauthenticated\"],\n\t[\"S0_Legacy\", \"S0 Legacy\"],\n] as const;\n\nexport const DeviceSecurityIcon: React.FC<DeviceSecurityIconProps> = (\n\tprops,\n) => {\n\tconst classes = useStyles();\n\tconst { securityClasses } = props;\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t{secClassDefinitions.map(([className, title]) => (\n\t\t\t\t<SecurityClassIcon\n\t\t\t\t\tkey={className}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tclassName={className}\n\t\t\t\t\tsupported={className in securityClasses}\n\t\t\t\t\tgranted={securityClasses[className] === true}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n", "import { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport type { ControllerStatistics, NodeStatistics } from \"zwave-js\";\nimport {\n\tControllerStatisticsTooltip,\n\tNodeStatisticsTooltip,\n} from \"./NodeStatisticsTooltip\";\nimport clsx from \"clsx\";\nimport { red, green } from \"@material-ui/core/colors\";\n\ntype Status = \"active\" | \"error\";\n\nconst useStyles = makeStyles((_theme) => ({\n\troot: {},\n\tarrow: {\n\t\ttransition: \"fill 0.5s ease-out, filter 0.5s ease-out\",\n\t},\n\tlArrow: {\n\t\tmarginLeft: \"-24px\",\n\t},\n\terror: {\n\t\tfill: red[800],\n\t\tfilter: `\n\t\t\tdrop-shadow(0 0 10px ${red[300]})\n\t\t\tdrop-shadow(0 0 5px ${red[300]})\n\t\t\tdrop-shadow(0 0 1px rgba(255,255,255,0.1))\n\t\t`,\n\t\ttransitionDuration: \"0.05s\",\n\t},\n\tactive: {\n\t\tfill: green[800],\n\t\tfilter: `\n\t\t\tdrop-shadow(0 0 10px ${green[300]})\n\t\t\tdrop-shadow(0 0 5px ${green[300]})\n\t\t\tdrop-shadow(0 0 1px rgba(255,255,255,0.1))\n\t\t`,\n\t\ttransitionDuration: \"0.05s\",\n\t},\n}));\n\nexport type DeviceStatisticsIndicatorProps =\n\t| {\n\t\t\ttype: \"controller\";\n\t\t\tstatistics?: ControllerStatistics;\n\t  }\n\t| {\n\t\t\ttype: \"node\";\n\t\t\tstatistics?: NodeStatistics;\n\t  };\n\nconst ArrowUp: React.FC<{ status?: Status }> = (props) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<svg\n\t\t\tclassName={clsx(\n\t\t\t\t\"MuiSvgIcon-root\",\n\t\t\t\tclasses.arrow,\n\t\t\t\tprops.status && classes[props.status],\n\t\t\t)}\n\t\t\tfocusable=\"false\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<path d=\"M9 3 5 6.99h3V14h2V6.99h3L9 3z\"></path>\n\t\t</svg>\n\t);\n};\n\nconst ArrowDown: React.FC<{ status?: Status }> = (props) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<svg\n\t\t\tclassName={clsx(\n\t\t\t\t\"MuiSvgIcon-root\",\n\t\t\t\tclasses.arrow,\n\t\t\t\tclasses.lArrow,\n\t\t\t\tprops.status && classes[props.status],\n\t\t\t)}\n\t\t\tfocusable=\"false\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<path d=\"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3z\"></path>\n\t\t</svg>\n\t);\n};\n\nexport const DeviceStatisticsIndicator: React.FC<DeviceStatisticsIndicatorProps> =\n\t(props) => {\n\t\tconst [prevStats, setPrevStats] =\n\t\t\tReact.useState<typeof props[\"statistics\"]>();\n\t\tconst [txStatus, setTxStatus] = React.useState<Status>();\n\t\tconst [rxStatus, setRxStatus] = React.useState<Status>();\n\n\t\tReact.useEffect(() => {\n\t\t\tif (prevStats != undefined && props.statistics != undefined) {\n\t\t\t\tif (props.type === \"controller\") {\n\t\t\t\t\tconst prev = prevStats as ControllerStatistics;\n\t\t\t\t\tconst cur = props.statistics;\n\n\t\t\t\t\t// Check for changes on the TX side\n\t\t\t\t\tif (\n\t\t\t\t\t\tprev.NAK < cur.NAK ||\n\t\t\t\t\t\tprev.messagesDroppedTX < cur.messagesDroppedTX ||\n\t\t\t\t\t\tprev.timeoutACK < cur.timeoutACK ||\n\t\t\t\t\t\tprev.timeoutResponse < cur.timeoutResponse ||\n\t\t\t\t\t\tprev.timeoutCallback < cur.timeoutCallback\n\t\t\t\t\t) {\n\t\t\t\t\t\t//There was an error transmitting\n\t\t\t\t\t\tsetTxStatus(\"error\");\n\t\t\t\t\t} else if (prev.messagesTX < cur.messagesTX) {\n\t\t\t\t\t\t// A message was sent\n\t\t\t\t\t\tsetTxStatus(\"active\");\n\t\t\t\t\t}\n\n\t\t\t\t\t// Check for changes on the RX side\n\t\t\t\t\tif (prev.messagesDroppedRX < cur.messagesDroppedRX) {\n\t\t\t\t\t\t//There was an error transmitting\n\t\t\t\t\t\tsetRxStatus(\"error\");\n\t\t\t\t\t} else if (prev.messagesRX < cur.messagesRX) {\n\t\t\t\t\t\t// A message was sent\n\t\t\t\t\t\tsetRxStatus(\"active\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst prev = prevStats as NodeStatistics;\n\t\t\t\t\tconst cur = props.statistics as NodeStatistics;\n\n\t\t\t\t\t// Check for changes on the TX side\n\t\t\t\t\tif (\n\t\t\t\t\t\tprev.commandsDroppedTX < cur.commandsDroppedTX ||\n\t\t\t\t\t\tprev.timeoutResponse < cur.timeoutResponse\n\t\t\t\t\t) {\n\t\t\t\t\t\t//There was an error transmitting\n\t\t\t\t\t\tsetTxStatus(\"error\");\n\t\t\t\t\t} else if (prev.commandsTX < cur.commandsTX) {\n\t\t\t\t\t\t// A message was sent\n\t\t\t\t\t\tsetTxStatus(\"active\");\n\t\t\t\t\t}\n\n\t\t\t\t\t// Check for changes on the RX side\n\t\t\t\t\tif (prev.commandsDroppedRX < cur.commandsDroppedRX) {\n\t\t\t\t\t\t//There was an error transmitting\n\t\t\t\t\t\tsetRxStatus(\"error\");\n\t\t\t\t\t} else if (prev.commandsRX < cur.commandsRX) {\n\t\t\t\t\t\t// A message was sent\n\t\t\t\t\t\tsetRxStatus(\"active\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetPrevStats(props.statistics);\n\t\t}, [props.statistics, setTxStatus, setRxStatus, prevStats]);\n\n\t\t// Reset the status after 0.5 seconds when the statistics haven't been changed since then\n\t\tReact.useEffect(() => {\n\t\t\tconst timeout = setTimeout(() => {\n\t\t\t\tsetTxStatus(undefined);\n\t\t\t\tsetRxStatus(undefined);\n\t\t\t}, 500);\n\t\t\treturn () => clearTimeout(timeout);\n\t\t}, [setTxStatus, setRxStatus, props.statistics]);\n\n\t\tif (props.type === \"controller\") {\n\t\t\treturn (\n\t\t\t\t<ControllerStatisticsTooltip statistics={props.statistics}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ArrowUp status={txStatus} />\n\t\t\t\t\t\t<ArrowDown status={rxStatus} />\n\t\t\t\t\t</span>\n\t\t\t\t</ControllerStatisticsTooltip>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<NodeStatisticsTooltip statistics={props.statistics}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ArrowUp status={txStatus} />\n\t\t\t\t\t\t<ArrowDown status={rxStatus} />\n\t\t\t\t\t</span>\n\t\t\t\t</NodeStatisticsTooltip>\n\t\t\t);\n\t\t}\n\t};\n", "import { makeStyles } from \"@material-ui/core/styles\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport React from \"react\";\nimport type { ControllerStatistics, NodeStatistics } from \"zwave-js\";\nimport Tooltip, { TooltipProps } from \"@material-ui/core/Tooltip\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) => ({\n\ttooltip: {\n\t\tborder: `1px solid ${theme.palette.divider}`,\n\t\tbackgroundColor: theme.palette.common.white,\n\t\tboxShadow: theme.shadows[1],\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: 12,\n\t},\n\tarrow: {\n\t\t\"&::before\": {\n\t\t\tborder: `1px solid ${theme.palette.divider}`,\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tboxSizing: \"border-box\",\n\t\t},\n\t},\n\troot: {\n\t\tdisplay: \"grid\",\n\t\tgridTemplateColumns: \"auto auto\",\n\t\tgridGap: theme.spacing(0, 1),\n\t},\n\tbad: {\n\t\tcolor: theme.palette.error.main,\n\t\tfontWeight: \"bold\",\n\t},\n}));\n\nconst BaseStatisticsTooltip: React.FC<TooltipProps> = (props) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tarrow: classes.arrow,\n\t\t\t}}\n\t\t\t{...props}\n\t\t/>\n\t);\n};\n\nexport interface NodeStatisticsTooltipProps {\n\tstatistics: NodeStatistics | undefined;\n\tchildren: TooltipProps[\"children\"];\n}\n\nexport const NodeStatisticsTooltip: React.FC<NodeStatisticsTooltipProps> = (\n\tprops,\n) => {\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\n\tconst s = props.statistics ?? {\n\t\tcommandsRX: 0,\n\t\tcommandsTX: 0,\n\t\tcommandsDroppedRX: 0,\n\t\tcommandsDroppedTX: 0,\n\t\ttimeoutResponse: 0,\n\t};\n\n\treturn (\n\t\t<BaseStatisticsTooltip\n\t\t\ttitle={\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<b>{_(\"sent\")}:</b>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{s.commandsTX}\n\t\t\t\t\t\t{s.commandsDroppedTX > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t<span className={classes.bad}>\n\t\t\t\t\t\t\t\t\t({s.commandsDroppedTX} {_(\"dropped\")})\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<b>{_(\"received\")}:</b>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{s.commandsRX}\n\t\t\t\t\t\t{s.commandsDroppedRX > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t<span className={classes.bad}>\n\t\t\t\t\t\t\t\t\t({s.commandsDroppedRX} {_(\"dropped\")})\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<b>{_(\"timeouts\")}:</b>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\ts.timeoutResponse > 0 ? classes.bad : undefined,\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{s.timeoutResponse}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t}\n\t\t>\n\t\t\t{props.children}\n\t\t</BaseStatisticsTooltip>\n\t);\n};\n\nexport interface ControllerStatisticsTooltipProps {\n\tstatistics: ControllerStatistics | undefined;\n\tchildren: TooltipProps[\"children\"];\n}\n\nexport const ControllerStatisticsTooltip: React.FC<ControllerStatisticsTooltipProps> =\n\t(props) => {\n\t\tconst classes = useStyles();\n\t\tconst { translate: _ } = useI18n();\n\n\t\tconst s = props.statistics ?? {\n\t\t\tCAN: 0,\n\t\t\tNAK: 0,\n\t\t\tmessagesDroppedRX: 0,\n\t\t\tmessagesDroppedTX: 0,\n\t\t\tmessagesRX: 0,\n\t\t\tmessagesTX: 0,\n\t\t\ttimeoutACK: 0,\n\t\t\ttimeoutCallback: 0,\n\t\t\ttimeoutResponse: 0,\n\t\t};\n\n\t\treturn (\n\t\t\t<BaseStatisticsTooltip\n\t\t\t\ttitle={\n\t\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t\t<b>{_(\"sent\")}:</b>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{s.messagesTX}\n\t\t\t\t\t\t\t{s.messagesDroppedTX > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t<span className={classes.bad}>\n\t\t\t\t\t\t\t\t\t\t({s.messagesDroppedTX} {_(\"dropped\")})\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<b>{_(\"received\")}:</b>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{s.messagesRX}\n\t\t\t\t\t\t\t{s.messagesDroppedRX > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t<span className={classes.bad}>\n\t\t\t\t\t\t\t\t\t\t({s.messagesDroppedRX} {_(\"dropped\")})\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<b>{_(\"timeouts\")}:</b>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tACK:{\" \"}\n\t\t\t\t\t\t\t<span className={classes.bad}>{s.timeoutACK}</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tRES:{\" \"}\n\t\t\t\t\t\t\t<span className={classes.bad}>\n\t\t\t\t\t\t\t\t{s.timeoutResponse}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tCB:{\" \"}\n\t\t\t\t\t\t\t<span className={classes.bad}>\n\t\t\t\t\t\t\t\t{s.timeoutCallback}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<b>{_(\"collisions\")}:</b>\n\t\t\t\t\t\t<span>{s.CAN}</span>\n\n\t\t\t\t\t\t<b>{_(\"corrupt\")}:</b>\n\t\t\t\t\t\t<span className={classes.bad}>{s.NAK}</span>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t</BaseStatisticsTooltip>\n\t\t);\n\t};\n", "import React from \"react\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport RedoIcon from \"@material-ui/icons/Redo\";\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\nimport AutoRenewIcon from \"@material-ui/icons/Autorenew\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { blue, red, orange, green } from \"@material-ui/core/colors\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((_theme) => ({\n\thealIconPending: {\n\t\tcolor: blue[500],\n\t\tanimation: \"$rotation 1.5s infinite ease-in-out\",\n\t\tanimationFillMode: \"forwards\",\n\t},\n\thealIconFailed: {\n\t\tcolor: red[500],\n\t},\n\thealIconSkipped: {\n\t\tcolor: orange[800],\n\t},\n\thealIconDone: {\n\t\tcolor: green[900],\n\t},\n\n\t\"@keyframes rotation\": {\n\t\t\"0%\": {\n\t\t\ttransform: \"rotate(0deg)\",\n\t\t},\n\t\t\"95%\": {\n\t\t\ttransform: \"rotate(720deg)\",\n\t\t\tanimationFillMode: \"none\",\n\t\t},\n\t\t\"95.1%\": {\n\t\t\ttransform: \"rotate(0deg)\",\n\t\t},\n\t},\n}));\n\ninterface HealStatusIconProps {\n\tstatus: \"pending\" | \"failed\" | \"skipped\" | \"done\";\n}\n\nexport const HealStatusIcon: React.FC<HealStatusIconProps> = (props) => {\n\tconst { status } = props;\n\tconst { translate: _ } = useI18n();\n\tconst classes = useStyles();\n\tswitch (status) {\n\t\tcase \"done\":\n\t\t\treturn (\n\t\t\t\t<Tooltip title={_(\"done\")}>\n\t\t\t\t\t<DoneIcon className={classes.healIconDone} />\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\tcase \"skipped\":\n\t\t\treturn (\n\t\t\t\t<Tooltip title={_(\"skipped\")}>\n\t\t\t\t\t<RedoIcon className={classes.healIconSkipped} />\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\tcase \"failed\":\n\t\t\treturn (\n\t\t\t\t<Tooltip title={_(\"failed\")}>\n\t\t\t\t\t<ErrorOutlineIcon className={classes.healIconFailed} />\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\tcase \"pending\":\n\t\t\treturn (\n\t\t\t\t<Tooltip title={_(\"pending\")}>\n\t\t\t\t\t<AutoRenewIcon className={classes.healIconPending} />\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t}\n\tthrow new Error(\"Unknown heal status\");\n};\n", "import Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport React from \"react\";\nimport type { FirmwareUpdateProgress } from \"../../../src/lib/shared\";\nimport { useAPI } from \"../lib/useAPI\";\nimport { useDialogs, useI18n } from \"iobroker-react/hooks\";\nimport PublishIcon from \"@material-ui/icons/Publish\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport RestorePageIcon from \"@material-ui/icons/RestorePage\";\nimport { usePush } from \"../lib/usePush\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport clsx from \"clsx\";\nimport MemoryIcon from \"@material-ui/icons/Memory\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport SwapHorizIcon from \"@material-ui/icons/SwapHoriz\";\n\nexport interface NodeActionsProps {\n\tnodeId: number;\n\tstatus: string | undefined;\n\tisBusy: boolean;\n\tsetBusy: (isBusy: boolean) => void;\n\treplaceFailedNode: () => void;\n\tsupportsFirmwareUpdate: boolean;\n}\n\ninterface LoadedFile {\n\tname: string;\n\tdata: Uint8Array;\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tpadding: theme.spacing(2, 0),\n\t\tdisplay: \"grid\",\n\t\tgridTemplateColumns: \"minmax(auto, 300px) 1fr\",\n\t\talignItems: \"center\",\n\t\tcolumnGap: theme.spacing(4),\n\t\trowGap: theme.spacing(2),\n\t},\n\tfirmwareUpdate: {\n\t\tgridColumn: \"1 / span 2\",\n\t\tdisplay: \"flex\",\n\t\tflexFlow: \"row nowrap\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tmarginTop: theme.spacing(4),\n\t},\n\tfirmwareUpdateMessage: {\n\t\tgridColumn: \"1 / span 2\",\n\t},\n\twarning: {\n\t\tcolor: theme.palette.warning.main,\n\t},\n\tredButton: {\n\t\tbackground: theme.palette.error.main,\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.palette.error.dark,\n\t\t},\n\t},\n}));\n\nexport const NodeActions: React.FC<NodeActionsProps> = (props) => {\n\tconst [loadedFile, setLoadedFile] = React.useState<LoadedFile>();\n\tconst [firmwareUpdateActive, setFirmwareUpdateActive] =\n\t\tReact.useState(false);\n\tconst [firmwareUpdateStatus, setFirmwareUpdateStatus] =\n\t\tReact.useState<FirmwareUpdateProgress>();\n\tconst [message, setMessage] = React.useState<string>();\n\n\tconst input = React.useRef<HTMLInputElement>();\n\n\tconst api = useAPI();\n\tconst { nodeId, isBusy, setBusy, supportsFirmwareUpdate } = props;\n\tconst { translate: _ } = useI18n();\n\n\tconst { showNotification, showModal } = useDialogs();\n\n\t// It can happen that the controller does not react to commands for a failed node,\n\t// so the status won't change. We need to allow removing the node in this case too,\n\t// so just forbid removing alive or awake nodes\n\tconst isNodeFailed = props.status !== \"alive\" && props.status !== \"awake\";\n\n\tasync function removeNode() {\n\t\tconst result = await showModal(\n\t\t\t_(\"Remove node?\"),\n\t\t\t_(\"Do you really want to remove this node from the network?\"),\n\t\t);\n\t\tif (!result) return;\n\n\t\tsetBusy(true);\n\t\ttry {\n\t\t\tawait api.removeFailedNode(nodeId);\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t}\n\t}\n\n\tasync function replaceNode() {\n\t\tconst result = await showModal(\n\t\t\t_(\"Replace node?\"),\n\t\t\t_(\"Do you really want to replace this node?\"),\n\t\t);\n\t\tif (result) props.replaceFailedNode();\n\t}\n\n\tasync function refreshInfo() {\n\t\tsetBusy(true);\n\t\ttry {\n\t\t\tawait api.refreshNodeInfo(nodeId);\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t}\n\t}\n\n\tconst loadFirmware = () => {\n\t\tinput.current?.click();\n\t};\n\tconst selectFirmware = async (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (e.target.files?.length) {\n\t\t\tconst file = e.target.files[0];\n\t\t\tconst data = new Uint8Array(await file.arrayBuffer());\n\t\t\tsetLoadedFile({\n\t\t\t\tname: file.name,\n\t\t\t\tdata,\n\t\t\t});\n\t\t}\n\t};\n\tasync function beginFirmwareUpdate() {\n\t\tif (supportsFirmwareUpdate && loadedFile?.data) {\n\t\t\tsetBusy(true);\n\t\t\ttry {\n\t\t\t\tsetFirmwareUpdateActive(true);\n\t\t\t\tsetFirmwareUpdateStatus({\n\t\t\t\t\ttype: \"progress\",\n\t\t\t\t\tsentFragments: 0,\n\t\t\t\t\ttotalFragments: 1,\n\t\t\t\t});\n\t\t\t\tawait api.beginFirmwareUpdate(\n\t\t\t\t\tnodeId,\n\t\t\t\t\tloadedFile.name,\n\t\t\t\t\tArray.from(loadedFile.data),\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\tsetFirmwareUpdateActive(false);\n\t\t\t\talert(e);\n\t\t\t} finally {\n\t\t\t\tsetBusy(false);\n\t\t\t\tsetMessage(undefined);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function abortFirmwareUpdate() {\n\t\tsetBusy(true);\n\t\ttry {\n\t\t\tawait api.abortFirmwareUpdate(nodeId);\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t\tsetFirmwareUpdateActive(false);\n\t\t}\n\t}\n\n\tusePush((payload) => {\n\t\tif (payload.type === \"firmwareUpdate\") {\n\t\t\tconst progress = payload.progress;\n\t\t\tsetFirmwareUpdateStatus(progress);\n\n\t\t\tif (progress.type === \"done\") {\n\t\t\t\tconst success =\n\t\t\t\t\tprogress.status! >= 0xfd; /* OK_WaitingForActivation */\n\t\t\t\tif (!success) {\n\t\t\t\t\tshowNotification(_(\"firmware update failed\"), \"error\");\n\t\t\t\t\tsetMessage(undefined);\n\t\t\t\t} else {\n\t\t\t\t\tlet message = _(\"firmware update successful\");\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tif (progress.waitTime) {\n\t\t\t\t\t\t\tmessage +=\n\t\t\t\t\t\t\t\t\" \" +\n\t\t\t\t\t\t\t\t_(\"firmware update wait time\").replace(\n\t\t\t\t\t\t\t\t\t\"{0}\",\n\t\t\t\t\t\t\t\t\tprogress.waitTime.toString(),\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmessage += \" \" + _(\"firmware update no wait time\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmessage += \" \" + _(\"firmware update wake up\");\n\t\t\t\t\t}\n\t\t\t\t\tsetMessage(message);\n\t\t\t\t}\n\t\t\t\tsetLoadedFile(undefined);\n\t\t\t\tsetFirmwareUpdateActive(false);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetFirmwareUpdateStatus(undefined);\n\t\t\t\t}, 10000);\n\t\t\t} else {\n\t\t\t\t// For good measure, in case someone reloaded the page\n\t\t\t\tsetFirmwareUpdateActive(true);\n\t\t\t}\n\t\t}\n\t});\n\n\tconst updateProgressNumeric =\n\t\tfirmwareUpdateStatus?.type === \"progress\" &&\n\t\ttypeof firmwareUpdateStatus.totalFragments === \"number\" &&\n\t\ttypeof firmwareUpdateStatus.sentFragments === \"number\"\n\t\t\t? Math.round(\n\t\t\t\t\t(firmwareUpdateStatus.sentFragments /\n\t\t\t\t\t\tfirmwareUpdateStatus.totalFragments) *\n\t\t\t\t\t\t10000,\n\t\t\t  ) / 100\n\t\t\t: Number.NaN;\n\n\t// Notify the user to wake up the device\n\tReact.useEffect(() => {\n\t\tif (firmwareUpdateStatus?.type === \"done\") return;\n\t\tif (props.status === \"asleep\" && firmwareUpdateActive) {\n\t\t\tsetMessage(_(\"wake up device\"));\n\t\t} else {\n\t\t\tsetMessage(undefined);\n\t\t}\n\t}, [props.status, firmwareUpdateActive, firmwareUpdateStatus]);\n\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t{/* Button to re-interview a node */}\n\t\t\t<Button\n\t\t\t\tdisabled={isBusy}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstartIcon={<RestorePageIcon />}\n\t\t\t\tonClick={() => refreshInfo()}\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t{_(\"Refresh node info\")}\n\t\t\t</Button>\n\t\t\t<Typography variant=\"body2\">\n\t\t\t\t{_(\n\t\t\t\t\t\"Forget all information about this node and re-interview it. Battery-powered nodes might need to be woken up manually.\",\n\t\t\t\t)}\n\t\t\t</Typography>\n\n\t\t\t{/* Button to remove failed nodes - only show them if the node may be failed */}\n\t\t\t<Tooltip title={isNodeFailed ? \"\" : _(\"This is not a failed node\")}>\n\t\t\t\t<span>\n\t\t\t\t\t{/* The span is necessary to show a tooltip on a disabled button */}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdisabled={!isNodeFailed || isBusy}\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName={classes.redButton}\n\t\t\t\t\t\tonClick={removeNode}\n\t\t\t\t\t\tstartIcon={<DeleteOutlineIcon />}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t>\n\t\t\t\t\t\t{_(\"Remove failed node\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</span>\n\t\t\t</Tooltip>\n\t\t\t<Typography variant=\"body2\">\n\t\t\t\t{_(\"Remove this node from the network.\")}\n\t\t\t\t<br />\n\t\t\t\t<span className={classes.warning}>\n\t\t\t\t\t{_(\n\t\t\t\t\t\t\"WARNING: Only do this if you no longer have physical access.\",\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</Typography>\n\n\t\t\t{/* Button to replace failed nodes - only show them if the node may be failed */}\n\t\t\t<Tooltip title={isNodeFailed ? \"\" : _(\"This is not a failed node\")}>\n\t\t\t\t<span>\n\t\t\t\t\t{/* The span is necessary to show a tooltip on a disabled button */}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdisabled={!isNodeFailed || isBusy}\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName={classes.redButton}\n\t\t\t\t\t\tonClick={replaceNode}\n\t\t\t\t\t\tstartIcon={<SwapHorizIcon />}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t>\n\t\t\t\t\t\t{_(\"Replace failed node\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</span>\n\t\t\t</Tooltip>\n\t\t\t<Typography variant=\"body2\">\n\t\t\t\t{_(\n\t\t\t\t\t\"Replace this node with a different one, keeping the node ID.\",\n\t\t\t\t)}\n\t\t\t\t<br />\n\t\t\t\t<span className={classes.warning}>\n\t\t\t\t\t{_(\n\t\t\t\t\t\t\"WARNING: Make sure that the node is reset before attempting this.\",\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</Typography>\n\n\t\t\t{supportsFirmwareUpdate && (\n\t\t\t\t<>\n\t\t\t\t\t<div className={classes.firmwareUpdate}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={firmwareUpdateActive || isBusy}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => loadFirmware()}\n\t\t\t\t\t\t\tstyle={{ flex: \"1 0 auto\" }}\n\t\t\t\t\t\t\tstartIcon={<MemoryIcon />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"Update Firmware\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\tid=\"firmwareFile\"\n\t\t\t\t\t\t\taccept=\".exe,.ex_,.ota,.otz,.hex,.hec,.gbl,.bin\"\n\t\t\t\t\t\t\tref={(ref) => {\n\t\t\t\t\t\t\t\tif (ref) input.current = ref;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonChange={selectFirmware}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{firmwareUpdateActive ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"progress\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: \"0 1em\",\n\t\t\t\t\t\t\t\t\t\tflex: \"1 1 100%\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{Number.isNaN(updateProgressNumeric) ? (\n\t\t\t\t\t\t\t\t\t\t<LinearProgress />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<LinearProgress\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"determinate\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={updateProgressNumeric}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{!Number.isNaN(updateProgressNumeric) && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: \"nowrap\",\n\t\t\t\t\t\t\t\t\t\t\tmarginRight: \"1em\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{updateProgressNumeric.toLocaleString(\n\t\t\t\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{\" %\"}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tflex: \"1 1 100%\",\n\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t\t\t\tpadding: \"0 1em\",\n\t\t\t\t\t\t\t\t\twordBreak: \"break-all\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{loadedFile\n\t\t\t\t\t\t\t\t\t? `${loadedFile.name} (${loadedFile.data.byteLength} bytes)`\n\t\t\t\t\t\t\t\t\t: _(\"no file selected\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tstyle={{ flex: \"1 0 auto\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tooltip title={_(\"start firmware update\")}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\tfirmwareUpdateActive ||\n\t\t\t\t\t\t\t\t\t\tisBusy ||\n\t\t\t\t\t\t\t\t\t\t!loadedFile?.data\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={() => beginFirmwareUpdate()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<PublishIcon />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t<Tooltip title={_(\"abort firmware update\")}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={!firmwareUpdateActive || isBusy}\n\t\t\t\t\t\t\t\t\tonClick={() => abortFirmwareUpdate()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</div>\n\t\t\t\t\t{message ? (\n\t\t\t\t\t\t<div className={classes.firmwareUpdateMessage}>\n\t\t\t\t\t\t\t{message}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\tclasses.firmwareUpdateMessage,\n\t\t\t\t\t\t\t\tclasses.warning,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"firmware update warning\")}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useGlobals, useI18n, useIoBrokerObject } from \"iobroker-react/hooks\";\nimport React from \"react\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport { green, yellow } from \"@material-ui/core/colors\";\nimport clsx from \"clsx\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport type { InclusionGrant } from \"zwave-js/Controller\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { QRScanner } from \"./QRScanner\";\n\nconst useStyles = makeStyles((theme) => ({\n\tstrategyRoot: {\n\t\t// maxWidth: \"600px\",\n\t},\n\tstrategyGridHeadline: {\n\t\tmarginTop: theme.spacing(4),\n\t},\n\tstrategyGrid: {\n\t\tmarginTop: theme.spacing(1),\n\t\tdisplay: \"grid\",\n\t\tgridTemplateColumns: \"auto 400px\",\n\t\tgridGap: theme.spacing(2),\n\t\talignItems: \"center\",\n\t},\n\tstrategyList: {\n\t\t...theme.typography.body2,\n\t},\n\tscanQRCodeRoot: {\n\t\tdisplay: \"flex\",\n\t\tflexFlow: \"column nowrap\",\n\t\tgap: theme.spacing(1),\n\t\tmaxWidth: \"600px\",\n\t},\n\twaitMessageRoot: {\n\t\tdisplay: \"grid\",\n\t\tgridTemplateColumns: \"minmax(auto, 10ch) 1fr\",\n\t\tgridGap: theme.spacing(4),\n\t\talignItems: \"center\",\n\t\t// width: \"600px\",\n\t\toverflow: \"hidden\",\n\t},\n\tgrantRoot: {\n\t\tdisplay: \"flex\",\n\t\tflexFlow: \"column nowrap\",\n\t\tgap: theme.spacing(1),\n\t\tmaxWidth: \"600px\",\n\t},\n\tgrantHeadline: {\n\t\tmarginTop: theme.spacing(-1),\n\t\tmarginBottom: theme.spacing(1),\n\t},\n\tgrantCSA: {\n\t\tmarginTop: theme.spacing(2),\n\t},\n\tvalidateDSKRoot: {\n\t\tmaxWidth: \"600px\",\n\t},\n\tvalidateDSKGrid: {\n\t\tmarginTop: theme.spacing(1),\n\t\tdisplay: \"grid\",\n\t\twidth: \"100%\",\n\t\tgridTemplateColumns: \"minmax(auto, 10ch) 1fr\",\n\t\tgridGap: theme.spacing(1),\n\t\talignItems: \"center\",\n\t\ttextAlign: \"center\",\n\t},\n\tresultRoot: {\n\t\tdisplay: \"grid\",\n\t\tgridTemplateColumns: \"auto 1fr\",\n\t\tgridTemplateRows: \"auto auto auto\",\n\t\talignItems: \"center\",\n\t},\n\tresultIcon: {\n\t\tmarginRight: theme.spacing(4),\n\t\tfontSize: \"64px\",\n\t\tgridRow: \"1 / span 3\",\n\t\tgridColumn: 1,\n\t},\n\tresultIconOK: {\n\t\tcolor: green[500],\n\t},\n\tresultIconLowSecurity: {\n\t\tcolor: yellow[700],\n\t},\n}));\n\nexport enum InclusionExclusionStep {\n\tSelectInclusionStrategy,\n\tSelectReplacementStrategy,\n\tQRCode,\n\tIncludeDevice,\n\tExcludeDevice,\n\tGrantSecurityClasses,\n\tValidateDSK,\n\tBusy,\n\tResult,\n\tExclusionResult,\n\tResultMessage,\n}\n\n// Copied from zwave-js\nexport enum InclusionStrategy {\n\tDefault = 0,\n\tInsecure = 2,\n\t// Only for replacing nodes:\n\tSecurity_S0,\n\tSecurity_S2,\n\n\t// This is not included in zwave-js\n\tQRCode = -1,\n}\n\n// =============================================================================\n\ninterface SelectInclusionStrategyStepProps {\n\tselectStrategy: (\n\t\tstrategy: InclusionStrategy,\n\t\tforceSecurity?: boolean,\n\t) => void;\n\tonCancel: () => void;\n}\n\nconst SelectInclusionStrategyStep: React.FC<SelectInclusionStrategyStepProps> =\n\t(props) => {\n\t\tconst { translate: _ } = useI18n();\n\t\tconst classes = useStyles();\n\n\t\tconst [forceSecurity, setForceSecurity] = React.useState(false);\n\n\t\tconst strategyCaptionDefault = forceSecurity\n\t\t\t? _(\n\t\t\t\t\t\"Security S2 when supported, Security S0 as a fallback, no encryption otherwise.\",\n\t\t\t  )\n\t\t\t: _(\n\t\t\t\t\t\"Security S2 when supported, Security S0 only when necessary, no encryption otherwise.\",\n\t\t\t  );\n\n\t\t// Display a warning when security keys are missing\n\t\tconst { namespace } = useGlobals();\n\t\tconst [instanceObj] = useIoBrokerObject(`system.adapter.${namespace}`, {\n\t\t\tsubscribe: false,\n\t\t});\n\t\tconst settings = instanceObj?.native as\n\t\t\t| ioBroker.AdapterConfig\n\t\t\t| undefined;\n\n\t\tconst keysMissing =\n\t\t\tsettings &&\n\t\t\t(!settings.networkKey_S0 ||\n\t\t\t\t!settings.networkKey_S2_AccessControl ||\n\t\t\t\t!settings.networkKey_S2_Authenticated ||\n\t\t\t\t!settings.networkKey_S2_Unauthenticated);\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<DialogContent className={classes.strategyRoot}>\n\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t{_(\n\t\t\t\t\t\t\t\"Z-Wave supports the following security mechanisms:\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<ul\n\t\t\t\t\t\tclassName={classes.strategyList}\n\t\t\t\t\t\tstyle={{ marginTop: \"0.5em\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<b>Security S2</b> &ndash; {_(\"fast and secure\")}{\" \"}\n\t\t\t\t\t\t\t<b>{_(\"(recommended)\")}</b>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<b>Security S0</b> &ndash;{\" \"}\n\t\t\t\t\t\t\t{_(\"secure, but slow due to a lot of overhead\")}{\" \"}\n\t\t\t\t\t\t\t<b>{_(\"(use only when necessary)\")}</b>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>{_(\"No encryption\")}</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t{keysMissing && (\n\t\t\t\t\t\t<Alert severity=\"warning\">\n\t\t\t\t\t\t\t{_(\n\t\t\t\t\t\t\t\t\"At least one network key is not yet configured. This can cause problems during secure inclusion.\",\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\tclassName={classes.strategyGridHeadline}\n\t\t\t\t\t>\n\t\t\t\t\t\t{_(\"Please choose an inclusion strategy\")}:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className={classes.strategyGrid}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tgridRow: 1,\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\tflexFlow: \"column\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tprops.selectStrategy(\n\t\t\t\t\t\t\t\t\t\tInclusionStrategy.Default,\n\t\t\t\t\t\t\t\t\t\tforceSecurity,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{_(\"Default (secure)\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tlabel={_(\"Prefer S0 over no encryption\")}\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tchecked={forceSecurity}\n\t\t\t\t\t\t\t\t\t\tonChange={(event, checked) =>\n\t\t\t\t\t\t\t\t\t\t\tsetForceSecurity(checked)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\tstyle={{ alignSelf: \"flex-start\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{strategyCaptionDefault}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{_(\n\t\t\t\t\t\t\t\t\"Requires user interaction during the inclusion.\",\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tstyle={{ gridRow: 2 }}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.selectStrategy(InclusionStrategy.QRCode)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"Scan QR Code\")}\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tstyle={{ gridRow: 3 }}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.selectStrategy(\n\t\t\t\t\t\t\t\t\tInclusionStrategy.Security_S0,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"Security S0\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Typography style={{ gridRow: 3 }} variant=\"caption\">\n\t\t\t\t\t\t\t{_(\n\t\t\t\t\t\t\t\t\"Only use S0, even if S2 is available. Allows including devices that require security but don't behave correctly during S2 inclusion.\",\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\tstyle={{ gridRow: 4 }}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.selectStrategy(InclusionStrategy.Insecure)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"No encryption\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={props.onCancel}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{_(\"Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</>\n\t\t);\n\t};\n\n// =============================================================================\n\ninterface SelectReplacementStrategyStepProps {\n\tselectStrategy: (\n\t\tstrategy:\n\t\t\t| InclusionStrategy.Insecure\n\t\t\t| InclusionStrategy.Security_S0\n\t\t\t| InclusionStrategy.Security_S2,\n\t) => void;\n\tonCancel: () => void;\n}\n\nconst SelectReplacementStrategyStep: React.FC<SelectReplacementStrategyStepProps> =\n\t(props) => {\n\t\tconst { translate: _ } = useI18n();\n\t\tconst classes = useStyles();\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<DialogContent className={classes.strategyRoot}>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\tclassName={classes.strategyGridHeadline}\n\t\t\t\t\t>\n\t\t\t\t\t\t{_(\"Please choose a replacement strategy\")}:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className={classes.strategyGrid}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tstyle={{ gridRow: 1 }}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.selectStrategy(\n\t\t\t\t\t\t\t\t\tInclusionStrategy.Security_S2,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"Security S2\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\tstyle={{ alignSelf: \"flex-start\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"fast and secure\")}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{_(\"(recommended)\")}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tstyle={{ gridRow: 2 }}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.selectStrategy(\n\t\t\t\t\t\t\t\t\tInclusionStrategy.Security_S0,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"Security S0\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t{_(\"secure, but slow due to a lot of overhead\")}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{_(\"(use only when necessary)\")}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\tstyle={{ gridRow: 3 }}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.selectStrategy(InclusionStrategy.Insecure)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"No encryption\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={props.onCancel}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{_(\"Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</>\n\t\t);\n\t};\n\n// =============================================================================\n\nexport interface ScanQRCodeStepProps {\n\tonScan: (code: string) => void;\n\tonCancel?: () => void;\n}\n\nconst ScanQRCodeStep: React.FC<ScanQRCodeStepProps> = (props) => {\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\n\tconst [busy, setBusy] = React.useState(false);\n\tconst handleScan = React.useCallback(\n\t\t(code: string) => {\n\t\t\tif (busy) return;\n\t\t\tsetBusy(true);\n\t\t\t// Add a short delay so the scanner markers can be seen\n\t\t\tsetTimeout(() => {\n\t\t\t\tprops.onScan(code);\n\t\t\t}, 500);\n\t\t},\n\t\t[busy, setBusy, props.onScan],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<DialogContent className={classes.scanQRCodeRoot}>\n\t\t\t\t<QRScanner onDetect={handleScan} />\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t{props.onCancel && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={props.onCancel}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{_(\"Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</DialogActions>\n\t\t</>\n\t);\n};\n\n// =============================================================================\n\nexport interface WaitMessageProps {\n\tmessage: string;\n\tonCancel?: () => void;\n}\n\nconst WaitMessageStep: React.FC<WaitMessageProps> = (props) => {\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\n\treturn (\n\t\t<>\n\t\t\t<DialogContent className={classes.waitMessageRoot}>\n\t\t\t\t<CircularProgress size={48} />\n\t\t\t\t<Typography variant=\"body1\">{props.message}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t{props.onCancel && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={props.onCancel}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{_(\"Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</DialogActions>\n\t\t</>\n\t);\n};\n\n// =============================================================================\n\ninterface GrantSecurityClassesStepProps {\n\trequest: InclusionGrant;\n\tgrantSecurityClasses: (grant: InclusionGrant) => void;\n\tonCancel: () => void;\n}\n\nconst GrantSecurityClassesStep: React.FC<GrantSecurityClassesStepProps> = (\n\tprops,\n) => {\n\tconst { translate: _ } = useI18n();\n\tconst classes = useStyles();\n\n\tconst request = props.request;\n\tconst requestS2AccessControl = request.securityClasses.includes(2);\n\tconst requestS2Authenticated = request.securityClasses.includes(1);\n\tconst requestS2Unauthenticated = request.securityClasses.includes(0);\n\tconst requestS0Legacy = request.securityClasses.includes(7);\n\tconst requestCSA = request.clientSideAuth;\n\n\tconst [grantS2AccessControl, setGrantS2AccessControl] = React.useState(\n\t\trequestS2AccessControl,\n\t);\n\tconst [grantS2Authenticated, setGrantS2Authenticated] = React.useState(\n\t\trequestS2Authenticated,\n\t);\n\tconst [grantS2Unauthenticated, setGrantS2Unauthenticated] = React.useState(\n\t\trequestS2Unauthenticated,\n\t);\n\tconst [grantS0Legacy, setGrantS0Legacy] = React.useState(requestS0Legacy);\n\tconst [grantCSA, setGrantCSA] = React.useState(requestCSA);\n\n\t// This will be called when the user clicks confirm\n\tconst handleOk = () => {\n\t\tconst securityClasses: InclusionGrant[\"securityClasses\"] = [];\n\t\tif (grantS2AccessControl) securityClasses.push(2);\n\t\tif (grantS2Authenticated) securityClasses.push(1);\n\t\tif (grantS2Unauthenticated) securityClasses.push(0);\n\t\tif (grantS0Legacy) securityClasses.push(7);\n\n\t\tconst grant: InclusionGrant = {\n\t\t\tsecurityClasses,\n\t\t\tclientSideAuth: grantCSA,\n\t\t};\n\t\tprops.grantSecurityClasses(grant);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<DialogContent className={classes.grantRoot}>\n\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t{_(\n\t\t\t\t\t\t\"Please choose which of the following security classes to grant to the new node.\",\n\t\t\t\t\t)}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"caption\" className={classes.grantHeadline}>\n\t\t\t\t\t{_(\n\t\t\t\t\t\t\"At least one must be granted or the key exchange will be canceled.\",\n\t\t\t\t\t)}\n\t\t\t\t</Typography>\n\n\t\t\t\t<FormControlLabel\n\t\t\t\t\tlabel={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\tS2 Access Control\n\t\t\t\t\t\t\t\t{!requestS2AccessControl && (\n\t\t\t\t\t\t\t\t\t<> ({_(\"not requested\")})</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t{_(\"Example:\")} {_(\"Door locks, garage doors\")},\n\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={!requestS2AccessControl}\n\t\t\t\t\tcontrol={\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tchecked={grantS2AccessControl}\n\t\t\t\t\t\t\tonChange={(event, checked) =>\n\t\t\t\t\t\t\t\tsetGrantS2AccessControl(checked)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<FormControlLabel\n\t\t\t\t\tlabel={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\tS2 Authenticated\n\t\t\t\t\t\t\t\t{!requestS2Authenticated && (\n\t\t\t\t\t\t\t\t\t<> ({_(\"not requested\")})</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t{_(\"Example:\")}{\" \"}\n\t\t\t\t\t\t\t\t{_(\"Lighting, sensors, security systems\")}, ...\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={!requestS2Authenticated}\n\t\t\t\t\tcontrol={\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tchecked={grantS2Authenticated}\n\t\t\t\t\t\t\tonChange={(event, checked) =>\n\t\t\t\t\t\t\t\tsetGrantS2Authenticated(checked)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<FormControlLabel\n\t\t\t\t\tlabel={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\tS2 Unauthenticated\n\t\t\t\t\t\t\t\t{!requestS2Unauthenticated && (\n\t\t\t\t\t\t\t\t\t<> ({_(\"not requested\")})</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t{_(\n\t\t\t\t\t\t\t\t\t\"Like S2 Authenticated, but without verification that the correct device is included\",\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={!requestS2Unauthenticated}\n\t\t\t\t\tcontrol={\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tchecked={grantS2Unauthenticated}\n\t\t\t\t\t\t\tonChange={(event, checked) =>\n\t\t\t\t\t\t\t\tsetGrantS2Unauthenticated(checked)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<FormControlLabel\n\t\t\t\t\tlabel={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\tS0 Legacy\n\t\t\t\t\t\t\t\t{!requestS0Legacy && (\n\t\t\t\t\t\t\t\t\t<> ({_(\"not requested\")})</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t{_(\"Example:\")}{\" \"}\n\t\t\t\t\t\t\t\t{_(\"Legacy door locks without S2 support\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={!requestS0Legacy}\n\t\t\t\t\tcontrol={\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tchecked={grantS0Legacy}\n\t\t\t\t\t\t\tonChange={(event, checked) =>\n\t\t\t\t\t\t\t\tsetGrantS0Legacy(checked)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<FormControlLabel\n\t\t\t\t\tclassName={classes.grantCSA}\n\t\t\t\t\tlabel={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\tClient Side Authentication\n\t\t\t\t\t\t\t\t{!requestCSA && <> ({_(\"not requested\")})</>}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t{_(\n\t\t\t\t\t\t\t\t\t\"For devices without a DSK. Authentication of the inclusion happens on the device instead of in ioBroker.\",\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={!requestCSA}\n\t\t\t\t\tcontrol={\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tchecked={grantCSA}\n\t\t\t\t\t\t\tonChange={(event, checked) => setGrantCSA(checked)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={handleOk} color=\"primary\">\n\t\t\t\t\t{_(\"OK\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={props.onCancel}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{_(\"Cancel\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</>\n\t);\n};\n\n// =============================================================================\n\ninterface ValidateDSKStepProps {\n\tsetPIN: (pin: string) => void;\n\tonCancel: () => void;\n\tdsk: string;\n}\n\nconst ValidateDSKStep: React.FC<ValidateDSKStepProps> = (props) => {\n\tconst { translate: _ } = useI18n();\n\n\tconst [pin, setPIN] = React.useState(\"\");\n\tconst [error, setError] = React.useState(false);\n\n\tconst handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst pin = event.target.value.replace(/[^0-9]/g, \"\");\n\t\tsetPIN(pin);\n\t\tsetError(false);\n\t};\n\n\tconst handleBlur = () => {\n\t\tif (pin.length !== 5) setError(true);\n\t};\n\n\tconst handleOk = () => {\n\t\tif (pin.length === 5) props.setPIN(pin);\n\t};\n\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<DialogContent className={classes.validateDSKRoot}>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\tclassName={classes.strategyGridHeadline}\n\t\t\t\t>\n\t\t\t\t\t{_(\n\t\t\t\t\t\t\"Please enter the 5-digit PIN for your device and verify that the rest of the device-specific key (DSK) matches the one on your device or the manual.\",\n\t\t\t\t\t)}\n\t\t\t\t</Typography>\n\t\t\t\t<div className={classes.validateDSKGrid}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\tmaxLength: 5,\n\t\t\t\t\t\t\tstyle: { textAlign: \"center\" },\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={pin}\n\t\t\t\t\t\terror={!!error}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key === \"Enter\") handleOk();\n\t\t\t\t\t\t\tif (e.key === \"Escape\") props.onCancel();\n\t\t\t\t\t\t}}\n\t\t\t\t\t></TextField>\n\t\t\t\t\t<Typography variant=\"body1\">{props.dsk}</Typography>\n\t\t\t\t\t<Typography variant=\"caption\">PIN</Typography>\n\t\t\t\t\t<Typography variant=\"caption\">DSK</Typography>\n\t\t\t\t</div>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={pin.length !== 5}\n\t\t\t\t\tonClick={handleOk}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{_(\"OK\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={props.onCancel}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{_(\"Cancel\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</>\n\t);\n};\n\n// =============================================================================\n\nexport interface ResultStepProps {\n\tnodeId: number;\n\tlowSecurity: boolean;\n\tsecurityClass?: string;\n\tonDone: () => void;\n}\n\nconst ResultStep: React.FC<ResultStepProps> = (props) => {\n\tconst { translate: _ } = useI18n();\n\tconst classes = useStyles();\n\n\tconst Icon = props.lowSecurity ? WarningIcon : CheckCircleIcon;\n\tconst caption = props.lowSecurity\n\t\t? _(\"Node %s was added insecurely!\", props.nodeId.toString())\n\t\t: _(\"Node %s was added successfully!\", props.nodeId.toString());\n\tconst message1 = props.lowSecurity\n\t\t? _(\n\t\t\t\t\"There was an error during secure inclusion. To try again, exclude the node first.\",\n\t\t  )\n\t\t: _(\"Security class: %s\", props.securityClass ?? _(\"None\"));\n\n\tconst message2 = _(\n\t\t\"The device is now being interviewed. It might take a while to show up.\",\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<DialogContent className={classes.resultRoot}>\n\t\t\t\t<Icon\n\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\tclasses.resultIcon,\n\t\t\t\t\t\tprops.lowSecurity\n\t\t\t\t\t\t\t? classes.resultIconLowSecurity\n\t\t\t\t\t\t\t: classes.resultIconOK,\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\tstyle={{ fontWeight: \"bold\", fontSize: \"125%\" }}\n\t\t\t\t>\n\t\t\t\t\t{caption}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"body2\">{message1}</Typography>\n\t\t\t\t<Typography variant=\"body2\">{message2}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={props.onDone}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{_(\"OK\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</>\n\t);\n};\n\n// =============================================================================\n\nexport interface ExclusionResultStepProps {\n\tnodeId: number;\n\tonDone: () => void;\n}\n\nconst ExclusionResultStep: React.FC<ExclusionResultStepProps> = (props) => {\n\tconst { translate: _ } = useI18n();\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<>\n\t\t\t<DialogContent className={classes.resultRoot}>\n\t\t\t\t<CheckCircleIcon\n\t\t\t\t\tclassName={clsx(classes.resultIcon, classes.resultIconOK)}\n\t\t\t\t/>\n\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t{_(\n\t\t\t\t\t\t\"Node %s was removed from the network!\",\n\t\t\t\t\t\tprops.nodeId.toString(),\n\t\t\t\t\t)}\n\t\t\t\t</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={props.onDone}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{_(\"OK\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</>\n\t);\n};\n\n// =============================================================================\n\nexport interface ResultMessageStepProps {\n\tsuccess: boolean;\n\ttitle: string;\n\tmessage: React.ReactNode;\n\tonDone: () => void;\n}\n\nconst ResultMessageStep: React.FC<ResultMessageStepProps> = (props) => {\n\tconst { translate: _ } = useI18n();\n\tconst classes = useStyles();\n\n\tconst Icon = props.success ? CheckCircleIcon : WarningIcon;\n\n\treturn (\n\t\t<>\n\t\t\t<DialogContent className={classes.resultRoot}>\n\t\t\t\t<Icon\n\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\tclasses.resultIcon,\n\t\t\t\t\t\tprops.success\n\t\t\t\t\t\t\t? classes.resultIconOK\n\t\t\t\t\t\t\t: classes.resultIconLowSecurity,\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\tstyle={{ fontWeight: \"bold\", fontSize: \"125%\" }}\n\t\t\t\t>\n\t\t\t\t\t{props.title}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"body2\">{props.message}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={props.onDone}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{_(\"OK\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</>\n\t);\n};\n\n// =============================================================================\n\nexport type InclusionExclusionDialogProps = {\n\tonCancel: () => void;\n} & (\n\t| ({\n\t\t\tstep: InclusionExclusionStep.SelectInclusionStrategy;\n\t  } & SelectInclusionStrategyStepProps)\n\t| ({\n\t\t\tstep: InclusionExclusionStep.SelectReplacementStrategy;\n\t  } & SelectReplacementStrategyStepProps)\n\t| ({ step: InclusionExclusionStep.QRCode } & ScanQRCodeStepProps)\n\t| { step: InclusionExclusionStep.IncludeDevice }\n\t| { step: InclusionExclusionStep.ExcludeDevice }\n\t| ({\n\t\t\tstep: InclusionExclusionStep.GrantSecurityClasses;\n\t  } & GrantSecurityClassesStepProps)\n\t| ({ step: InclusionExclusionStep.ValidateDSK } & ValidateDSKStepProps)\n\t| { step: InclusionExclusionStep.Busy }\n\t| ({ step: InclusionExclusionStep.Result } & ResultStepProps)\n\t| ({ step: InclusionExclusionStep.ResultMessage } & ResultMessageStepProps)\n\t| ({\n\t\t\tstep: InclusionExclusionStep.ExclusionResult;\n\t  } & ExclusionResultStepProps)\n);\n\nexport const InclusionDialog: React.FC<\n\tInclusionExclusionDialogProps & { isOpen: boolean }\n> = (props) => {\n\tconst { translate: _ } = useI18n();\n\n\tconst Content = React.useMemo(() => {\n\t\tswitch (props.step) {\n\t\t\tcase InclusionExclusionStep.SelectInclusionStrategy:\n\t\t\t\treturn (\n\t\t\t\t\t<SelectInclusionStrategyStep\n\t\t\t\t\t\tselectStrategy={props.selectStrategy}\n\t\t\t\t\t\tonCancel={props.onCancel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.SelectReplacementStrategy:\n\t\t\t\treturn (\n\t\t\t\t\t<SelectReplacementStrategyStep\n\t\t\t\t\t\tselectStrategy={props.selectStrategy}\n\t\t\t\t\t\tonCancel={props.onCancel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.QRCode:\n\t\t\t\treturn (\n\t\t\t\t\t<ScanQRCodeStep\n\t\t\t\t\t\tonScan={props.onScan}\n\t\t\t\t\t\tonCancel={props.onCancel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.IncludeDevice:\n\t\t\t\treturn (\n\t\t\t\t\t<WaitMessageStep\n\t\t\t\t\t\tmessage={_(\"Put your device into inclusion mode\")}\n\t\t\t\t\t\tonCancel={props.onCancel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.ExcludeDevice:\n\t\t\t\treturn (\n\t\t\t\t\t<WaitMessageStep\n\t\t\t\t\t\tmessage={_(\"Put your device into exclusion mode\")}\n\t\t\t\t\t\tonCancel={props.onCancel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.GrantSecurityClasses:\n\t\t\t\treturn (\n\t\t\t\t\t<GrantSecurityClassesStep\n\t\t\t\t\t\tgrantSecurityClasses={props.grantSecurityClasses}\n\t\t\t\t\t\trequest={props.request}\n\t\t\t\t\t\tonCancel={props.onCancel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.ValidateDSK:\n\t\t\t\treturn (\n\t\t\t\t\t<ValidateDSKStep\n\t\t\t\t\t\tdsk={props.dsk}\n\t\t\t\t\t\tonCancel={props.onCancel}\n\t\t\t\t\t\tsetPIN={props.setPIN}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.Result:\n\t\t\t\treturn (\n\t\t\t\t\t<ResultStep\n\t\t\t\t\t\tnodeId={props.nodeId}\n\t\t\t\t\t\tlowSecurity={props.lowSecurity}\n\t\t\t\t\t\tsecurityClass={props.securityClass}\n\t\t\t\t\t\tonDone={props.onDone}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.ExclusionResult:\n\t\t\t\treturn (\n\t\t\t\t\t<ExclusionResultStep\n\t\t\t\t\t\tnodeId={props.nodeId}\n\t\t\t\t\t\tonDone={props.onDone}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.ResultMessage:\n\t\t\t\treturn (\n\t\t\t\t\t<ResultMessageStep\n\t\t\t\t\t\ttitle={props.title}\n\t\t\t\t\t\tmessage={props.message}\n\t\t\t\t\t\tsuccess={props.success}\n\t\t\t\t\t\tonDone={props.onDone}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase InclusionExclusionStep.Busy:\n\t\t\t\treturn (\n\t\t\t\t\t<WaitMessageStep\n\t\t\t\t\t\tmessage={_(\n\t\t\t\t\t\t\t\"Communicating with the device, please be patient...\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n\t}, [props.step]);\n\n\tconst title = React.useMemo(() => {\n\t\tswitch (props.step) {\n\t\t\tcase InclusionExclusionStep.SelectInclusionStrategy:\n\t\t\tcase InclusionExclusionStep.IncludeDevice:\n\t\t\tcase InclusionExclusionStep.GrantSecurityClasses:\n\t\t\tcase InclusionExclusionStep.ValidateDSK:\n\t\t\tcase InclusionExclusionStep.Result:\n\t\t\tcase InclusionExclusionStep.Busy:\n\t\t\tcase InclusionExclusionStep.QRCode:\n\t\t\t\treturn _(\"Include device\");\n\n\t\t\tcase InclusionExclusionStep.SelectReplacementStrategy:\n\t\t\t\treturn _(\"Replace device\");\n\n\t\t\tcase InclusionExclusionStep.ExcludeDevice:\n\t\t\tcase InclusionExclusionStep.ExclusionResult:\n\t\t\t\treturn _(\"Exclude device\");\n\t\t}\n\t}, [props.step]);\n\treturn (\n\t\t<Dialog\n\t\t\topen={props.isOpen}\n\t\t\tonClose={props.onCancel}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\tmaxWidth={false}\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n\t\t\t{Content}\n\t\t</Dialog>\n\t);\n};\n", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  var getColor = theme.palette.type === 'light' ? darken : lighten;\n  var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, {\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: 'transparent',\n      display: 'flex',\n      padding: '6px 16px'\n    }),\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"success\"`. */\n    standardSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.success.main, 0.9),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"info\"`. */\n    standardInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.info.main, 0.9),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"warning\"`. */\n    standardWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"error\"`. */\n    standardError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.error.main, 0.9),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"success\"`. */\n    outlinedSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.success.main),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"info\"`. */\n    outlinedInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.info.main),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"warning\"`. */\n    outlinedWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.warning.main),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"error\"`. */\n    outlinedError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.error.main),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"success\"`. */\n    filledSuccess: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.success.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"info\"`. */\n    filledInfo: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.info.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"warning\"`. */\n    filledWarning: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.warning.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"error\"`. */\n    filledError: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.error.main\n    },\n\n    /* Styles applied to the icon wrapper element. */\n    icon: {\n      marginRight: 12,\n      padding: '7px 0',\n      display: 'flex',\n      fontSize: 22,\n      opacity: 0.9\n    },\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar defaultIconMapping = {\n  success: /*#__PURE__*/React.createElement(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/React.createElement(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/React.createElement(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\n\nvar _ref = /*#__PURE__*/React.createElement(CloseIcon, {\n  fontSize: \"small\"\n});\n\nvar Alert = /*#__PURE__*/React.forwardRef(function Alert(props, ref) {\n  var action = props.action,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$closeText = props.closeText,\n      closeText = _props$closeText === void 0 ? 'Close' : _props$closeText,\n      color = props.color,\n      icon = props.icon,\n      _props$iconMapping = props.iconMapping,\n      iconMapping = _props$iconMapping === void 0 ? defaultIconMapping : _props$iconMapping,\n      onClose = props.onClose,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      _props$severity = props.severity,\n      severity = _props$severity === void 0 ? 'success' : _props$severity,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"action\", \"children\", \"classes\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 0,\n    className: clsx(classes.root, classes[\"\".concat(variant).concat(capitalize(color || severity))], className),\n    ref: ref\n  }, other), icon !== false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.icon\n  }, icon || iconMapping[severity] || defaultIconMapping[severity]) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, children), action != null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null, action == null && onClose ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    \"aria-label\": closeText,\n    title: closeText,\n    color: \"inherit\",\n    onClick: onClose\n  }, _ref)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? Alert.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\r\n   * The action to display. It renders after the message, at the end of the alert.\r\n   */\n  action: PropTypes.node,\n\n  /**\r\n   * The content of the component.\r\n   */\n  children: PropTypes.node,\n\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   * See [CSS API](#css) below for more details.\r\n   */\n  classes: PropTypes.object,\n\n  /**\r\n   * @ignore\r\n   */\n  className: PropTypes.string,\n\n  /**\r\n   * Override the default label for the *close popup* icon button.\r\n   *\r\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\r\n   */\n  closeText: PropTypes.string,\n\n  /**\r\n   * The main color for the alert. Unless provided, the value is taken from the `severity` prop.\r\n   */\n  color: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\r\n   * Override the icon displayed before the children.\r\n   * Unless provided, the icon is mapped to the value of the `severity` prop.\r\n   */\n  icon: PropTypes.node,\n\n  /**\r\n   * The component maps the `severity` prop to a range of different icons,\r\n   * for instance success to `<SuccessOutlined>`.\r\n   * If you wish to change this mapping, you can provide your own.\r\n   * Alternatively, you can use the `icon` prop to override the icon displayed.\r\n   */\n  iconMapping: PropTypes.shape({\n    error: PropTypes.node,\n    info: PropTypes.node,\n    success: PropTypes.node,\n    warning: PropTypes.node\n  }),\n\n  /**\r\n   * Callback fired when the component requests to be closed.\r\n   * When provided and no `action` prop is set, a close icon button is displayed that triggers the callback when clicked.\r\n   *\r\n   * @param {object} event The event source of the callback.\r\n   */\n  onClose: PropTypes.func,\n\n  /**\r\n   * The ARIA role attribute of the element.\r\n   */\n  role: PropTypes.string,\n\n  /**\r\n   * The severity of the alert. This defines the color and icon used.\r\n   */\n  severity: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\r\n   * The variant to use.\r\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAlert'\n})(Alert);", "import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\r\n * @ignore - internal component.\r\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');", "import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\r\n * @ignore - internal component.\r\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');", "import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\r\n * @ignore - internal component.\r\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');", "import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\r\n * @ignore - internal component.\r\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// @inheritedComponent ButtonBase\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { alpha, withStyles } from '@material-ui/core/styles';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      borderRadius: theme.shape.borderRadius,\n      padding: 11,\n      border: \"1px solid \".concat(alpha(theme.palette.action.active, 0.12)),\n      color: alpha(theme.palette.action.active, 0.38),\n      '&$selected': {\n        color: theme.palette.action.active,\n        backgroundColor: alpha(theme.palette.action.active, 0.12),\n        '&:hover': {\n          backgroundColor: alpha(theme.palette.action.active, 0.15)\n        },\n        '& + &': {\n          borderLeft: 0,\n          marginLeft: 0\n        }\n      },\n      '&$disabled': {\n        color: alpha(theme.palette.action.disabled, 0.12)\n      },\n      '&:hover': {\n        textDecoration: 'none',\n        // Reset on mouse devices\n        backgroundColor: alpha(theme.palette.text.primary, 0.05),\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        '&$disabled': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }),\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the `label` wrapper element. */\n    label: {\n      width: '100%',\n      // Ensure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      padding: 7,\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"`. */\n    sizeLarge: {\n      padding: 15,\n      fontSize: theme.typography.pxToRem(15)\n    }\n  };\n};\nvar ToggleButton = /*#__PURE__*/React.forwardRef(function ToggleButton(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      selected = props.selected,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disabled\", \"disableFocusRipple\", \"onChange\", \"onClick\", \"selected\", \"size\", \"value\"]);\n\n  var handleChange = function handleChange(event) {\n    if (onClick) {\n      onClick(event, value);\n\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n    }\n\n    if (onChange) {\n      onChange(event, value);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, disabled && classes.disabled, selected && classes.selected, size !== 'medium' && classes[\"size\".concat(capitalize(size))]),\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    ref: ref,\n    onClick: handleChange,\n    onChange: onChange,\n    value: value,\n    \"aria-pressed\": selected\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? ToggleButton.propTypes = {\n  /**\r\n   * The content of the button.\r\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   * See [CSS API](#css) below for more details.\r\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\r\n   * @ignore\r\n   */\n  className: PropTypes.string,\n\n  /**\r\n   * If `true`, the button will be disabled.\r\n   */\n  disabled: PropTypes.bool,\n\n  /**\r\n   * If `true`, the  keyboard focus ripple will be disabled.\r\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\r\n   * If `true`, the ripple effect will be disabled.\r\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\r\n   * @ignore\r\n   */\n  onChange: PropTypes.func,\n\n  /**\r\n   * @ignore\r\n   */\n  onClick: PropTypes.func,\n\n  /**\r\n   * If `true`, the button will be rendered in an active state.\r\n   */\n  selected: PropTypes.bool,\n\n  /**\r\n   * @ignore\r\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\r\n   * The value to associate with the button when selected in a\r\n   * ToggleButtonGroup.\r\n   */\n  value: PropTypes.any.isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiToggleButton'\n})(ToggleButton);", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport isValueSelected from './isValueSelected';\nimport { withStyles } from '@material-ui/core/styles';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      borderRadius: theme.shape.borderRadius\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the children. */\n    grouped: {},\n\n    /* Styles applied to the children if `orientation=\"horizontal\"`. */\n    groupedHorizontal: {\n      '&:not(:first-child)': {\n        marginLeft: -1,\n        borderLeft: '1px solid transparent',\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0\n      },\n      '&:not(:last-child)': {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0\n      }\n    },\n\n    /* Styles applied to the children if `orientation=\"vertical\"`. */\n    groupedVertical: {\n      '&:not(:first-child)': {\n        marginTop: -1,\n        borderTop: '1px solid transparent',\n        borderTopLeftRadius: 0,\n        borderTopRightRadius: 0\n      },\n      '&:not(:last-child)': {\n        borderBottomLeftRadius: 0,\n        borderBottomRightRadius: 0\n      }\n    }\n  };\n};\nvar ToggleButtonGroup = /*#__PURE__*/React.forwardRef(function ToggleButton(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$exclusive = props.exclusive,\n      exclusive = _props$exclusive === void 0 ? false : _props$exclusive,\n      onChange = props.onChange,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"exclusive\", \"onChange\", \"orientation\", \"size\", \"value\"]);\n\n  var handleChange = function handleChange(event, buttonValue) {\n    if (!onChange) {\n      return;\n    }\n\n    var index = value && value.indexOf(buttonValue);\n    var newValue;\n\n    if (value && index >= 0) {\n      newValue = value.slice();\n      newValue.splice(index, 1);\n    } else {\n      newValue = value ? value.concat(buttonValue) : [buttonValue];\n    }\n\n    onChange(event, newValue);\n  };\n\n  var handleExclusiveChange = function handleExclusiveChange(event, buttonValue) {\n    if (!onChange) {\n      return;\n    }\n\n    onChange(event, value === buttonValue ? null : buttonValue);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"group\",\n    className: clsx(classes.root, className, orientation === 'vertical' && classes.vertical),\n    ref: ref\n  }, other), React.Children.map(children, function (child) {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The ToggleButtonGroup component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    return /*#__PURE__*/React.cloneElement(child, {\n      className: clsx(classes.grouped, classes[\"grouped\".concat(capitalize(orientation))], child.props.className),\n      onChange: exclusive ? handleExclusiveChange : handleChange,\n      selected: child.props.selected === undefined ? isValueSelected(child.props.value, value) : child.props.selected,\n      size: child.props.size || size\n    });\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? ToggleButtonGroup.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\r\n   * The content of the button.\r\n   */\n  children: PropTypes.node,\n\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   * See [CSS API](#css) below for more details.\r\n   */\n  classes: PropTypes.object,\n\n  /**\r\n   * @ignore\r\n   */\n  className: PropTypes.string,\n\n  /**\r\n   * If `true`, only allow one of the child ToggleButton values to be selected.\r\n   */\n  exclusive: PropTypes.bool,\n\n  /**\r\n   * Callback fired when the value changes.\r\n   *\r\n   * @param {object} event The event source of the callback.\r\n   * @param {any} value of the selected buttons. When `exclusive` is true\r\n   * this is a single value; when false an array of selected values. If no value\r\n   * is selected and `exclusive` is true the value is null; when false an empty array.\r\n   */\n  onChange: PropTypes.func,\n\n  /**\r\n   * The group orientation (layout flow direction).\r\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\r\n   * The size of the buttons.\r\n   */\n  size: PropTypes.oneOf(['large', 'medium', 'small']),\n\n  /**\r\n   * The currently selected value within the group or an array of selected\r\n   * values when `exclusive` is false.\r\n   *\r\n   * The value must have reference equality with the option in order to be selected.\r\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiToggleButtonGroup'\n})(ToggleButtonGroup);", "// Determine if the toggle button value matches, or is contained in, the\n// candidate group value.\nexport default function isValueSelected(value, candidate) {\n  if (candidate === undefined || value === undefined) {\n    return false;\n  }\n\n  if (Array.isArray(candidate)) {\n    return candidate.indexOf(value) >= 0;\n  }\n\n  return value === candidate;\n}", "import ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { useAnimationFrame } from \"../lib/useAnimationFrame\";\nimport parseQR from \"jsqr-es6\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport Typography from \"@material-ui/core/Typography\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"auto\",\n\t\t// padding: theme.spacing(2),\n\t\tdisplay: \"inline-grid\",\n\t\tgridTemplateColumns: \"1fr auto\",\n\t\tgridTemplateRows: \"auto auto\",\n\t\tgridGap: theme.spacing(1),\n\t\talignItems: \"center\",\n\t},\n\tcontainer: {\n\t\tflex: 0,\n\t\twidth: 400,\n\t\theight: 400,\n\t\tdisplay: \"grid\",\n\t\toverflow: \"hidden\",\n\t\tcursor: \"pointer\",\n\t\t\"& > *\": {\n\t\t\twidth: 400,\n\t\t\theight: 400,\n\t\t\tgridRow: 1,\n\t\t\tgridColumn: 1,\n\t\t},\n\t\t\"& img\": {\n\t\t\tmaxWidth: \"100%\",\n\t\t},\n\t},\n\thoverOK: {\n\t\tborder: `4px solid ${theme.palette.divider}`,\n\t\tborderStyle: \"dashed\",\n\t\tborderRadius: \"8px\",\n\t},\n\thoverNOK: {\n\t\tcursor: \"not-allowed\",\n\t},\n\tlabel: {\n\t\ttextAlign: \"center\",\n\t\talignSelf: \"center\",\n\t\tlineHeight: \"unset\",\n\t\theight: \"auto\",\n\t},\n}));\n\ninterface Point {\n\tx: number;\n\ty: number;\n}\n\nfunction drawCorner(\n\tctx: CanvasRenderingContext2D,\n\ta: Point,\n\tb: Point,\n\tc: Point,\n\tsize: number,\n\tcolor: string,\n) {\n\tctx.beginPath();\n\tconst _a = {\n\t\tx: a.x + (b.x - a.x) * (1 - size),\n\t\ty: a.y + (b.y - a.y) * (1 - size),\n\t};\n\tconst _c = {\n\t\tx: c.x + (b.x - c.x) * (1 - size),\n\t\ty: c.y + (b.y - c.y) * (1 - size),\n\t};\n\n\tctx.moveTo(_a.x, _a.y);\n\tctx.lineTo(b.x, b.y);\n\tctx.lineTo(_c.x, _c.y);\n\tctx.lineWidth = 4;\n\tctx.strokeStyle = color;\n\tctx.stroke();\n}\n\nexport interface QRScannerVideoProps extends QRScannerProps {\n\tdetectionAreaSize?: number;\n}\n\nexport const QRScannerVideo: React.FC<QRScannerVideoProps> = (props) => {\n\tconst { detectionAreaSize: detectionArea = 100 } = props;\n\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\n\tconst [active, setActive] = React.useState(false);\n\tconst [failed, setFailed] = React.useState(false);\n\tconst video = React.useRef<HTMLVideoElement>();\n\n\tconst previewCanvasRef = React.useRef<HTMLCanvasElement>(null);\n\tconst previewContextRef = React.useRef<CanvasRenderingContext2D>();\n\tconst detectionCanvasRef = React.useRef<HTMLCanvasElement>(null);\n\tconst detectionContextRef = React.useRef<CanvasRenderingContext2D>();\n\n\tconst [qr, setQr] = React.useState<string>();\n\tReact.useEffect(() => {\n\t\tif (qr) props.onDetect(qr);\n\t}, [qr]);\n\n\tReact.useEffect(() => {\n\t\tif (!previewCanvasRef.current) return;\n\t\tpreviewContextRef.current =\n\t\t\tpreviewCanvasRef.current.getContext(\"2d\") ?? undefined;\n\t}, [previewCanvasRef.current]);\n\n\tReact.useEffect(() => {\n\t\tif (!detectionCanvasRef.current) return;\n\t\tdetectionContextRef.current =\n\t\t\tdetectionCanvasRef.current.getContext(\"2d\") ?? undefined;\n\t}, [detectionCanvasRef.current]);\n\n\tuseAnimationFrame(() => {\n\t\tif (\n\t\t\t!active ||\n\t\t\t!video.current ||\n\t\t\t!previewCanvasRef.current ||\n\t\t\t!previewContextRef.current ||\n\t\t\t!detectionCanvasRef.current ||\n\t\t\t!detectionContextRef.current\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst v = video.current;\n\t\tconst cP = previewCanvasRef.current;\n\t\tconst ctxP = previewContextRef.current;\n\t\tconst cD = detectionCanvasRef.current;\n\t\tconst ctxD = detectionContextRef.current;\n\n\t\tif (v.readyState === v.HAVE_ENOUGH_DATA) {\n\t\t\t// Crop the preview to be square\n\t\t\tconst size = Math.min(v.videoWidth, v.videoHeight);\n\t\t\tconst scale = detectionArea / size;\n\t\t\tcP.height = size;\n\t\t\tcP.width = size;\n\n\t\t\tconst [sxP, syP] = [\n\t\t\t\t(v.videoWidth - size) / 2,\n\t\t\t\t(v.videoHeight - size) / 2,\n\t\t\t];\n\t\t\tctxP.drawImage(v, sxP, syP, size, size, 0, 0, cP.width, cP.height);\n\n\t\t\t// Highlight the detection area on the preview canvas\n\t\t\tctxP.beginPath();\n\t\t\tctxP.fillStyle = \"rgba(255,255,255,0.15)\";\n\t\t\tctxP.rect(\n\t\t\t\t(size - detectionArea) / 2,\n\t\t\t\t(size - detectionArea) / 2,\n\t\t\t\tdetectionArea,\n\t\t\t\tdetectionArea,\n\t\t\t);\n\t\t\tctxP.fill();\n\n\t\t\tconst previewCorners = [\n\t\t\t\t{\n\t\t\t\t\tx: (size - detectionArea) / 2,\n\t\t\t\t\ty: (size - detectionArea) / 2,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tx: (size + detectionArea) / 2,\n\t\t\t\t\ty: (size - detectionArea) / 2,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tx: (size + detectionArea) / 2,\n\t\t\t\t\ty: (size + detectionArea) / 2,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tx: (size - detectionArea) / 2,\n\t\t\t\t\ty: (size + detectionArea) / 2,\n\t\t\t\t},\n\t\t\t];\n\t\t\tfor (let i = 0; i < previewCorners.length; i++) {\n\t\t\t\tconst b = previewCorners[i];\n\t\t\t\tconst a =\n\t\t\t\t\tpreviewCorners[\n\t\t\t\t\t\t(i - 1 + previewCorners.length) % previewCorners.length\n\t\t\t\t\t];\n\t\t\t\tconst c = previewCorners[(i + 1) % previewCorners.length];\n\t\t\t\tdrawCorner(ctxP, a, b, c, 0.2, \"rgba(255,255,255,0.5)\");\n\t\t\t}\n\n\t\t\t// Draw the detection area onto the detection canvas in large\n\t\t\tcD.height = size;\n\t\t\tcD.width = size;\n\t\t\tconst [sxD, syD] = [\n\t\t\t\t(v.videoWidth - detectionArea) / 2,\n\t\t\t\t(v.videoHeight - detectionArea) / 2,\n\t\t\t];\n\t\t\tctxD.drawImage(\n\t\t\t\tv,\n\t\t\t\tsxD,\n\t\t\t\tsyD,\n\t\t\t\tdetectionArea,\n\t\t\t\tdetectionArea,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcD.width,\n\t\t\t\tcD.height,\n\t\t\t);\n\n\t\t\tconst imageData = ctxD.getImageData(0, 0, cD.width, cD.height);\n\t\t\tconst code = parseQR(\n\t\t\t\timageData.data,\n\t\t\t\timageData.width,\n\t\t\t\timageData.height,\n\t\t\t\t{\n\t\t\t\t\tinversionAttempts: \"dontInvert\",\n\t\t\t\t},\n\t\t\t);\n\t\t\tif (code) {\n\t\t\t\tsetQr(code.data);\n\t\t\t\tconst corners = [\n\t\t\t\t\tcode.location.topLeftCorner,\n\t\t\t\t\tcode.location.topRightCorner,\n\t\t\t\t\tcode.location.bottomRightCorner,\n\t\t\t\t\tcode.location.bottomLeftCorner,\n\t\t\t\t].map((p) => ({\n\t\t\t\t\tx: p.x * scale + (size - detectionArea) / 2,\n\t\t\t\t\ty: p.y * scale + (size - detectionArea) / 2,\n\t\t\t\t}));\n\t\t\t\tfor (let i = 0; i < corners.length; i++) {\n\t\t\t\t\tconst b = corners[i];\n\t\t\t\t\tconst a =\n\t\t\t\t\t\tcorners[(i - 1 + corners.length) % corners.length];\n\t\t\t\t\tconst c = corners[(i + 1) % corners.length];\n\t\t\t\t\tdrawCorner(ctxP, a, b, c, 0.2, \"green\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetQr(undefined);\n\t\t\t}\n\t\t}\n\t}, [\n\t\tactive,\n\t\tdrawCorner,\n\t\tvideo.current,\n\t\tpreviewCanvasRef.current,\n\t\tpreviewContextRef.current,\n\t\tdetectionCanvasRef.current,\n\t\tdetectionContextRef.current,\n\t\tdetectionArea,\n\t]);\n\n\tReact.useEffect(() => {\n\t\tvideo.current = document.createElement(\"video\");\n\t\tlet stream: MediaStream | undefined;\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tstream = await navigator.mediaDevices\n\t\t\t\t\t// Attempt to get the back camera on phones\n\t\t\t\t\t.getUserMedia({ video: { facingMode: \"environment\" } });\n\t\t\t} catch {\n\t\t\t\tsetFailed(true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!video.current) return;\n\t\t\tvideo.current.srcObject = stream;\n\t\t\tvideo.current.setAttribute(\"playsinline\", \"true\"); // required to tell iOS safari we don't want fullscreen\n\t\t\tvideo.current.play();\n\t\t\tsetActive(true);\n\t\t})();\n\n\t\treturn () => {\n\t\t\tstream?.getTracks().forEach((track) => track.stop());\n\t\t\tvideo.current = undefined;\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<Typography variant=\"body2\" className={classes.label}>\n\t\t\t\t{failed ? _(\"failed to open camera\") : _(\"opening camera...\")}\n\t\t\t</Typography>\n\t\t\t<canvas ref={previewCanvasRef}></canvas>\n\t\t\t<canvas hidden ref={detectionCanvasRef}></canvas>\n\t\t</div>\n\t);\n};\n\nexport type QRScannerImageProps = QRScannerProps;\n\nexport const QRScannerImage: React.FC<QRScannerImageProps> = (props) => {\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\n\tconst fileInputRef = React.useRef<HTMLInputElement>(null);\n\tconst imageRef = React.useRef<HTMLImageElement>(null);\n\n\tconst handleLabelClick = React.useCallback(() => {\n\t\tfileInputRef.current?.click();\n\t}, [fileInputRef.current]);\n\n\tconst [fileURL, setFileURL] = React.useState<string>();\n\tconst handleFileChange = React.useCallback(\n\t\t(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst file = e.target.files?.[0];\n\t\t\tif (!file) return;\n\t\t\tsetFileURL(URL.createObjectURL(file));\n\t\t},\n\t\t[setFileURL],\n\t);\n\tconst [failed, setFailed] = React.useState(false);\n\n\tconst [dropState, setDropState] = React.useState<\"idle\" | \"ok\" | \"nok\">(\n\t\t\"idle\",\n\t);\n\n\tconst handleDragOver = React.useCallback(\n\t\t(e: React.DragEvent<HTMLDivElement>) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (e.dataTransfer.items?.length === 1) {\n\t\t\t\tconst item = e.dataTransfer.items[0];\n\t\t\t\tif (item.kind === \"file\" && item.type.startsWith(\"image/\")) {\n\t\t\t\t\te.dataTransfer.dropEffect = \"copy\";\n\t\t\t\t\tsetDropState(\"ok\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\te.dataTransfer.dropEffect = \"none\";\n\t\t\tsetDropState(\"nok\");\n\t\t},\n\t\t[setDropState],\n\t);\n\tconst handleDragLeave = React.useCallback(\n\t\t(e: React.DragEvent<HTMLDivElement>) => {\n\t\t\te.preventDefault();\n\t\t\tsetDropState(\"idle\");\n\t\t},\n\t\t[setDropState],\n\t);\n\tconst handleDrop = React.useCallback(\n\t\t(e: React.DragEvent<HTMLDivElement>) => {\n\t\t\te.preventDefault();\n\t\t\tif (dropState !== \"ok\") return;\n\t\t\tsetDropState(\"idle\");\n\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onloadend = () => {\n\t\t\t\tsetFileURL(reader.result as string);\n\t\t\t};\n\t\t\treader.readAsDataURL(e.dataTransfer.files![0]);\n\t\t},\n\t\t[dropState, imageRef.current],\n\t);\n\n\tconst previewCanvasRef = React.useRef<HTMLCanvasElement>(null);\n\tconst previewContextRef = React.useRef<CanvasRenderingContext2D>();\n\tconst detectionCanvasRef = React.useRef<HTMLCanvasElement>(null);\n\tconst detectionContextRef = React.useRef<CanvasRenderingContext2D>();\n\n\tconst [qr, setQr] = React.useState<string>();\n\tReact.useEffect(() => {\n\t\tif (qr) props.onDetect(qr);\n\t}, [qr]);\n\n\tReact.useEffect(() => {\n\t\tif (!previewCanvasRef.current) return;\n\t\tpreviewContextRef.current =\n\t\t\tpreviewCanvasRef.current.getContext(\"2d\") ?? undefined;\n\t}, [previewCanvasRef.current]);\n\n\tReact.useEffect(() => {\n\t\tif (!detectionCanvasRef.current) return;\n\t\tdetectionContextRef.current =\n\t\t\tdetectionCanvasRef.current.getContext(\"2d\") ?? undefined;\n\t}, [detectionCanvasRef.current]);\n\n\tconst handleImageLoad = React.useCallback(() => {\n\t\tif (\n\t\t\t!imageRef.current ||\n\t\t\t!previewCanvasRef.current ||\n\t\t\t!previewContextRef.current ||\n\t\t\t!detectionCanvasRef.current ||\n\t\t\t!detectionContextRef.current\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetFailed(false);\n\n\t\tconst cP = previewCanvasRef.current;\n\t\tconst ctxP = previewContextRef.current;\n\t\tconst cD = detectionCanvasRef.current;\n\t\tconst ctxD = detectionContextRef.current;\n\n\t\t// Draw preview\n\t\tcP.width = imageRef.current.width;\n\t\tcP.height = imageRef.current.height;\n\t\tctxP.drawImage(imageRef.current, 0, 0, cP.width, cP.height);\n\n\t\t// Draw detection canvas\n\t\tcD.width = cP.width * 2;\n\t\tcD.height = cP.height * 2;\n\t\tctxD.drawImage(imageRef.current, 0, 0, cD.width, cD.height);\n\n\t\tconst scale = cP.width / cD.width;\n\n\t\tconst imageData = ctxD.getImageData(0, 0, cD.width, cD.height);\n\t\tsetTimeout(() => {\n\t\t\tconst code = parseQR(\n\t\t\t\timageData.data,\n\t\t\t\timageData.width,\n\t\t\t\timageData.height,\n\t\t\t\t{\n\t\t\t\t\tinversionAttempts: \"dontInvert\",\n\t\t\t\t},\n\t\t\t);\n\t\t\tif (code) {\n\t\t\t\tsetQr(code.data);\n\t\t\t\tconst corners = [\n\t\t\t\t\tcode.location.topLeftCorner,\n\t\t\t\t\tcode.location.topRightCorner,\n\t\t\t\t\tcode.location.bottomRightCorner,\n\t\t\t\t\tcode.location.bottomLeftCorner,\n\t\t\t\t].map((p) => ({\n\t\t\t\t\tx: p.x * scale,\n\t\t\t\t\ty: p.y * scale,\n\t\t\t\t}));\n\t\t\t\tfor (let i = 0; i < corners.length; i++) {\n\t\t\t\t\tconst b = corners[i];\n\t\t\t\t\tconst a =\n\t\t\t\t\t\tcorners[(i - 1 + corners.length) % corners.length];\n\t\t\t\t\tconst c = corners[(i + 1) % corners.length];\n\t\t\t\t\tdrawCorner(ctxP, a, b, c, 0.2, \"green\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetQr(undefined);\n\t\t\t}\n\t\t}, 0);\n\t}, [\n\t\tpreviewCanvasRef.current,\n\t\tpreviewContextRef.current,\n\t\timageRef.current,\n\t\tsetFailed,\n\t]);\n\n\tconst handleImageError = React.useCallback(() => {\n\t\tsetFailed(true);\n\t}, [setFailed]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={clsx(\n\t\t\t\tclasses.container,\n\t\t\t\tdropState === \"ok\"\n\t\t\t\t\t? classes.hoverOK\n\t\t\t\t\t: dropState === \"nok\"\n\t\t\t\t\t? classes.hoverNOK\n\t\t\t\t\t: undefined,\n\t\t\t)}\n\t\t\tonClick={handleLabelClick}\n\t\t\tonDragOverCapture={handleDragOver}\n\t\t\tonDragLeave={handleDragLeave}\n\t\t\tonDropCapture={handleDrop}\n\t\t>\n\t\t\t<Typography variant=\"body2\" className={classes.label}>\n\t\t\t\t{failed ? (\n\t\t\t\t\t_(\"Failed to open image file\")\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{_(\"Click here to select image with QR code\")}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{_(\"Or drag an image file here\")}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Typography>\n\t\t\t{fileURL && (\n\t\t\t\t<img\n\t\t\t\t\tref={imageRef}\n\t\t\t\t\tsrc={fileURL}\n\t\t\t\t\tonLoad={handleImageLoad}\n\t\t\t\t\tonError={handleImageError}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<input\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\"image/*\"\n\t\t\t\thidden\n\t\t\t\tref={fileInputRef}\n\t\t\t\tonChange={handleFileChange}\n\t\t\t/>\n\t\t\t<canvas ref={previewCanvasRef}></canvas>\n\t\t\t<canvas hidden ref={detectionCanvasRef}></canvas>\n\t\t</div>\n\t);\n};\n\nexport interface QRScannerProps {\n\tonDetect: (code: string) => void;\n}\n\nexport const QRScanner: React.FC<QRScannerProps> = (props) => {\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\n\tconst [mode, setMode] = React.useState<\"image\" | \"video\">(\"image\");\n\n\tconst handleChange = (\n\t\tevent: React.MouseEvent<HTMLElement>,\n\t\tnewMode: \"image\" | \"video\" | null,\n\t) => {\n\t\tif (newMode) setMode(newMode);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Typography variant=\"body1\">\n\t\t\t\t{_(\"Select QR code source\")}:\n\t\t\t</Typography>\n\t\t\t<ToggleButtonGroup value={mode} exclusive onChange={handleChange}>\n\t\t\t\t<ToggleButton value=\"video\">\n\t\t\t\t\t<VideocamIcon />\n\t\t\t\t</ToggleButton>\n\t\t\t\t<ToggleButton value=\"image\">\n\t\t\t\t\t<PhotoCameraIcon />\n\t\t\t\t</ToggleButton>\n\t\t\t</ToggleButtonGroup>\n\t\t\t<div style={{ gridColumn: \"1 / span 2\" }}>\n\t\t\t\t{mode === \"video\" ? (\n\t\t\t\t\t<QRScannerVideo {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<QRScannerImage {...props} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n", "import React, { useEffect, useRef } from \"react\";\n\nexport type UseAnimationFrameCallback = ({\n\ttotalMs,\n\tdeltaMs,\n}: {\n\ttotalMs: number;\n\tdeltaMs: number;\n}) => void;\n\nexport function useAnimationFrame(\n\tcb: UseAnimationFrameCallback,\n\tdeps?: React.DependencyList,\n): void {\n\tif (typeof performance === \"undefined\" || typeof window === \"undefined\") {\n\t\treturn;\n\t}\n\n\tconst frame = useRef<number>();\n\tconst last = useRef(performance.now());\n\tconst init = useRef(performance.now());\n\n\tconst animate = () => {\n\t\tconst now = performance.now();\n\t\tconst totalMs = now - init.current;\n\t\tconst deltaMs = now - last.current;\n\t\tcb({ totalMs, deltaMs });\n\t\tlast.current = now;\n\t\tframe.current = requestAnimationFrame(animate);\n\t};\n\n\tuseEffect(() => {\n\t\tframe.current = requestAnimationFrame(animate);\n\t\treturn () => cancelAnimationFrame(frame.current!);\n\t}, deps);\n}\n", "export class BitMatrix {\n  public static createEmpty(width: number, height: number) {\n    return new BitMatrix(new Uint8ClampedArray(width * height), width);\n  }\n\n  public width: number;\n  public height: number;\n  private data: Uint8ClampedArray;\n\n  constructor(data: Uint8ClampedArray, width: number) {\n    this.width = width;\n    this.height = data.length / width;\n    this.data = data;\n  }\n\n  public get(x: number, y: number): boolean {\n    if (x < 0 || x >= this.width || y < 0 || y >= this.height) {\n      return false;\n    }\n    return !!this.data[y * this.width + x];\n  }\n\n  public set(x: number, y: number, v: boolean) {\n    this.data[y * this.width + x] = v ? 1 : 0;\n  }\n\n  public setRegion(left: number, top: number, width: number, height: number, v: boolean) {\n    for (let y = top; y < top + height; y++) {\n      for (let x = left; x < left + width; x++) {\n        this.set(x, y, !!v);\n      }\n    }\n  }\n}\n", "import {BitMatrix} from \"../BitMatrix\";\nimport {GreyscaleWeights} from \"../index\";\n\nconst REGION_SIZE = 8;\nconst MIN_DYNAMIC_RANGE = 24;\n\nfunction numBetween(value: number, min: number, max: number): number {\n  return value < min ? min : value > max ? max : value;\n}\n\n// Like BitMatrix but accepts arbitry Uint8 values\nclass Matrix {\n  private data: Uint8ClampedArray;\n  private width: number;\n  constructor(width: number, height: number, buffer?: Uint8ClampedArray) {\n    this.width = width;\n    const bufferSize = width * height;\n    if (buffer && buffer.length !== bufferSize) {\n      throw new Error(\"Wrong buffer size\");\n    }\n    this.data = buffer || new Uint8ClampedArray(bufferSize);\n  }\n  public get(x: number, y: number) {\n    return this.data[y * this.width + x];\n  }\n  public set(x: number, y: number, value: number) {\n    this.data[y * this.width + x] = value;\n  }\n}\n\nexport function binarize(data: Uint8ClampedArray, width: number, height: number, returnInverted: boolean,\n                         greyscaleWeights: GreyscaleWeights, canOverwriteImage: boolean) {\n  const pixelCount = width * height;\n  if (data.length !== pixelCount * 4) {\n    throw new Error(\"Malformed data passed to binarizer.\");\n  }\n  // assign the greyscale and binary image within the rgba buffer as the rgba image will not be needed after conversion\n  let bufferOffset = 0;\n  // Convert image to greyscale\n  let greyscaleBuffer: Uint8ClampedArray;\n  if (canOverwriteImage) {\n    greyscaleBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n    bufferOffset += pixelCount;\n  }\n  const greyscalePixels = new Matrix(width, height, greyscaleBuffer);\n  if (greyscaleWeights.useIntegerApproximation) {\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const pixelPosition = (y * width + x) * 4;\n        const r = data[pixelPosition];\n        const g = data[pixelPosition + 1];\n        const b = data[pixelPosition + 2];\n        greyscalePixels.set(x, y,\n          // tslint:disable-next-line no-bitwise\n          (greyscaleWeights.red * r + greyscaleWeights.green * g + greyscaleWeights.blue * b + 128) >> 8);\n      }\n    }\n  } else {\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const pixelPosition = (y * width + x) * 4;\n        const r = data[pixelPosition];\n        const g = data[pixelPosition + 1];\n        const b = data[pixelPosition + 2];\n        greyscalePixels.set(x, y,\n          greyscaleWeights.red * r + greyscaleWeights.green * g + greyscaleWeights.blue * b);\n      }\n    }\n  }\n  const horizontalRegionCount = Math.ceil(width / REGION_SIZE);\n  const verticalRegionCount = Math.ceil(height / REGION_SIZE);\n  const blackPointsCount = horizontalRegionCount * verticalRegionCount;\n\n  let blackPointsBuffer: Uint8ClampedArray;\n  if (canOverwriteImage) {\n    blackPointsBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, blackPointsCount);\n    bufferOffset += blackPointsCount;\n  }\n  const blackPoints = new Matrix(horizontalRegionCount, verticalRegionCount, blackPointsBuffer);\n  for (let verticalRegion = 0; verticalRegion < verticalRegionCount; verticalRegion++) {\n    for (let hortizontalRegion = 0; hortizontalRegion < horizontalRegionCount; hortizontalRegion++) {\n      let min = Infinity;\n      let max = 0;\n      for (let y = 0; y < REGION_SIZE; y++) {\n        for (let x = 0; x < REGION_SIZE; x++) {\n          const pixelLumosity =\n            greyscalePixels.get(hortizontalRegion * REGION_SIZE + x, verticalRegion * REGION_SIZE + y);\n          min = Math.min(min, pixelLumosity);\n          max = Math.max(max, pixelLumosity);\n        }\n      }\n      // We could also compute the real average of all pixels but following the assumption that the qr code consists\n      // of bright and dark pixels and essentially not much in between, by (min + max)/2 we make the cut really between\n      // those two classes. If using the average over all pixel in a block of mostly bright pixels and few dark pixels,\n      // the avg would tend to the bright side and darker bright pixels could be interpreted as dark.\n      let average = (min + max) / 2;\n      // Small bias towards black by moving the threshold up. We do this, as in the finder patterns white holes tend\n      // to appear which makes them undetectable.\n      const blackBias = 1.11;\n      average = Math.min(255, average * blackBias);\n      if (max - min <= MIN_DYNAMIC_RANGE) {\n        // If variation within the block is low, assume this is a block with only light or only\n        // dark pixels. In that case we do not want to use the average, as it would divide this\n        // low contrast area into black and white pixels, essentially creating data out of noise.\n        //\n        // Default the blackpoint for these blocks to be half the min - effectively white them out\n        average = min / 2;\n\n        if (verticalRegion > 0 && hortizontalRegion > 0) {\n          // Correct the \"white background\" assumption for blocks that have neighbors by comparing\n          // the pixels in this block to the previously calculated black points. This is based on\n          // the fact that dark barcode symbology is always surrounded by some amount of light\n          // background for which reasonable black point estimates were made. The bp estimated at\n          // the boundaries is used for the interior.\n\n          // The (min < bp) is arbitrary but works better than other heuristics that were tried.\n          const averageNeighborBlackPoint = (\n            blackPoints.get(hortizontalRegion, verticalRegion - 1) +\n            (2 * blackPoints.get(hortizontalRegion - 1, verticalRegion)) +\n            blackPoints.get(hortizontalRegion - 1, verticalRegion - 1)\n          ) / 4;\n          if (min < averageNeighborBlackPoint) {\n            average = averageNeighborBlackPoint; // no need to apply black bias as already applied to neighbors\n          }\n        }\n      }\n      blackPoints.set(hortizontalRegion, verticalRegion, average);\n    }\n  }\n\n  let binarized: BitMatrix;\n  if (canOverwriteImage) {\n    const binarizedBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n    bufferOffset += pixelCount;\n    binarized = new BitMatrix(binarizedBuffer, width);\n  } else {\n    binarized = BitMatrix.createEmpty(width, height);\n  }\n\n  let inverted: BitMatrix = null;\n  if (returnInverted) {\n    if (canOverwriteImage) {\n      const invertedBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n      inverted = new BitMatrix(invertedBuffer, width);\n    } else {\n      inverted = BitMatrix.createEmpty(width, height);\n    }\n  }\n\n  for (let verticalRegion = 0; verticalRegion < verticalRegionCount; verticalRegion++) {\n    for (let hortizontalRegion = 0; hortizontalRegion < horizontalRegionCount; hortizontalRegion++) {\n      const left = numBetween(hortizontalRegion, 2, horizontalRegionCount - 3);\n      const top = numBetween(verticalRegion, 2, verticalRegionCount - 3);\n      let sum = 0;\n      for (let xRegion = -2; xRegion <= 2; xRegion++) {\n        for (let yRegion = -2; yRegion <= 2; yRegion++) {\n          sum += blackPoints.get(left + xRegion, top + yRegion);\n        }\n      }\n      const threshold = sum / 25;\n      for (let xRegion = 0; xRegion < REGION_SIZE; xRegion++) {\n        for (let yRegion = 0; yRegion < REGION_SIZE; yRegion++) {\n          const x = hortizontalRegion * REGION_SIZE + xRegion;\n          const y = verticalRegion * REGION_SIZE + yRegion;\n          const lum = greyscalePixels.get(x, y);\n          binarized.set(x, y, lum <= threshold);\n          if (returnInverted) {\n            inverted.set(x, y, !(lum <= threshold));\n          }\n        }\n      }\n    }\n  }\n  if (returnInverted) {\n    return { binarized, inverted };\n  }\n  return { binarized };\n}\n", "// tslint:disable:no-bitwise\n\nexport class BitStream {\n  private bytes: Uint8ClampedArray;\n  private byteOffset: number = 0;\n  private bitOffset: number = 0;\n\n  constructor(bytes: Uint8ClampedArray) {\n    this.bytes = bytes;\n  }\n\n  public readBits(numBits: number): number {\n    if (numBits < 1 || numBits > 32 || numBits > this.available()) {\n      throw new Error(\"Cannot read \" + numBits.toString() + \" bits\");\n    }\n\n    let result = 0;\n    // First, read remainder from current byte\n    if (this.bitOffset > 0) {\n      const bitsLeft = 8 - this.bitOffset;\n      const toRead = numBits < bitsLeft ? numBits : bitsLeft;\n      const bitsToNotRead = bitsLeft - toRead;\n      const mask = (0xFF >> (8 - toRead)) << bitsToNotRead;\n      result = (this.bytes[this.byteOffset] & mask) >> bitsToNotRead;\n      numBits -= toRead;\n      this.bitOffset += toRead;\n      if (this.bitOffset === 8) {\n        this.bitOffset = 0;\n        this.byteOffset++;\n      }\n    }\n\n    // Next read whole bytes\n    if (numBits > 0) {\n      while (numBits >= 8) {\n        result = (result << 8) | (this.bytes[this.byteOffset] & 0xFF);\n        this.byteOffset++;\n        numBits -= 8;\n      }\n\n      // Finally read a partial byte\n      if (numBits > 0) {\n        const bitsToNotRead = 8 - numBits;\n        const mask = (0xFF >> bitsToNotRead) << bitsToNotRead;\n        result = (result << numBits) | ((this.bytes[this.byteOffset] & mask) >> bitsToNotRead);\n        this.bitOffset += numBits;\n      }\n    }\n    return result;\n  }\n\n  public available(): number {\n    return 8 * (this.bytes.length - this.byteOffset) - this.bitOffset;\n  }\n}\n", "// tslint:disable:no-bitwise\nimport { BitStream } from \"./BitStream\";\n\nexport interface Chunk {\n  type: Mode;\n  text: string;\n}\n\nexport interface ByteChunk {\n  type: Mode.Byte | Mode.Kanji;\n  bytes: number[];\n}\n\nexport interface ECIChunk {\n  type: Mode.ECI;\n  assignmentNumber: number;\n}\n\nexport interface StructuredAppend {\n  type: Mode.StructuredAppend;\n  currentSequence: number;\n  totalSequence: number;\n  parity: number;\n}\n\nexport type Chunks = Array<Chunk | ByteChunk | ECIChunk | StructuredAppend>;\n\nexport interface DecodedQR {\n  text: string;\n  bytes: number[];\n  chunks: Chunks;\n  version: number;\n}\n\nexport enum Mode {\n  Numeric = \"numeric\",\n  Alphanumeric = \"alphanumeric\",\n  Byte = \"byte\",\n  Kanji = \"kanji\",\n  ECI = \"eci\",\n  StructuredAppend = \"structuredappend\",\n}\n\nenum ModeByte {\n  Terminator = 0x0,\n  Numeric = 0x1,\n  Alphanumeric = 0x2,\n  Byte = 0x4,\n  Kanji = 0x8,\n  ECI = 0x7,\n  StructuredAppend = 0x3,\n  // FNC1FirstPosition = 0x5,\n  // FNC1SecondPosition = 0x9,\n}\n\nfunction decodeNumeric(stream: BitStream, size: number) {\n  const bytes: number[] = [];\n  let text = \"\";\n\n  const characterCountSize = [10, 12, 14][size];\n  let length = stream.readBits(characterCountSize);\n  // Read digits in groups of 3\n  while (length >= 3) {\n    const num = stream.readBits(10);\n    if (num >= 1000) {\n      throw new Error(\"Invalid numeric value above 999\");\n    }\n\n    const a = Math.floor(num / 100);\n    const b = Math.floor(num / 10) % 10;\n    const c = num % 10;\n\n    bytes.push(48 + a, 48 + b, 48 + c);\n    text += a.toString() + b.toString() + c.toString();\n    length -= 3;\n  }\n\n  // If the number of digits aren't a multiple of 3, the remaining digits are special cased.\n  if (length === 2) {\n    const num = stream.readBits(7);\n    if (num >= 100) {\n      throw new Error(\"Invalid numeric value above 99\");\n    }\n\n    const a = Math.floor(num / 10);\n    const b = num % 10;\n\n    bytes.push(48 + a, 48 + b);\n    text += a.toString() + b.toString();\n  } else if (length === 1) {\n    const num = stream.readBits(4);\n    if (num >= 10) {\n      throw new Error(\"Invalid numeric value above 9\");\n    }\n\n    bytes.push(48 + num);\n    text += num.toString();\n  }\n\n  return { bytes, text };\n}\n\nconst AlphanumericCharacterCodes = [\n  \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\",\n  \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\",\n  \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\",\n  \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\n  \" \", \"$\", \"%\", \"*\", \"+\", \"-\", \".\", \"/\", \":\",\n];\n\nfunction decodeAlphanumeric(stream: BitStream, size: number) {\n  const bytes: number[] = [];\n  let text = \"\";\n\n  const characterCountSize = [9, 11, 13][size];\n  let length = stream.readBits(characterCountSize);\n  while (length >= 2) {\n    const v = stream.readBits(11);\n\n    const a = Math.floor(v / 45);\n    const b = v % 45;\n\n    bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0), AlphanumericCharacterCodes[b].charCodeAt(0));\n    text += AlphanumericCharacterCodes[a] + AlphanumericCharacterCodes[b];\n    length -= 2;\n  }\n\n  if (length === 1) {\n    const a = stream.readBits(6);\n    bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0));\n    text += AlphanumericCharacterCodes[a];\n  }\n\n  return { bytes, text };\n}\n\nfunction decodeByte(stream: BitStream, size: number) {\n  const bytes: number[] = [];\n  let text = \"\";\n\n  const characterCountSize = [8, 16, 16][size];\n  const length = stream.readBits(characterCountSize);\n  for (let i = 0; i < length; i++) {\n    const b = stream.readBits(8);\n    bytes.push(b);\n  }\n  try {\n    text += decodeURIComponent(bytes.map(b => `%${(\"0\" + b.toString(16)).substr(-2)}`).join(\"\"));\n  } catch {\n    // failed to decode\n  }\n\n  return { bytes, text };\n}\n\nfunction decodeKanji(stream: BitStream, size: number) {\n  const bytes: number[] = [];\n\n  const characterCountSize = [8, 10, 12][size];\n  const length = stream.readBits(characterCountSize);\n  for (let i = 0; i < length; i++) {\n    const k = stream.readBits(13);\n\n    let c = (Math.floor(k / 0xC0) << 8) | (k % 0xC0);\n    if (c < 0x1F00) {\n      c += 0x8140;\n    } else {\n      c += 0xC140;\n    }\n\n    bytes.push(c >> 8, c & 0xFF);\n  }\n\n  const text = new TextDecoder(\"shift-jis\").decode(Uint8Array.from(bytes));\n  return { bytes, text };\n}\n\nexport function decode(data: Uint8ClampedArray, version: number): DecodedQR {\n  const stream = new BitStream(data);\n\n  // There are 3 'sizes' based on the version. 1-9 is small (0), 10-26 is medium (1) and 27-40 is large (2).\n  const size = version <= 9 ? 0 : version <= 26 ? 1 : 2;\n\n  const result: DecodedQR = {\n    text: \"\",\n    bytes: [],\n    chunks: [],\n    version,\n  };\n\n  while (stream.available() >= 4) {\n    const mode = stream.readBits(4);\n    if (mode === ModeByte.Terminator) {\n      return result;\n    } else if (mode === ModeByte.ECI) {\n      if (stream.readBits(1) === 0) {\n        result.chunks.push({\n          type: Mode.ECI,\n          assignmentNumber: stream.readBits(7),\n        });\n      } else if (stream.readBits(1) === 0) {\n        result.chunks.push({\n          type: Mode.ECI,\n          assignmentNumber: stream.readBits(14),\n        });\n      } else if (stream.readBits(1) === 0) {\n        result.chunks.push({\n          type: Mode.ECI,\n          assignmentNumber: stream.readBits(21),\n        });\n      } else {\n        // ECI data seems corrupted\n        result.chunks.push({\n          type: Mode.ECI,\n          assignmentNumber: -1,\n        });\n      }\n    } else if (mode === ModeByte.Numeric) {\n      const numericResult = decodeNumeric(stream, size);\n      result.text += numericResult.text;\n      result.bytes.push(...numericResult.bytes);\n      result.chunks.push({\n        type: Mode.Numeric,\n        text: numericResult.text,\n      });\n    } else if (mode === ModeByte.Alphanumeric) {\n      const alphanumericResult = decodeAlphanumeric(stream, size);\n      result.text += alphanumericResult.text;\n      result.bytes.push(...alphanumericResult.bytes);\n      result.chunks.push({\n        type: Mode.Alphanumeric,\n        text: alphanumericResult.text,\n      });\n    } else if (mode === ModeByte.Byte) {\n      const byteResult = decodeByte(stream, size);\n      result.text += byteResult.text;\n      result.bytes.push(...byteResult.bytes);\n      result.chunks.push({\n        type: Mode.Byte,\n        bytes: byteResult.bytes,\n        text: byteResult.text,\n      });\n    } else if (mode === ModeByte.Kanji) {\n      const kanjiResult = decodeKanji(stream, size);\n      result.text += kanjiResult.text;\n      result.bytes.push(...kanjiResult.bytes);\n      result.chunks.push({\n        type: Mode.Kanji,\n        bytes: kanjiResult.bytes,\n        text: kanjiResult.text,\n      });\n    } else if (mode === ModeByte.StructuredAppend) {\n      result.chunks.push({\n        type: Mode.StructuredAppend,\n        currentSequence: stream.readBits(4),\n        totalSequence: stream.readBits(4),\n        parity: stream.readBits(8),\n      });\n    }\n  }\n\n  // If there is no data left, or the remaining bits are all 0, then that counts as a termination marker\n  if (stream.available() === 0 || stream.readBits(stream.available()) === 0) {\n    return result;\n  }\n}\n", "import GenericGF, { addOrSubtractGF } from \"./GenericGF\";\n\nexport default class GenericGFPoly {\n  private field: GenericGF;\n  private coefficients: Uint8ClampedArray;\n\n  constructor(field: GenericGF, coefficients: Uint8ClampedArray) {\n    if (coefficients.length === 0) {\n      throw new Error(\"No coefficients.\");\n    }\n    this.field = field;\n    const coefficientsLength = coefficients.length;\n    if (coefficientsLength > 1 && coefficients[0] === 0) {\n      // Leading term must be non-zero for anything except the constant polynomial \"0\"\n      let firstNonZero = 1;\n      while (firstNonZero < coefficientsLength && coefficients[firstNonZero] === 0) {\n        firstNonZero++;\n      }\n      if (firstNonZero === coefficientsLength) {\n        this.coefficients = field.zero.coefficients;\n      } else {\n        this.coefficients = new Uint8ClampedArray(coefficientsLength - firstNonZero);\n        for (let i = 0; i < this.coefficients.length; i++) {\n          this.coefficients[i] = coefficients[firstNonZero + i];\n        }\n      }\n    } else {\n      this.coefficients = coefficients;\n    }\n  }\n\n  public degree() {\n    return this.coefficients.length - 1;\n  }\n\n  public isZero() {\n    return this.coefficients[0] === 0;\n  }\n\n  public getCoefficient(degree: number) {\n    return this.coefficients[this.coefficients.length - 1 - degree];\n  }\n\n  public addOrSubtract(other: GenericGFPoly) {\n    if (this.isZero()) {\n      return other;\n    }\n    if (other.isZero()) {\n      return this;\n    }\n\n    let smallerCoefficients = this.coefficients;\n    let largerCoefficients = other.coefficients;\n    if (smallerCoefficients.length > largerCoefficients.length) {\n      [smallerCoefficients, largerCoefficients] = [largerCoefficients, smallerCoefficients];\n    }\n    const sumDiff = new Uint8ClampedArray(largerCoefficients.length);\n    const lengthDiff = largerCoefficients.length - smallerCoefficients.length;\n    for (let i = 0; i < lengthDiff; i++) {\n      sumDiff[i] = largerCoefficients[i];\n    }\n\n    for (let i = lengthDiff; i < largerCoefficients.length; i++) {\n      sumDiff[i] = addOrSubtractGF(smallerCoefficients[i - lengthDiff], largerCoefficients[i]);\n    }\n\n    return new GenericGFPoly(this.field, sumDiff);\n  }\n\n  public multiply(scalar: number) {\n    if (scalar === 0) {\n      return this.field.zero;\n    }\n    if (scalar === 1) {\n      return this;\n    }\n    const size = this.coefficients.length;\n    const product = new Uint8ClampedArray(size);\n    for (let i = 0; i < size; i++) {\n      product[i] = this.field.multiply(this.coefficients[i], scalar);\n    }\n\n    return new GenericGFPoly(this.field, product);\n  }\n\n  public multiplyPoly(other: GenericGFPoly): GenericGFPoly {\n    if (this.isZero() || other.isZero()) {\n      return this.field.zero;\n    }\n    const aCoefficients = this.coefficients;\n    const aLength = aCoefficients.length;\n    const bCoefficients = other.coefficients;\n    const bLength = bCoefficients.length;\n    const product = new Uint8ClampedArray(aLength + bLength - 1);\n    for (let i = 0; i < aLength; i++) {\n      const aCoeff = aCoefficients[i];\n      for (let j = 0; j < bLength; j++) {\n        product[i + j] = addOrSubtractGF(product[i + j],\n          this.field.multiply(aCoeff, bCoefficients[j]));\n      }\n    }\n    return new GenericGFPoly(this.field, product);\n  }\n\n  public multiplyByMonomial(degree: number, coefficient: number) {\n    if (degree < 0) {\n      throw new Error(\"Invalid degree less than 0\");\n    }\n    if (coefficient === 0) {\n      return this.field.zero;\n    }\n    const size = this.coefficients.length;\n    const product = new Uint8ClampedArray(size + degree);\n    for (let i = 0; i < size; i++) {\n      product[i] = this.field.multiply(this.coefficients[i], coefficient);\n    }\n    return new GenericGFPoly(this.field, product);\n  }\n\n  public evaluateAt(a: number) {\n    let result = 0;\n    if (a === 0) {\n      // Just return the x^0 coefficient\n      return this.getCoefficient(0);\n    }\n    const size = this.coefficients.length;\n    if (a === 1) {\n      // Just the sum of the coefficients\n      this.coefficients.forEach((coefficient) => {\n        result = addOrSubtractGF(result, coefficient);\n      });\n      return result;\n    }\n    result = this.coefficients[0];\n    for (let i = 1; i < size; i++) {\n      result = addOrSubtractGF(this.field.multiply(a, result), this.coefficients[i]);\n    }\n    return result;\n  }\n}\n", "import GenericGFPoly from \"./GenericGFPoly\";\n\nexport function addOrSubtractGF(a: number, b: number) {\n  return a ^ b; // tslint:disable-line:no-bitwise\n}\n\nexport default class GenericGF {\n  public primitive: number;\n  public size: number;\n  public generatorBase: number;\n  public zero: GenericGFPoly;\n  public one: GenericGFPoly;\n\n  private expTable: number[];\n  private logTable: number[];\n\n  constructor(primitive: number, size: number, genBase: number) {\n    this.primitive = primitive;\n    this.size = size;\n    this.generatorBase = genBase;\n    this.expTable = new Array(this.size);\n    this.logTable = new Array(this.size);\n\n    let x = 1;\n    for (let i = 0; i < this.size; i++) {\n      this.expTable[i] = x;\n      x = x * 2;\n      if (x >= this.size) {\n        x = (x ^ this.primitive) & (this.size - 1); // tslint:disable-line:no-bitwise\n      }\n    }\n\n    for (let i = 0; i < this.size - 1; i++) {\n      this.logTable[this.expTable[i]] = i;\n    }\n    this.zero = new GenericGFPoly(this, Uint8ClampedArray.from([0]));\n    this.one = new GenericGFPoly(this, Uint8ClampedArray.from([1]));\n  }\n\n  public multiply(a: number, b: number) {\n    if (a === 0 || b === 0) {\n      return 0;\n    }\n    return this.expTable[(this.logTable[a] + this.logTable[b]) % (this.size - 1)];\n  }\n\n  public inverse(a: number) {\n    if (a === 0) {\n      throw new Error(\"Can't invert 0\");\n    }\n    return this.expTable[this.size - this.logTable[a] - 1];\n  }\n\n  public buildMonomial(degree: number, coefficient: number): GenericGFPoly {\n    if (degree < 0) {\n      throw new Error(\"Invalid monomial degree less than 0\");\n    }\n    if (coefficient === 0) {\n      return this.zero;\n    }\n    const coefficients = new Uint8ClampedArray(degree + 1);\n    coefficients[0] = coefficient;\n    return new GenericGFPoly(this, coefficients);\n  }\n\n  public log(a: number) {\n    if (a === 0) {\n      throw new Error(\"Can't take log(0)\");\n    }\n    return this.logTable[a];\n  }\n\n  public exp(a: number) {\n    return this.expTable[a];\n  }\n}\n", "import GenericGF, { addOrSubtractGF } from \"./GenericGF\";\nimport GenericGFPoly from \"./GenericGFPoly\";\n\nfunction runEuclideanAlgorithm(field: GenericGF, a: GenericGFPoly, b: GenericGFPoly, R: number): GenericGFPoly[] {\n  // Assume a's degree is >= b's\n  if (a.degree() < b.degree()) {\n    [a, b] = [b, a];\n  }\n\n  let rLast = a;\n  let r = b;\n  let tLast = field.zero;\n  let t = field.one;\n\n  // Run Euclidean algorithm until r's degree is less than R/2\n  while (r.degree() >= R / 2) {\n    const rLastLast = rLast;\n    const tLastLast = tLast;\n    rLast = r;\n    tLast = t;\n\n    // Divide rLastLast by rLast, with quotient in q and remainder in r\n    if (rLast.isZero()) {\n      // Euclidean algorithm already terminated?\n      return null;\n    }\n    r = rLastLast;\n    let q = field.zero;\n    const denominatorLeadingTerm = rLast.getCoefficient(rLast.degree());\n    const dltInverse = field.inverse(denominatorLeadingTerm);\n    while (r.degree() >= rLast.degree() && !r.isZero()) {\n      const degreeDiff = r.degree() - rLast.degree();\n      const scale = field.multiply(r.getCoefficient(r.degree()), dltInverse);\n      q = q.addOrSubtract(field.buildMonomial(degreeDiff, scale));\n      r = r.addOrSubtract(rLast.multiplyByMonomial(degreeDiff, scale));\n    }\n\n    t = q.multiplyPoly(tLast).addOrSubtract(tLastLast);\n\n    if (r.degree() >= rLast.degree()) {\n      return null;\n    }\n  }\n\n  const sigmaTildeAtZero = t.getCoefficient(0);\n  if (sigmaTildeAtZero === 0) {\n    return null;\n  }\n\n  const inverse = field.inverse(sigmaTildeAtZero);\n  return [t.multiply(inverse), r.multiply(inverse)];\n}\n\nfunction findErrorLocations(field: GenericGF, errorLocator: GenericGFPoly): number[] {\n  // This is a direct application of Chien's search\n  const numErrors = errorLocator.degree();\n  if (numErrors === 1) {\n    return [errorLocator.getCoefficient(1)];\n  }\n  const result: number[] = new Array(numErrors);\n  let errorCount = 0;\n  for (let i = 1; i < field.size && errorCount < numErrors; i++) {\n    if (errorLocator.evaluateAt(i) === 0) {\n      result[errorCount] = field.inverse(i);\n      errorCount++;\n    }\n  }\n  if (errorCount !== numErrors) {\n    return null;\n  }\n  return result;\n}\n\nfunction findErrorMagnitudes(field: GenericGF, errorEvaluator: GenericGFPoly, errorLocations: number[]): number[] {\n  // This is directly applying Forney's Formula\n  const s = errorLocations.length;\n  const result: number[] = new Array(s);\n  for (let i = 0; i < s; i++) {\n    const xiInverse = field.inverse(errorLocations[i]);\n    let denominator = 1;\n    for (let j = 0; j < s; j++) {\n      if (i !== j) {\n        denominator = field.multiply(denominator, addOrSubtractGF(1, field.multiply(errorLocations[j], xiInverse)));\n      }\n    }\n    result[i] = field.multiply(errorEvaluator.evaluateAt(xiInverse), field.inverse(denominator));\n    if (field.generatorBase !== 0) {\n      result[i] = field.multiply(result[i], xiInverse);\n    }\n  }\n  return result;\n}\n\nexport function decode(bytes: number[], twoS: number) {\n  const outputBytes = new Uint8ClampedArray(bytes.length);\n  outputBytes.set(bytes);\n\n  const field = new GenericGF(0x011D, 256, 0); // x^8 + x^4 + x^3 + x^2 + 1\n  const poly = new GenericGFPoly(field, outputBytes);\n\n  const syndromeCoefficients = new Uint8ClampedArray(twoS);\n  let error = false;\n  for (let s = 0; s < twoS; s++) {\n    const evaluation = poly.evaluateAt(field.exp(s + field.generatorBase));\n    syndromeCoefficients[syndromeCoefficients.length - 1 - s] = evaluation;\n    if (evaluation !== 0) {\n      error = true;\n    }\n  }\n  if (!error) {\n    return outputBytes;\n  }\n\n  const syndrome = new GenericGFPoly(field, syndromeCoefficients);\n\n  const sigmaOmega = runEuclideanAlgorithm(field, field.buildMonomial(twoS, 1), syndrome, twoS);\n  if (sigmaOmega === null) {\n    return null;\n  }\n\n  const errorLocations = findErrorLocations(field, sigmaOmega[0]);\n  if (errorLocations == null) {\n    return null;\n  }\n\n  const errorMagnitudes = findErrorMagnitudes(field, sigmaOmega[1], errorLocations);\n  for (let i = 0; i < errorLocations.length; i++) {\n    const position = outputBytes.length - 1 - field.log(errorLocations[i]);\n    if (position < 0) {\n      return null;\n    }\n    outputBytes[position] = addOrSubtractGF(outputBytes[position], errorMagnitudes[i]);\n  }\n\n  return outputBytes;\n}\n", "export interface Version {\n  infoBits: number;\n  versionNumber: number;\n  alignmentPatternCenters: number[];\n  errorCorrectionLevels: Array<{\n    ecCodewordsPerBlock: number;\n    ecBlocks: Array<{\n      numBlocks: number;\n      dataCodewordsPerBlock: number;\n    }>\n  }>;\n}\n\nexport const VERSIONS: Version[] = [\n  {\n    infoBits: null,\n    versionNumber: 1,\n    alignmentPatternCenters: [],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 7,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 19 }],\n      },\n      {\n        ecCodewordsPerBlock: 10,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 16 }],\n      },\n      {\n        ecCodewordsPerBlock: 13,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 13 }],\n      },\n      {\n        ecCodewordsPerBlock: 17,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 9 }],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 2,\n    alignmentPatternCenters: [6, 18],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 10,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 34 }],\n      },\n      {\n        ecCodewordsPerBlock: 16,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 28 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 22 }],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 16 }],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 3,\n    alignmentPatternCenters: [6, 22],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 15,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 55 }],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 44 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 17 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 13 }],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 4,\n    alignmentPatternCenters: [6, 26],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 80 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 32 }],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 24 }],\n      },\n      {\n        ecCodewordsPerBlock: 16,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 9 }],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 5,\n    alignmentPatternCenters: [6, 30],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 108 }],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 43 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 15 },\n          { numBlocks: 2, dataCodewordsPerBlock: 16 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 11 },\n          { numBlocks: 2, dataCodewordsPerBlock: 12 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 6,\n    alignmentPatternCenters: [6, 34],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 68 }],\n      },\n      {\n        ecCodewordsPerBlock: 16,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 27 }],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 19 }],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 15 }],\n      },\n    ],\n  },\n  {\n    infoBits: 0x07C94,\n    versionNumber: 7,\n    alignmentPatternCenters: [6, 22, 38],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 78 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 31 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 14 },\n          { numBlocks: 4, dataCodewordsPerBlock: 15 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 13 },\n          { numBlocks: 1, dataCodewordsPerBlock: 14 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x085BC,\n    versionNumber: 8,\n    alignmentPatternCenters: [6, 24, 42],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 97 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 38 },\n          { numBlocks: 2, dataCodewordsPerBlock: 39 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 18 },\n          { numBlocks: 2, dataCodewordsPerBlock: 19 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 14 },\n          { numBlocks: 2, dataCodewordsPerBlock: 15 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x09A99,\n    versionNumber: 9,\n    alignmentPatternCenters: [6, 26, 46],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 116 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 36 },\n          { numBlocks: 2, dataCodewordsPerBlock: 37 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 16 },\n          { numBlocks: 4, dataCodewordsPerBlock: 17 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 12 },\n          { numBlocks: 4, dataCodewordsPerBlock: 13 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0A4D3,\n    versionNumber: 10,\n    alignmentPatternCenters: [6, 28, 50],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 68 },\n          { numBlocks: 2, dataCodewordsPerBlock: 69 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 43 },\n          { numBlocks: 1, dataCodewordsPerBlock: 44 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 19 },\n          { numBlocks: 2, dataCodewordsPerBlock: 20 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 15 },\n          { numBlocks: 2, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0BBF6,\n    versionNumber: 11,\n    alignmentPatternCenters: [6, 30, 54],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 81 }],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 1, dataCodewordsPerBlock: 50 },\n          { numBlocks: 4, dataCodewordsPerBlock: 51 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 22 },\n          { numBlocks: 4, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 12 },\n          { numBlocks: 8, dataCodewordsPerBlock: 13 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0C762,\n    versionNumber: 12,\n    alignmentPatternCenters: [6, 32, 58],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 92 },\n          { numBlocks: 2, dataCodewordsPerBlock: 93 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 36 },\n          { numBlocks: 2, dataCodewordsPerBlock: 37 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 20 },\n          { numBlocks: 6, dataCodewordsPerBlock: 21 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 14 },\n          { numBlocks: 4, dataCodewordsPerBlock: 15 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0D847,\n    versionNumber: 13,\n    alignmentPatternCenters: [6, 34, 62],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 107 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 37 },\n          { numBlocks: 1, dataCodewordsPerBlock: 38 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 20 },\n          { numBlocks: 4, dataCodewordsPerBlock: 21 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 12, dataCodewordsPerBlock: 11 },\n          { numBlocks: 4, dataCodewordsPerBlock: 12 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0E60D,\n    versionNumber: 14,\n    alignmentPatternCenters: [6, 26, 46, 66],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 115 },\n          { numBlocks: 1, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 40 },\n          { numBlocks: 5, dataCodewordsPerBlock: 41 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 16 },\n          { numBlocks: 5, dataCodewordsPerBlock: 17 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 12 },\n          { numBlocks: 5, dataCodewordsPerBlock: 13 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0F928,\n    versionNumber: 15,\n    alignmentPatternCenters: [6, 26, 48, 70],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 87 },\n          { numBlocks: 1, dataCodewordsPerBlock: 88 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 41 },\n          { numBlocks: 5, dataCodewordsPerBlock: 42 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 24 },\n          { numBlocks: 7, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 12 },\n          { numBlocks: 7, dataCodewordsPerBlock: 13 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x10B78,\n    versionNumber: 16,\n    alignmentPatternCenters: [6, 26, 50, 74],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 98 },\n          { numBlocks: 1, dataCodewordsPerBlock: 99 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 45 },\n          { numBlocks: 3, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 15, dataCodewordsPerBlock: 19 },\n          { numBlocks: 2, dataCodewordsPerBlock: 20 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 15 },\n          { numBlocks: 13, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1145D,\n    versionNumber: 17,\n    alignmentPatternCenters: [6, 30, 54, 78],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 1, dataCodewordsPerBlock: 107 },\n          { numBlocks: 5, dataCodewordsPerBlock: 108 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 46 },\n          { numBlocks: 1, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 1, dataCodewordsPerBlock: 22 },\n          { numBlocks: 15, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 14 },\n          { numBlocks: 17, dataCodewordsPerBlock: 15 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x12A17,\n    versionNumber: 18,\n    alignmentPatternCenters: [6, 30, 56, 82],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 120 },\n          { numBlocks: 1, dataCodewordsPerBlock: 121 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 9, dataCodewordsPerBlock: 43 },\n          { numBlocks: 4, dataCodewordsPerBlock: 44 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 22 },\n          { numBlocks: 1, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 14 },\n          { numBlocks: 19, dataCodewordsPerBlock: 15 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x13532,\n    versionNumber: 19,\n    alignmentPatternCenters: [6, 30, 58, 86],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 113 },\n          { numBlocks: 4, dataCodewordsPerBlock: 114 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 44 },\n          { numBlocks: 11, dataCodewordsPerBlock: 45 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 21 },\n          { numBlocks: 4, dataCodewordsPerBlock: 22 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 9, dataCodewordsPerBlock: 13 },\n          { numBlocks: 16, dataCodewordsPerBlock: 14 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x149A6,\n    versionNumber: 20,\n    alignmentPatternCenters: [6, 34, 62, 90],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 107 },\n          { numBlocks: 5, dataCodewordsPerBlock: 108 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 41 },\n          { numBlocks: 13, dataCodewordsPerBlock: 42 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 15, dataCodewordsPerBlock: 24 },\n          { numBlocks: 5, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 15, dataCodewordsPerBlock: 15 },\n          { numBlocks: 10, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x15683,\n    versionNumber: 21,\n    alignmentPatternCenters: [6, 28, 50, 72, 94],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 116 },\n          { numBlocks: 4, dataCodewordsPerBlock: 117 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 42 }],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 22 },\n          { numBlocks: 6, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 16 },\n          { numBlocks: 6, dataCodewordsPerBlock: 17 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x168C9,\n    versionNumber: 22,\n    alignmentPatternCenters: [6, 26, 50, 74, 98],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 111 },\n          { numBlocks: 7, dataCodewordsPerBlock: 112 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 46 }],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 24 },\n          { numBlocks: 16, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [{ numBlocks: 34, dataCodewordsPerBlock: 13 }],\n      },\n    ],\n  },\n  {\n    infoBits: 0x177EC,\n    versionNumber: 23,\n    alignmentPatternCenters: [6, 30, 54, 74, 102],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 121 },\n          { numBlocks: 5, dataCodewordsPerBlock: 122 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 47 },\n          { numBlocks: 14, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 24 },\n          { numBlocks: 14, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 16, dataCodewordsPerBlock: 15 },\n          { numBlocks: 14, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x18EC4,\n    versionNumber: 24,\n    alignmentPatternCenters: [6, 28, 54, 80, 106],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 117 },\n          { numBlocks: 4, dataCodewordsPerBlock: 118 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 45 },\n          { numBlocks: 14, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 24 },\n          { numBlocks: 16, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 30, dataCodewordsPerBlock: 16 },\n          { numBlocks: 2, dataCodewordsPerBlock: 17 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x191E1,\n    versionNumber: 25,\n    alignmentPatternCenters: [6, 32, 58, 84, 110],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 106 },\n          { numBlocks: 4, dataCodewordsPerBlock: 107 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 47 },\n          { numBlocks: 13, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 24 },\n          { numBlocks: 22, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 22, dataCodewordsPerBlock: 15 },\n          { numBlocks: 13, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1AFAB,\n    versionNumber: 26,\n    alignmentPatternCenters: [6, 30, 58, 86, 114],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 114 },\n          { numBlocks: 2, dataCodewordsPerBlock: 115 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 46 },\n          { numBlocks: 4, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 28, dataCodewordsPerBlock: 22 },\n          { numBlocks: 6, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 33, dataCodewordsPerBlock: 16 },\n          { numBlocks: 4, dataCodewordsPerBlock: 17 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1B08E,\n    versionNumber: 27,\n    alignmentPatternCenters: [6, 34, 62, 90, 118],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 122 },\n          { numBlocks: 4, dataCodewordsPerBlock: 123 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 22, dataCodewordsPerBlock: 45 },\n          { numBlocks: 3, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 23 },\n          { numBlocks: 26, dataCodewordsPerBlock: 24 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 12, dataCodewordsPerBlock: 15 },\n          { numBlocks: 28, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1CC1A,\n    versionNumber: 28,\n    alignmentPatternCenters: [6, 26, 50, 74, 98, 122],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 117 },\n          { numBlocks: 10, dataCodewordsPerBlock: 118 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 45 },\n          { numBlocks: 23, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 24 },\n          { numBlocks: 31, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 15 },\n          { numBlocks: 31, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1D33F,\n    versionNumber: 29,\n    alignmentPatternCenters: [6, 30, 54, 78, 102, 126],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 116 },\n          { numBlocks: 7, dataCodewordsPerBlock: 117 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 21, dataCodewordsPerBlock: 45 },\n          { numBlocks: 7, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 1, dataCodewordsPerBlock: 23 },\n          { numBlocks: 37, dataCodewordsPerBlock: 24 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 15 },\n          { numBlocks: 26, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1ED75,\n    versionNumber: 30,\n    alignmentPatternCenters: [6, 26, 52, 78, 104, 130],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 115 },\n          { numBlocks: 10, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 47 },\n          { numBlocks: 10, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 15, dataCodewordsPerBlock: 24 },\n          { numBlocks: 25, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 23, dataCodewordsPerBlock: 15 },\n          { numBlocks: 25, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1F250,\n    versionNumber: 31,\n    alignmentPatternCenters: [6, 30, 56, 82, 108, 134],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 13, dataCodewordsPerBlock: 115 },\n          { numBlocks: 3, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 46 },\n          { numBlocks: 29, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 42, dataCodewordsPerBlock: 24 },\n          { numBlocks: 1, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 23, dataCodewordsPerBlock: 15 },\n          { numBlocks: 28, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x209D5,\n    versionNumber: 32,\n    alignmentPatternCenters: [6, 34, 60, 86, 112, 138],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 115 }],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 46 },\n          { numBlocks: 23, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 24 },\n          { numBlocks: 35, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 15 },\n          { numBlocks: 35, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x216F0,\n    versionNumber: 33,\n    alignmentPatternCenters: [6, 30, 58, 86, 114, 142],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 115 },\n          { numBlocks: 1, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 14, dataCodewordsPerBlock: 46 },\n          { numBlocks: 21, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 29, dataCodewordsPerBlock: 24 },\n          { numBlocks: 19, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 15 },\n          { numBlocks: 46, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x228BA,\n    versionNumber: 34,\n    alignmentPatternCenters: [6, 34, 62, 90, 118, 146],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 13, dataCodewordsPerBlock: 115 },\n          { numBlocks: 6, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 14, dataCodewordsPerBlock: 46 },\n          { numBlocks: 23, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 44, dataCodewordsPerBlock: 24 },\n          { numBlocks: 7, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 59, dataCodewordsPerBlock: 16 },\n          { numBlocks: 1, dataCodewordsPerBlock: 17 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x2379F,\n    versionNumber: 35,\n    alignmentPatternCenters: [6, 30, 54, 78, 102, 126, 150],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 12, dataCodewordsPerBlock: 121 },\n          { numBlocks: 7, dataCodewordsPerBlock: 122 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 12, dataCodewordsPerBlock: 47 },\n          { numBlocks: 26, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 39, dataCodewordsPerBlock: 24 },\n          { numBlocks: 14, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 22, dataCodewordsPerBlock: 15 },\n          { numBlocks: 41, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x24B0B,\n    versionNumber: 36,\n    alignmentPatternCenters: [ 6, 24, 50, 76, 102, 128, 154 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 121 },\n          { numBlocks: 14, dataCodewordsPerBlock: 122 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 47 },\n          { numBlocks: 34, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 46, dataCodewordsPerBlock: 24 },\n          { numBlocks: 10, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 15 },\n          { numBlocks: 64, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x2542E,\n    versionNumber: 37,\n    alignmentPatternCenters: [ 6, 28, 54, 80, 106, 132, 158 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 122 },\n          { numBlocks: 4, dataCodewordsPerBlock: 123 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 29, dataCodewordsPerBlock: 46 },\n          { numBlocks: 14, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 49, dataCodewordsPerBlock: 24 },\n          { numBlocks: 10, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 24, dataCodewordsPerBlock: 15 },\n          { numBlocks: 46, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x26A64,\n    versionNumber: 38,\n    alignmentPatternCenters: [ 6, 32, 58, 84, 110, 136, 162 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 122 },\n          { numBlocks: 18, dataCodewordsPerBlock: 123 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 13, dataCodewordsPerBlock: 46 },\n          { numBlocks: 32, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 48, dataCodewordsPerBlock: 24 },\n          { numBlocks: 14, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 42, dataCodewordsPerBlock: 15 },\n          { numBlocks: 32, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x27541,\n    versionNumber: 39,\n    alignmentPatternCenters: [ 6, 26, 54, 82, 110, 138, 166 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 20, dataCodewordsPerBlock: 117 },\n          { numBlocks: 4, dataCodewordsPerBlock: 118 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 40, dataCodewordsPerBlock: 47 },\n          { numBlocks: 7, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 43, dataCodewordsPerBlock: 24 },\n          { numBlocks: 22, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 15 },\n          { numBlocks: 67, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x28C69,\n    versionNumber: 40,\n    alignmentPatternCenters: [ 6, 30, 58, 86, 114, 142, 170 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 118 },\n          { numBlocks: 6, dataCodewordsPerBlock: 119 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 18, dataCodewordsPerBlock: 47 },\n          { numBlocks: 31, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 34, dataCodewordsPerBlock: 24 },\n          { numBlocks: 34, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 20, dataCodewordsPerBlock: 15 },\n          { numBlocks: 61, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n];\n", "import { BitMatrix } from \"../BitMatrix\";\nimport { Point } from \"../Point\";\nimport { decode as decodeData, DecodedQR } from \"./decodeData\";\nimport { decode as rsDecode } from \"./reedsolomon\";\nimport { Version, VERSIONS } from \"./version\";\n\n// tslint:disable:no-bitwise\nfunction numBitsDiffering(x: number, y: number) {\n  let z = x ^ y;\n  let bitCount = 0;\n  while (z) {\n    bitCount++;\n    z &= z - 1;\n  }\n  return bitCount;\n}\n\nfunction pushBit(bit: any, byte: number) {\n  return (byte << 1) | bit;\n}\n// tslint:enable:no-bitwise\n\nconst FORMAT_INFO_TABLE = [\n  { bits: 0x5412, formatInfo: { errorCorrectionLevel: 1, dataMask: 0 } },\n  { bits: 0x5125, formatInfo: { errorCorrectionLevel: 1, dataMask: 1 } },\n  { bits: 0x5E7C, formatInfo: { errorCorrectionLevel: 1, dataMask: 2 } },\n  { bits: 0x5B4B, formatInfo: { errorCorrectionLevel: 1, dataMask: 3 } },\n  { bits: 0x45F9, formatInfo: { errorCorrectionLevel: 1, dataMask: 4 } },\n  { bits: 0x40CE, formatInfo: { errorCorrectionLevel: 1, dataMask: 5 } },\n  { bits: 0x4F97, formatInfo: { errorCorrectionLevel: 1, dataMask: 6 } },\n  { bits: 0x4AA0, formatInfo: { errorCorrectionLevel: 1, dataMask: 7 } },\n  { bits: 0x77C4, formatInfo: { errorCorrectionLevel: 0, dataMask: 0 } },\n  { bits: 0x72F3, formatInfo: { errorCorrectionLevel: 0, dataMask: 1 } },\n  { bits: 0x7DAA, formatInfo: { errorCorrectionLevel: 0, dataMask: 2 } },\n  { bits: 0x789D, formatInfo: { errorCorrectionLevel: 0, dataMask: 3 } },\n  { bits: 0x662F, formatInfo: { errorCorrectionLevel: 0, dataMask: 4 } },\n  { bits: 0x6318, formatInfo: { errorCorrectionLevel: 0, dataMask: 5 } },\n  { bits: 0x6C41, formatInfo: { errorCorrectionLevel: 0, dataMask: 6 } },\n  { bits: 0x6976, formatInfo: { errorCorrectionLevel: 0, dataMask: 7 } },\n  { bits: 0x1689, formatInfo: { errorCorrectionLevel: 3, dataMask: 0 } },\n  { bits: 0x13BE, formatInfo: { errorCorrectionLevel: 3, dataMask: 1 } },\n  { bits: 0x1CE7, formatInfo: { errorCorrectionLevel: 3, dataMask: 2 } },\n  { bits: 0x19D0, formatInfo: { errorCorrectionLevel: 3, dataMask: 3 } },\n  { bits: 0x0762, formatInfo: { errorCorrectionLevel: 3, dataMask: 4 } },\n  { bits: 0x0255, formatInfo: { errorCorrectionLevel: 3, dataMask: 5 } },\n  { bits: 0x0D0C, formatInfo: { errorCorrectionLevel: 3, dataMask: 6 } },\n  { bits: 0x083B, formatInfo: { errorCorrectionLevel: 3, dataMask: 7 } },\n  { bits: 0x355F, formatInfo: { errorCorrectionLevel: 2, dataMask: 0 } },\n  { bits: 0x3068, formatInfo: { errorCorrectionLevel: 2, dataMask: 1 } },\n  { bits: 0x3F31, formatInfo: { errorCorrectionLevel: 2, dataMask: 2 } },\n  { bits: 0x3A06, formatInfo: { errorCorrectionLevel: 2, dataMask: 3 } },\n  { bits: 0x24B4, formatInfo: { errorCorrectionLevel: 2, dataMask: 4 } },\n  { bits: 0x2183, formatInfo: { errorCorrectionLevel: 2, dataMask: 5 } },\n  { bits: 0x2EDA, formatInfo: { errorCorrectionLevel: 2, dataMask: 6 } },\n  { bits: 0x2BED, formatInfo: { errorCorrectionLevel: 2, dataMask: 7 } },\n];\n\nconst DATA_MASKS = [\n  (p: Point) => ((p.y + p.x) % 2) === 0,\n  (p: Point) => (p.y % 2) === 0,\n  (p: Point) => p.x % 3 === 0,\n  (p: Point) => (p.y + p.x) % 3 === 0,\n  (p: Point) => (Math.floor(p.y / 2) + Math.floor(p.x / 3)) % 2 === 0,\n  (p: Point) => ((p.x * p.y) % 2) + ((p.x * p.y) % 3) === 0,\n  (p: Point) => ((((p.y * p.x) % 2) + (p.y * p.x) % 3) % 2) === 0,\n  (p: Point) => ((((p.y + p.x) % 2) + (p.y * p.x) % 3) % 2) === 0,\n];\n\ninterface FormatInformation {\n  errorCorrectionLevel: number;\n  dataMask: number;\n}\n\nfunction buildFunctionPatternMask(version: Version): BitMatrix {\n  const dimension = 17 + 4 * version.versionNumber;\n  const matrix = BitMatrix.createEmpty(dimension, dimension);\n\n  matrix.setRegion(0, 0, 9, 9, true); // Top left finder pattern + separator + format\n  matrix.setRegion(dimension - 8, 0, 8, 9, true); // Top right finder pattern + separator + format\n  matrix.setRegion(0, dimension - 8, 9, 8, true); // Bottom left finder pattern + separator + format\n\n  // Alignment patterns\n  for (const x of version.alignmentPatternCenters) {\n    for (const y of version.alignmentPatternCenters) {\n      if (!(x === 6 && y === 6 || x === 6 && y === dimension - 7 || x === dimension - 7 && y === 6)) {\n        matrix.setRegion(x - 2, y - 2, 5, 5, true);\n      }\n    }\n  }\n\n  matrix.setRegion(6, 9, 1, dimension - 17, true); // Vertical timing pattern\n  matrix.setRegion(9, 6, dimension - 17, 1, true); // Horizontal timing pattern\n\n  if (version.versionNumber > 6) {\n    matrix.setRegion(dimension - 11, 0, 3, 6, true); // Version info, top right\n    matrix.setRegion(0, dimension - 11, 6, 3, true); // Version info, bottom left\n  }\n\n  return matrix;\n}\n\nfunction readCodewords(matrix: BitMatrix, version: Version, formatInfo: FormatInformation) {\n  const dataMask = DATA_MASKS[formatInfo.dataMask];\n  const dimension = matrix.height;\n\n  const functionPatternMask = buildFunctionPatternMask(version);\n\n  const codewords: number[] = [];\n  let currentByte = 0;\n  let bitsRead = 0;\n\n  // Read columns in pairs, from right to left\n  let readingUp = true;\n  for (let columnIndex = dimension - 1; columnIndex > 0; columnIndex -= 2) {\n    if (columnIndex === 6) { // Skip whole column with vertical alignment pattern;\n      columnIndex--;\n    }\n    for (let i = 0; i < dimension; i++) {\n      const y = readingUp ? dimension - 1 - i : i;\n      for (let columnOffset = 0; columnOffset < 2; columnOffset++) {\n        const x = columnIndex - columnOffset;\n        if (!functionPatternMask.get(x, y)) {\n          bitsRead++;\n          let bit = matrix.get(x, y);\n          if (dataMask({y, x})) {\n            bit = !bit;\n          }\n          currentByte = pushBit(bit, currentByte);\n          if (bitsRead === 8) { // Whole bytes\n            codewords.push(currentByte);\n            bitsRead = 0;\n            currentByte = 0;\n          }\n        }\n      }\n    }\n    readingUp = !readingUp;\n  }\n  return codewords;\n}\n\nfunction readVersion(matrix: BitMatrix): Version {\n  const dimension = matrix.height;\n\n  const provisionalVersion = Math.floor((dimension - 17) / 4);\n  if (provisionalVersion <= 6) { // 6 and under dont have version info in the QR code\n    return VERSIONS[provisionalVersion - 1];\n  }\n\n  let topRightVersionBits = 0;\n  for (let y = 5; y >= 0; y--) {\n    for (let x = dimension - 9; x >= dimension - 11; x--) {\n      topRightVersionBits = pushBit(matrix.get(x, y), topRightVersionBits);\n    }\n  }\n\n  let bottomLeftVersionBits = 0;\n  for (let x = 5; x >= 0; x--) {\n    for (let y = dimension - 9; y >= dimension - 11; y--) {\n      bottomLeftVersionBits = pushBit(matrix.get(x, y), bottomLeftVersionBits);\n    }\n  }\n\n  let bestDifference = Infinity;\n  let bestVersion: Version;\n  for (const version of VERSIONS) {\n    if (version.infoBits === topRightVersionBits || version.infoBits === bottomLeftVersionBits) {\n      return version;\n    }\n\n    let difference = numBitsDiffering(topRightVersionBits, version.infoBits);\n    if (difference < bestDifference) {\n      bestVersion = version;\n      bestDifference = difference;\n    }\n\n    difference = numBitsDiffering(bottomLeftVersionBits, version.infoBits);\n    if (difference < bestDifference) {\n      bestVersion = version;\n      bestDifference = difference;\n    }\n  }\n  // We can tolerate up to 3 bits of error since no two version info codewords will\n  // differ in less than 8 bits.\n  if (bestDifference <= 3) {\n    return bestVersion;\n  }\n}\n\nfunction readFormatInformation(matrix: BitMatrix) {\n  let topLeftFormatInfoBits = 0;\n  for (let x = 0; x <= 8; x++) {\n    if (x !== 6) { // Skip timing pattern bit\n      topLeftFormatInfoBits = pushBit(matrix.get(x, 8), topLeftFormatInfoBits);\n    }\n  }\n  for (let y = 7; y >= 0; y--) {\n    if (y !== 6) { // Skip timing pattern bit\n      topLeftFormatInfoBits = pushBit(matrix.get(8, y), topLeftFormatInfoBits);\n    }\n  }\n\n  const dimension = matrix.height;\n  let topRightBottomRightFormatInfoBits = 0;\n  for (let y = dimension - 1; y >= dimension - 7; y--) { // bottom left\n    topRightBottomRightFormatInfoBits = pushBit(matrix.get(8, y), topRightBottomRightFormatInfoBits);\n  }\n  for (let x = dimension - 8; x < dimension; x++) { // top right\n    topRightBottomRightFormatInfoBits = pushBit(matrix.get(x, 8), topRightBottomRightFormatInfoBits);\n  }\n\n  let bestDifference = Infinity;\n  let bestFormatInfo = null;\n  for (const {bits, formatInfo} of FORMAT_INFO_TABLE) {\n    if (bits === topLeftFormatInfoBits || bits === topRightBottomRightFormatInfoBits) {\n      return formatInfo;\n    }\n    let difference = numBitsDiffering(topLeftFormatInfoBits, bits);\n    if (difference < bestDifference) {\n      bestFormatInfo = formatInfo;\n      bestDifference = difference;\n    }\n    if (topLeftFormatInfoBits !== topRightBottomRightFormatInfoBits) { // also try the other option\n      difference = numBitsDiffering(topRightBottomRightFormatInfoBits, bits);\n      if (difference < bestDifference) {\n        bestFormatInfo = formatInfo;\n        bestDifference = difference;\n      }\n    }\n  }\n  // Hamming distance of the 32 masked codes is 7, by construction, so <= 3 bits differing means we found a match\n  if (bestDifference <= 3) {\n    return bestFormatInfo;\n  }\n  return null;\n}\n\nfunction getDataBlocks(codewords: number[], version: Version, ecLevel: number) {\n  const ecInfo = version.errorCorrectionLevels[ecLevel];\n  const dataBlocks: Array<{\n    numDataCodewords: number;\n    codewords: number[];\n  }> = [];\n\n  let totalCodewords = 0;\n  ecInfo.ecBlocks.forEach(block => {\n    for (let i = 0; i < block.numBlocks; i++) {\n      dataBlocks.push({ numDataCodewords: block.dataCodewordsPerBlock, codewords: [] });\n      totalCodewords += block.dataCodewordsPerBlock + ecInfo.ecCodewordsPerBlock;\n    }\n  });\n\n  // In some cases the QR code will be malformed enough that we pull off more or less than we should.\n  // If we pull off less there's nothing we can do.\n  // If we pull off more we can safely truncate\n  if (codewords.length < totalCodewords) {\n    return null;\n  }\n  codewords = codewords.slice(0, totalCodewords);\n\n  const shortBlockSize = ecInfo.ecBlocks[0].dataCodewordsPerBlock;\n  // Pull codewords to fill the blocks up to the minimum size\n  for (let i = 0; i < shortBlockSize; i++) {\n    for (const dataBlock of dataBlocks) {\n      dataBlock.codewords.push(codewords.shift());\n    }\n  }\n\n  // If there are any large blocks, pull codewords to fill the last element of those\n  if (ecInfo.ecBlocks.length > 1) {\n    const smallBlockCount = ecInfo.ecBlocks[0].numBlocks;\n    const largeBlockCount = ecInfo.ecBlocks[1].numBlocks;\n    for (let i = 0; i < largeBlockCount; i++) {\n      dataBlocks[smallBlockCount + i].codewords.push(codewords.shift());\n    }\n  }\n\n  // Add the rest of the codewords to the blocks. These are the error correction codewords.\n  while (codewords.length > 0) {\n    for (const dataBlock of dataBlocks) {\n      dataBlock.codewords.push(codewords.shift());\n    }\n  }\n\n  return dataBlocks;\n}\n\nfunction decodeMatrix(matrix: BitMatrix) {\n  const version = readVersion(matrix);\n  if (!version) {\n    return null;\n  }\n\n  const formatInfo = readFormatInformation(matrix);\n  if (!formatInfo) {\n    return null;\n  }\n\n  const codewords = readCodewords(matrix, version, formatInfo);\n  const dataBlocks = getDataBlocks(codewords, version, formatInfo.errorCorrectionLevel);\n  if (!dataBlocks) {\n    return null;\n  }\n\n  // Count total number of data bytes\n  const totalBytes = dataBlocks.reduce((a, b) => a + b.numDataCodewords, 0);\n  const resultBytes = new Uint8ClampedArray(totalBytes);\n\n  let resultIndex = 0;\n  for (const dataBlock of dataBlocks) {\n    const correctedBytes = rsDecode(dataBlock.codewords, dataBlock.codewords.length - dataBlock.numDataCodewords);\n    if (!correctedBytes) {\n      return null;\n    }\n    for (let i = 0; i < dataBlock.numDataCodewords; i++) {\n      resultBytes[resultIndex++] = correctedBytes[i];\n    }\n  }\n\n  try {\n    return decodeData(resultBytes, version.versionNumber);\n  } catch {\n    return null;\n  }\n}\n\nexport function decode(matrix: BitMatrix): DecodedQR {\n  if (matrix == null) {\n    return null;\n  }\n  const result = decodeMatrix(matrix);\n  if (result) {\n    return result;\n  }\n  // Decoding didn't work, try mirroring the QR across the topLeft -> bottomRight line.\n  for (let x = 0; x < matrix.width; x++) {\n    for (let y = x + 1; y < matrix.height; y++) {\n      if (matrix.get(x, y) !== matrix.get(y, x)) {\n        matrix.set(x, y, !matrix.get(x, y));\n        matrix.set(y, x, !matrix.get(y, x));\n      }\n    }\n  }\n  return decodeMatrix(matrix);\n}\n", "import {BitMatrix} from \"../BitMatrix\";\nimport {Point, QRLocation} from \"../locator\";\n\ninterface PerspectiveTransform {\n  a11: number;\n  a21: number;\n  a31: number;\n  a12: number;\n  a22: number;\n  a32: number;\n  a13: number;\n  a23: number;\n  a33: number;\n}\n\nfunction squareToQuadrilateral(p1: Point, p2: Point, p3: Point, p4: Point): PerspectiveTransform {\n  const dx3 = p1.x - p2.x + p3.x - p4.x;\n  const dy3 = p1.y - p2.y + p3.y - p4.y;\n  if (dx3 === 0 && dy3 === 0) { // Affine\n    return {\n      a11: p2.x - p1.x,\n      a12: p2.y - p1.y,\n      a13: 0,\n      a21: p3.x - p2.x,\n      a22: p3.y - p2.y,\n      a23: 0,\n      a31: p1.x,\n      a32: p1.y,\n      a33: 1,\n    };\n  } else {\n    const dx1 = p2.x - p3.x;\n    const dx2 = p4.x - p3.x;\n    const dy1 = p2.y - p3.y;\n    const dy2 = p4.y - p3.y;\n    const denominator = dx1 * dy2 - dx2 * dy1;\n    const a13 = (dx3 * dy2 - dx2 * dy3) / denominator;\n    const a23 = (dx1 * dy3 - dx3 * dy1) / denominator;\n    return {\n      a11: p2.x - p1.x + a13 * p2.x,\n      a12: p2.y - p1.y + a13 * p2.y,\n      a13,\n      a21: p4.x - p1.x + a23 * p4.x,\n      a22: p4.y - p1.y + a23 * p4.y,\n      a23,\n      a31: p1.x,\n      a32: p1.y,\n      a33: 1,\n    };\n  }\n}\n\nfunction quadrilateralToSquare(p1: Point, p2: Point, p3: Point, p4: Point): PerspectiveTransform {\n  // Here, the adjoint serves as the inverse:\n  const sToQ = squareToQuadrilateral(p1, p2, p3, p4);\n  return {\n    a11: sToQ.a22 * sToQ.a33 - sToQ.a23 * sToQ.a32,\n    a12: sToQ.a13 * sToQ.a32 - sToQ.a12 * sToQ.a33,\n    a13: sToQ.a12 * sToQ.a23 - sToQ.a13 * sToQ.a22,\n    a21: sToQ.a23 * sToQ.a31 - sToQ.a21 * sToQ.a33,\n    a22: sToQ.a11 * sToQ.a33 - sToQ.a13 * sToQ.a31,\n    a23: sToQ.a13 * sToQ.a21 - sToQ.a11 * sToQ.a23,\n    a31: sToQ.a21 * sToQ.a32 - sToQ.a22 * sToQ.a31,\n    a32: sToQ.a12 * sToQ.a31 - sToQ.a11 * sToQ.a32,\n    a33: sToQ.a11 * sToQ.a22 - sToQ.a12 * sToQ.a21,\n  };\n}\n\nfunction times(a: PerspectiveTransform, b: PerspectiveTransform): PerspectiveTransform {\n  return {\n    a11: a.a11 * b.a11 + a.a21 * b.a12 + a.a31 * b.a13,\n    a12: a.a12 * b.a11 + a.a22 * b.a12 + a.a32 * b.a13,\n    a13: a.a13 * b.a11 + a.a23 * b.a12 + a.a33 * b.a13,\n    a21: a.a11 * b.a21 + a.a21 * b.a22 + a.a31 * b.a23,\n    a22: a.a12 * b.a21 + a.a22 * b.a22 + a.a32 * b.a23,\n    a23: a.a13 * b.a21 + a.a23 * b.a22 + a.a33 * b.a23,\n    a31: a.a11 * b.a31 + a.a21 * b.a32 + a.a31 * b.a33,\n    a32: a.a12 * b.a31 + a.a22 * b.a32 + a.a32 * b.a33,\n    a33: a.a13 * b.a31 + a.a23 * b.a32 + a.a33 * b.a33,\n  };\n}\n\nexport function extract(image: BitMatrix, location: QRLocation) {\n  const qToS = quadrilateralToSquare(\n    {x: 3.5, y: 3.5},\n    {x: location.dimension - 3.5, y: 3.5},\n    {x: location.dimension - 6.5, y: location.dimension - 6.5},\n    {x: 3.5, y: location.dimension - 3.5},\n  );\n  const sToQ = squareToQuadrilateral(location.topLeft, location.topRight, location.alignmentPattern, location.bottomLeft);\n  const transform = times(sToQ, qToS);\n\n  const matrix = BitMatrix.createEmpty(location.dimension, location.dimension);\n  const mappingFunction = (x: number, y: number) => {\n    const denominator = transform.a13 * x + transform.a23 * y + transform.a33;\n    return {\n      x: (transform.a11 * x + transform.a21 * y + transform.a31) / denominator,\n      y: (transform.a12 * x + transform.a22 * y + transform.a32) / denominator,\n    };\n  };\n\n  for (let y = 0; y < location.dimension; y++) {\n    for (let x = 0; x < location.dimension; x++) {\n      const xValue = x + 0.5;\n      const yValue = y + 0.5;\n      const sourcePixel = mappingFunction(xValue, yValue);\n      matrix.set(x, y, image.get(Math.floor(sourcePixel.x), Math.floor(sourcePixel.y)));\n    }\n  }\n\n  return {\n    matrix,\n    mappingFunction,\n  };\n}\n", "import { BitMatrix } from \"../BitMatrix\";\n\nconst MAX_FINDERPATTERNS_TO_SEARCH = 5;\nconst MIN_QUAD_RATIO = 0.5;\nconst MAX_QUAD_RATIO = 1.5;\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\nexport interface QRLocation {\n  topRight: Point;\n  bottomLeft: Point;\n  topLeft: Point;\n  alignmentPattern: Point;\n  dimension: number;\n}\n\nconst distance = (a: Point, b: Point) => Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\n\nfunction sum(values: number[]) {\n  return values.reduce((a, b) => a + b);\n}\n\n// Takes three finder patterns and organizes them into topLeft, topRight, etc\nfunction reorderFinderPatterns(pattern1: Point, pattern2: Point, pattern3: Point) {\n  // Find distances between pattern centers\n  const oneTwoDistance = distance(pattern1, pattern2);\n  const twoThreeDistance = distance(pattern2, pattern3);\n  const oneThreeDistance = distance(pattern1, pattern3);\n\n  let bottomLeft: Point;\n  let topLeft: Point;\n  let topRight: Point;\n\n  // Assume one closest to other two is B; A and C will just be guesses at first\n  if (twoThreeDistance >= oneTwoDistance && twoThreeDistance >= oneThreeDistance) {\n    [bottomLeft, topLeft, topRight] = [pattern2, pattern1, pattern3];\n  } else if (oneThreeDistance >= twoThreeDistance && oneThreeDistance >= oneTwoDistance) {\n    [bottomLeft, topLeft, topRight] = [pattern1, pattern2, pattern3];\n  } else {\n    [bottomLeft, topLeft, topRight] = [pattern1, pattern3, pattern2];\n  }\n\n  // Use cross product to figure out whether bottomLeft (A) and topRight (C) are correct or flipped in relation to topLeft (B)\n  // This asks whether BC x BA has a positive z component, which is the arrangement we want. If it's negative, then\n  // we've got it flipped around and should swap topRight and bottomLeft.\n  if (((topRight.x - topLeft.x) * (bottomLeft.y - topLeft.y)) - ((topRight.y - topLeft.y) * (bottomLeft.x - topLeft.x)) < 0) {\n    [bottomLeft, topRight] = [topRight, bottomLeft];\n  }\n\n  return { bottomLeft, topLeft, topRight };\n}\n\n// Computes the dimension (number of modules on a side) of the QR Code based on the position of the finder patterns\nfunction computeDimension(topLeft: Point, topRight: Point, bottomLeft: Point, matrix: BitMatrix) {\n  const moduleSize = (\n    sum(countBlackWhiteRun(topLeft, bottomLeft, matrix, 5)) / 7 + // Divide by 7 since the ratio is 1:1:3:1:1\n    sum(countBlackWhiteRun(topLeft, topRight, matrix, 5)) / 7 +\n    sum(countBlackWhiteRun(bottomLeft, topLeft, matrix, 5)) / 7 +\n    sum(countBlackWhiteRun(topRight, topLeft, matrix, 5)) / 7\n  ) / 4;\n\n  if (moduleSize < 1) {\n    throw new Error(\"Invalid module size\");\n  }\n\n  const topDimension = Math.round(distance(topLeft, topRight) / moduleSize);\n  const sideDimension = Math.round(distance(topLeft, bottomLeft) / moduleSize);\n  let dimension = Math.floor((topDimension + sideDimension) / 2) + 7;\n  switch (dimension % 4) {\n    case 0:\n      dimension++;\n      break;\n    case 2:\n      dimension--;\n      break;\n  }\n  return { dimension, moduleSize };\n}\n\n// Takes an origin point and an end point and counts the sizes of the black white run from the origin towards the end point.\n// Returns an array of elements, representing the pixel size of the black white run.\n// Uses a variant of http://en.wikipedia.org/wiki/Bresenham's_line_algorithm\nfunction countBlackWhiteRunTowardsPoint(origin: Point, end: Point, matrix: BitMatrix, length: number) {\n  const switchPoints: Point[] = [{x: Math.floor(origin.x), y: Math.floor(origin.y)}];\n  const steep = Math.abs(end.y - origin.y) > Math.abs(end.x - origin.x);\n\n  let fromX: number;\n  let fromY: number;\n  let toX: number;\n  let toY: number;\n  if (steep) {\n    fromX = Math.floor(origin.y);\n    fromY = Math.floor(origin.x);\n    toX = Math.floor(end.y);\n    toY = Math.floor(end.x);\n  } else {\n    fromX = Math.floor(origin.x);\n    fromY = Math.floor(origin.y);\n    toX = Math.floor(end.x);\n    toY = Math.floor(end.y);\n  }\n\n  const dx = Math.abs(toX - fromX);\n  const dy = Math.abs(toY - fromY);\n  let error = Math.floor(-dx / 2);\n  const xStep = fromX < toX ? 1 : -1;\n  const yStep = fromY < toY ? 1 : -1;\n\n  let currentPixel = true;\n  // Loop up until x == toX, but not beyond\n  for (let x = fromX, y = fromY; x !== toX + xStep; x += xStep) {\n    // Does current pixel mean we have moved white to black or vice versa?\n    // Scanning black in state 0,2 and white in state 1, so if we find the wrong\n    // color, advance to next state or end if we are in state 2 already\n    const realX = steep ? y : x;\n    const realY = steep ? x : y;\n    if (matrix.get(realX, realY) !== currentPixel) {\n      currentPixel = !currentPixel;\n      switchPoints.push({x: realX, y: realY});\n      if (switchPoints.length === length + 1) {\n        break;\n      }\n    }\n    error += dy;\n    if (error > 0) {\n      if (y === toY) {\n        break;\n      }\n      y += yStep;\n      error -= dx;\n    }\n  }\n  const distances: number[] = [];\n  for (let i = 0; i < length; i++) {\n    if (switchPoints[i] && switchPoints[i + 1]) {\n      distances.push(distance(switchPoints[i], switchPoints[i + 1]));\n    } else {\n      distances.push(0);\n    }\n  }\n  return distances;\n}\n\n// Takes an origin point and an end point and counts the sizes of the black white run in the origin point\n// along the line that intersects with the end point. Returns an array of elements, representing the pixel sizes\n// of the black white run. Takes a length which represents the number of switches from black to white to look for.\nfunction countBlackWhiteRun(origin: Point, end: Point, matrix: BitMatrix, length: number) {\n  const rise = end.y - origin.y;\n  const run = end.x - origin.x;\n\n  const towardsEnd = countBlackWhiteRunTowardsPoint(origin, end, matrix, Math.ceil(length / 2));\n  const awayFromEnd = countBlackWhiteRunTowardsPoint(origin, {x: origin.x - run, y: origin.y - rise}, matrix, Math.ceil(length / 2));\n\n  const middleValue = towardsEnd.shift() + awayFromEnd.shift() - 1; // Substract one so we don't double count a pixel\n  return awayFromEnd.concat(middleValue).concat(...towardsEnd);\n}\n\n// Takes in a black white run and an array of expected ratios. Returns the average size of the run as well as the \"error\" -\n// that is the amount the run diverges from the expected ratio\nfunction scoreBlackWhiteRun(sequence: number[], ratios: number[]) {\n  const averageSize = sum(sequence) / sum(ratios);\n  let error = 0;\n  ratios.forEach((ratio, i) => {\n    error += (sequence[i] - ratio * averageSize) ** 2;\n  });\n\n  return { averageSize, error };\n}\n\n// Takes an X,Y point and an array of sizes and scores the point against those ratios.\n// For example for a finder pattern takes the ratio list of 1:1:3:1:1 and checks horizontal, vertical and diagonal ratios\n// against that.\nfunction scorePattern(point: Point, ratios: number[], matrix: BitMatrix) {\n  try {\n    const horizontalRun = countBlackWhiteRun(point, {x: -1, y: point.y}, matrix, ratios.length);\n    const verticalRun = countBlackWhiteRun(point, {x: point.x, y: -1}, matrix, ratios.length);\n\n    const topLeftPoint = {\n      x: Math.max(0, point.x - point.y) - 1,\n      y: Math.max(0, point.y - point.x) - 1,\n    };\n    const topLeftBottomRightRun = countBlackWhiteRun(point, topLeftPoint, matrix, ratios.length);\n\n    const bottomLeftPoint = {\n      x: Math.min(matrix.width, point.x + point.y) + 1,\n      y: Math.min(matrix.height, point.y + point.x) + 1,\n    };\n    const bottomLeftTopRightRun = countBlackWhiteRun(point, bottomLeftPoint, matrix, ratios.length);\n\n    const horzError = scoreBlackWhiteRun(horizontalRun, ratios);\n    const vertError = scoreBlackWhiteRun(verticalRun, ratios);\n    const diagDownError = scoreBlackWhiteRun(topLeftBottomRightRun, ratios);\n    const diagUpError = scoreBlackWhiteRun(bottomLeftTopRightRun, ratios);\n\n    const ratioError = Math.sqrt(horzError.error * horzError.error +\n      vertError.error * vertError.error +\n      diagDownError.error * diagDownError.error +\n      diagUpError.error * diagUpError.error);\n\n    const avgSize = (horzError.averageSize + vertError.averageSize + diagDownError.averageSize + diagUpError.averageSize) / 4;\n\n    const sizeError = ((horzError.averageSize - avgSize) ** 2 +\n      (vertError.averageSize - avgSize) ** 2 +\n      (diagDownError.averageSize - avgSize) ** 2 +\n      (diagUpError.averageSize - avgSize) ** 2) / avgSize;\n    return ratioError + sizeError;\n  } catch {\n    return Infinity;\n  }\n}\n\nfunction recenterLocation(matrix: BitMatrix, p: Point): Point {\n  let leftX = Math.round(p.x);\n  while (matrix.get(leftX, Math.round(p.y))) {\n    leftX--;\n  }\n  let rightX = Math.round(p.x);\n  while (matrix.get(rightX, Math.round(p.y))) {\n    rightX++;\n  }\n  const x = (leftX + rightX) / 2;\n\n  let topY = Math.round(p.y);\n  while (matrix.get(Math.round(x), topY)) {\n    topY--;\n  }\n  let bottomY = Math.round(p.y);\n  while (matrix.get(Math.round(x), bottomY)) {\n    bottomY++;\n  }\n  const y = (topY + bottomY) / 2;\n\n  return { x, y };\n}\n\ninterface Quad {\n  top: {\n    startX: number;\n    endX: number;\n    y: number;\n  };\n  bottom: {\n    startX: number;\n    endX: number;\n    y: number;\n  };\n}\n\nexport function locate(matrix: BitMatrix): QRLocation[] {\n  const finderPatternQuads: Quad[] = [];\n  let activeFinderPatternQuads: Quad[] = [];\n  const alignmentPatternQuads: Quad[] = [];\n  let activeAlignmentPatternQuads: Quad[] = [];\n\n  for (let y = 0; y <= matrix.height; y++) {\n    let length = 0;\n    let lastBit = false;\n    let scans = [0, 0, 0, 0, 0];\n\n    for (let x = -1; x <= matrix.width; x++) {\n      const v = matrix.get(x, y);\n      if (v === lastBit) {\n        length++;\n      } else {\n        scans = [scans[1], scans[2], scans[3], scans[4], length];\n        length = 1;\n        lastBit = v;\n\n        // Do the last 5 color changes ~ match the expected ratio for a finder pattern? 1:1:3:1:1 of b:w:b:w:b\n        const averageFinderPatternBlocksize = sum(scans) / 7;\n        const validFinderPattern =\n          Math.abs(scans[0] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n          Math.abs(scans[1] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n          Math.abs(scans[2] - 3 * averageFinderPatternBlocksize) < 3 * averageFinderPatternBlocksize &&\n          Math.abs(scans[3] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n          Math.abs(scans[4] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n          !v; // And make sure the current pixel is white since finder patterns are bordered in white\n\n        // Do the last 3 color changes ~ match the expected ratio for an alignment pattern? 1:1:1 of w:b:w\n        const averageAlignmentPatternBlocksize = sum(scans.slice(-3)) / 3;\n        const validAlignmentPattern =\n          Math.abs(scans[2] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n          Math.abs(scans[3] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n          Math.abs(scans[4] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n          v; // Is the current pixel black since alignment patterns are bordered in black\n\n        if (validFinderPattern) {\n          // Compute the start and end x values of the large center black square\n          const endX = x - scans[3] - scans[4];\n          const startX = endX - scans[2];\n\n          const line = { startX, endX, y };\n          // Is there a quad directly above the current spot? If so, extend it with the new line. Otherwise, create a new quad with\n          // that line as the starting point.\n          const matchingQuads = activeFinderPatternQuads.filter(q =>\n            (startX >= q.bottom.startX && startX <= q.bottom.endX) ||\n            (endX >= q.bottom.startX && startX <= q.bottom.endX) ||\n            (startX <= q.bottom.startX && endX >= q.bottom.endX && (\n              (scans[2] / (q.bottom.endX - q.bottom.startX)) < MAX_QUAD_RATIO &&\n              (scans[2] / (q.bottom.endX - q.bottom.startX)) > MIN_QUAD_RATIO\n            )),\n          );\n          if (matchingQuads.length > 0) {\n            matchingQuads[0].bottom = line;\n          } else {\n            activeFinderPatternQuads.push({ top: line, bottom: line });\n          }\n        }\n        if (validAlignmentPattern) {\n          // Compute the start and end x values of the center black square\n          const endX = x - scans[4];\n          const startX = endX - scans[3];\n\n          const line = { startX, y, endX };\n          // Is there a quad directly above the current spot? If so, extend it with the new line. Otherwise, create a new quad with\n          // that line as the starting point.\n          const matchingQuads = activeAlignmentPatternQuads.filter(q =>\n            (startX >= q.bottom.startX && startX <= q.bottom.endX) ||\n            (endX >= q.bottom.startX && startX <= q.bottom.endX) ||\n            (startX <= q.bottom.startX && endX >= q.bottom.endX && (\n              (scans[2] / (q.bottom.endX - q.bottom.startX)) < MAX_QUAD_RATIO &&\n              (scans[2] / (q.bottom.endX - q.bottom.startX)) > MIN_QUAD_RATIO\n            )),\n          );\n          if (matchingQuads.length > 0) {\n            matchingQuads[0].bottom = line;\n          } else {\n            activeAlignmentPatternQuads.push({ top: line, bottom: line });\n          }\n        }\n      }\n    }\n    finderPatternQuads.push(...activeFinderPatternQuads.filter(q => q.bottom.y !== y && q.bottom.y - q.top.y >= 2));\n    activeFinderPatternQuads = activeFinderPatternQuads.filter(q => q.bottom.y === y);\n\n    alignmentPatternQuads.push(...activeAlignmentPatternQuads.filter(q => q.bottom.y !== y));\n    activeAlignmentPatternQuads = activeAlignmentPatternQuads.filter(q => q.bottom.y === y);\n\n  }\n\n  finderPatternQuads.push(...activeFinderPatternQuads.filter(q => q.bottom.y - q.top.y >= 2));\n  alignmentPatternQuads.push(...activeAlignmentPatternQuads);\n\n  // Refactored from cozmo/jsQR to (hopefully) circumvent an issue in Safari 13+ on both Mac and iOS (also including\n  // iOS Chrome and other Safari iOS derivatives). Safari was very occasionally and apparently not deterministically\n  // throwing a \"RangeError: Array size is not a small enough positive integer.\" exception seemingly within the second\n  // .map of the original code (here the second for-loop). This second .map contained a nested .map call over the same\n  // array instance which was the chained result from previous calls to .map, .filter and .sort which potentially caused\n  // this bug in Safari?\n  // Also see https://github.com/cozmo/jsQR/issues/157 and https://bugs.webkit.org/show_bug.cgi?id=211619#c3\n  const scoredFinderPatternPositions: Array<Point & { size: number, score: number }> = [];\n  for (const quad of finderPatternQuads) {\n    if (quad.bottom.y - quad.top.y < 2) {\n      // All quads must be at least 2px tall since the center square is larger than a block\n      continue;\n    }\n\n    // calculate quad center\n    const x = (quad.top.startX + quad.top.endX + quad.bottom.startX + quad.bottom.endX) / 4;\n    const y = (quad.top.y + quad.bottom.y + 1) / 2;\n    if (!matrix.get(Math.round(x), Math.round(y))) {\n      continue;\n    }\n\n    const lengths = [quad.top.endX - quad.top.startX, quad.bottom.endX - quad.bottom.startX, quad.bottom.y - quad.top.y + 1];\n    const size = sum(lengths) / lengths.length;\n    // Initial scoring of finder pattern quads by looking at their ratios, not taking into account position\n    const score = scorePattern({x: Math.round(x), y: Math.round(y)}, [1, 1, 3, 1, 1], matrix);\n    scoredFinderPatternPositions.push({ score, x, y, size });\n  }\n  if (scoredFinderPatternPositions.length < 3) {\n    // A QR code has 3 finder patterns, therefore we need at least 3 candidates.\n    return null;\n  }\n  scoredFinderPatternPositions.sort((a, b) => a.score - b.score);\n\n  // Now take the top finder pattern options and try to find 2 other options with a similar size.\n  const finderPatternGroups: Array<{ points: [Point, Point, Point], score: number }> = [];\n  for (let i = 0; i < Math.min(scoredFinderPatternPositions.length, MAX_FINDERPATTERNS_TO_SEARCH); ++i) {\n    const point = scoredFinderPatternPositions[i];\n    const otherPoints: typeof scoredFinderPatternPositions = [];\n\n    for (const otherPoint of scoredFinderPatternPositions) {\n      if (otherPoint === point) {\n        continue;\n      }\n      otherPoints.push({\n        ...otherPoint,\n        score: otherPoint.score + ((otherPoint.size - point.size) ** 2) / point.size, // score similarity of sizes\n      });\n    }\n    otherPoints.sort((a, b) => a.score - b.score);\n\n    finderPatternGroups.push({\n      points: [point, otherPoints[0], otherPoints[1]], // note that otherPoints.length >= 2 as scoredFinderPatternPositions.length >= 3\n      score: point.score + otherPoints[0].score + otherPoints[1].score, // total combined score of the three points in the group\n    });\n  }\n  finderPatternGroups.sort((a, b) => a.score - b.score);\n  const bestFinderPatternGroup = finderPatternGroups[0];\n\n  const { topRight, topLeft, bottomLeft } = reorderFinderPatterns(...bestFinderPatternGroup.points);\n  const alignment = findAlignmentPattern(matrix, alignmentPatternQuads, topRight, topLeft, bottomLeft);\n  const result: QRLocation[] = [];\n  if (alignment) {\n    result.push({\n      alignmentPattern: { x: alignment.alignmentPattern.x, y: alignment.alignmentPattern.y },\n      bottomLeft: {x: bottomLeft.x, y: bottomLeft.y },\n      dimension: alignment.dimension,\n      topLeft: {x: topLeft.x, y: topLeft.y },\n      topRight: {x: topRight.x, y: topRight.y },\n    });\n  }\n\n  // We normally use the center of the quads as the location of the tracking points, which is optimal for most cases and will account\n  // for a skew in the image. However, In some cases, a slight skew might not be real and instead be caused by image compression\n  // errors and/or low resolution. For those cases, we'd be better off centering the point exactly in the middle of the black area. We\n  // compute and return the location data for the naively centered points as it is little additional work and allows for multiple\n  // attempts at decoding harder images.\n  const midTopRight = recenterLocation(matrix, topRight);\n  const midTopLeft = recenterLocation(matrix, topLeft);\n  const midBottomLeft = recenterLocation(matrix, bottomLeft);\n  const centeredAlignment = findAlignmentPattern(matrix, alignmentPatternQuads, midTopRight, midTopLeft, midBottomLeft);\n  if (centeredAlignment) {\n    result.push({\n      alignmentPattern: { x: centeredAlignment.alignmentPattern.x, y: centeredAlignment.alignmentPattern.y },\n      bottomLeft: { x: midBottomLeft.x, y: midBottomLeft. y },\n      topLeft: { x: midTopLeft.x, y: midTopLeft. y },\n      topRight: { x: midTopRight.x, y: midTopRight. y },\n      dimension: centeredAlignment.dimension,\n    });\n  }\n\n  if (result.length === 0) {\n    return null;\n  }\n\n  return result;\n}\n\nfunction findAlignmentPattern(matrix: BitMatrix, alignmentPatternQuads: Quad[], topRight: Point, topLeft: Point, bottomLeft: Point) {\n  // Now that we've found the three finder patterns we can determine the blockSize and the size of the QR code.\n  // We'll use these to help find the alignment pattern but also later when we do the extraction.\n  let dimension: number;\n  let moduleSize: number;\n  try {\n    ({ dimension, moduleSize } = computeDimension(topLeft, topRight, bottomLeft, matrix));\n  } catch (e) {\n    return null;\n  }\n\n  // Now find the alignment pattern\n  const bottomRightFinderPattern = { // Best guess at where a bottomRight finder pattern would be\n    x: topRight.x - topLeft.x + bottomLeft.x,\n    y: topRight.y - topLeft.y + bottomLeft.y,\n  };\n  const modulesBetweenFinderPatterns = ((distance(topLeft, bottomLeft) + distance(topLeft, topRight)) / 2 / moduleSize);\n  const correctionToTopLeft = 1 - (3 / modulesBetweenFinderPatterns);\n  const expectedAlignmentPattern = {\n    x: topLeft.x + correctionToTopLeft * (bottomRightFinderPattern.x - topLeft.x),\n    y: topLeft.y + correctionToTopLeft * (bottomRightFinderPattern.y - topLeft.y),\n  };\n\n  const alignmentPatterns = alignmentPatternQuads\n    .map(q => {\n      const x = (q.top.startX + q.top.endX + q.bottom.startX + q.bottom.endX) / 4;\n      const y = (q.top.y + q.bottom.y + 1) / 2;\n      if (!matrix.get(Math.floor(x), Math.floor(y))) {\n        return;\n      }\n\n      const sizeScore = scorePattern({x: Math.floor(x), y: Math.floor(y)}, [1, 1, 1], matrix);\n      const score = sizeScore + distance({x, y}, expectedAlignmentPattern);\n      return { x, y, score };\n    })\n    .filter(v => !!v)\n    .sort((a, b) => a.score - b.score);\n\n  // If there are less than 15 modules between finder patterns it's a version 1 QR code and as such has no alignmemnt pattern\n  // so we can only use our best guess.\n  const alignmentPattern = modulesBetweenFinderPatterns >= 15 && alignmentPatterns.length ? alignmentPatterns[0] : expectedAlignmentPattern;\n\n  return { alignmentPattern, dimension };\n}\n", "import {binarize} from \"./binarizer\";\nimport {BitMatrix} from \"./BitMatrix\";\nimport {Chunks} from \"./decoder/decodeData\";\nimport {decode} from \"./decoder/decoder\";\nimport { Version } from \"./decoder/version\";\nimport {extract} from \"./extractor\";\nimport {locate, Point} from \"./locator\";\n\nexport interface QRCode {\n  binaryData: number[];\n  data: string;\n  chunks: Chunks;\n  version: number;\n  location: {\n    topRightCorner: Point;\n    topLeftCorner: Point;\n    bottomRightCorner: Point;\n    bottomLeftCorner: Point;\n\n    topRightFinderPattern: Point;\n    topLeftFinderPattern: Point;\n    bottomLeftFinderPattern: Point;\n\n    bottomRightAlignmentPattern?: Point;\n  };\n  matrix: BitMatrix;\n}\n\nfunction scan(matrix: BitMatrix): QRCode | null {\n  const locations = locate(matrix);\n  if (!locations) {\n    return null;\n  }\n\n  for (const location of locations) {\n    const extracted = extract(matrix, location);\n    const decoded = decode(extracted.matrix);\n    if (decoded) {\n      return {\n        binaryData: decoded.bytes,\n        data: decoded.text,\n        chunks: decoded.chunks,\n        version: decoded.version,\n        location: {\n          topRightCorner: extracted.mappingFunction(location.dimension, 0),\n          topLeftCorner: extracted.mappingFunction(0, 0),\n          bottomRightCorner: extracted.mappingFunction(location.dimension, location.dimension),\n          bottomLeftCorner: extracted.mappingFunction(0, location.dimension),\n\n          topRightFinderPattern: location.topRight,\n          topLeftFinderPattern: location.topLeft,\n          bottomLeftFinderPattern: location.bottomLeft,\n\n          bottomRightAlignmentPattern: location.alignmentPattern,\n        },\n        matrix: extracted.matrix,\n      };\n    }\n  }\n  return null;\n}\n\nexport interface Options {\n  inversionAttempts?: \"dontInvert\" | \"onlyInvert\" | \"attemptBoth\" | \"invertFirst\";\n  greyScaleWeights?: GreyscaleWeights;\n  canOverwriteImage?: boolean;\n}\n\nexport interface GreyscaleWeights {\n  red: number;\n  green: number;\n  blue: number;\n  useIntegerApproximation?: boolean;\n}\n\nconst defaultOptions: Options = {\n  inversionAttempts: \"attemptBoth\",\n  greyScaleWeights: {\n    red: 0.2126,\n    green: 0.7152,\n    blue: 0.0722,\n    useIntegerApproximation: false,\n  },\n  canOverwriteImage: true,\n};\n\nfunction mergeObject(target: any, src: any) {\n  Object.keys(src).forEach(opt => { // Sad implementation of Object.assign since we target es5 not es6\n    target[opt] = src[opt];\n  });\n}\n\nfunction jsQR(data: Uint8ClampedArray, width: number, height: number, providedOptions: Options = {}): QRCode | null {\n  const options = Object.create(null);\n  mergeObject(options, defaultOptions);\n  mergeObject(options, providedOptions);\n\n  const tryInvertedFirst = options.inversionAttempts === \"onlyInvert\" || options.inversionAttempts === \"invertFirst\";\n  const shouldInvert = options.inversionAttempts === \"attemptBoth\" || tryInvertedFirst;\n  const {binarized, inverted} = binarize(data, width, height, shouldInvert, options.greyScaleWeights,\n      options.canOverwriteImage);\n  let result = scan(tryInvertedFirst ? inverted : binarized);\n  if (!result && (options.inversionAttempts === \"attemptBoth\" || options.inversionAttempts === \"invertFirst\")) {\n    result = scan(tryInvertedFirst ? binarized : inverted);\n  }\n  return result;\n}\n\n(jsQR as any).default = jsQR;\nexport default jsQR;\n", "import React from \"react\";\nimport { NotRunning } from \"../components/Messages\";\nimport { drawNetworkMap } from \"../lib/networkMap\";\nimport { useAdapter } from \"iobroker-react/hooks\";\nimport { useAPI } from \"../lib/useAPI\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n\tmap: {\n\t\t\"& text\": {\n\t\t\tfill: theme.palette.text.primary,\n\t\t},\n\t},\n}));\n\nexport const NetworkMap: React.FC = () => {\n\tconst { alive: adapterRunning, connected: driverReady } = useAdapter();\n\tconst api = useAPI();\n\tconst classes = useStyles();\n\n\tReact.useEffect(() => {\n\t\tif (adapterRunning && driverReady) {\n\t\t\tapi.getNetworkMap()\n\t\t\t\t.then((nodes) => {\n\t\t\t\t\tdrawNetworkMap(\"#map\", nodes);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t});\n\t\t}\n\t}, [adapterRunning, driverReady, api]);\n\treturn adapterRunning && driverReady ? (\n\t\t<div id=\"map\" className={classes.map}></div>\n\t) : (\n\t\t<NotRunning />\n\t);\n};\n", "export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n", "export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n", "export var abs = Math.abs;\nexport var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\nexport var epsilon = 1e-12;\n", "import {max, tau} from \"./math.js\";\n\nfunction range(i, j) {\n  return Array.from({length: j - i}, (_, k) => i + k);\n}\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  return chord(false, false);\n}\n\nexport function chordTranspose() {\n  return chord(false, true);\n}\n\nexport function chordDirected() {\n  return chord(true, false);\n}\n\nfunction chord(directed, transpose) {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = new Array(n),\n        groupIndex = range(0, n),\n        chords = new Array(n * n),\n        groups = new Array(n),\n        k = 0, dx;\n\n    matrix = Float64Array.from({length: n * n}, transpose\n        ? (_, i) => matrix[i % n][i / n | 0]\n        : (_, i) => matrix[i / n | 0][i % n]);\n\n    // Compute the scaling factor from value to angle in [0, 2pi].\n    for (let i = 0; i < n; ++i) {\n      let x = 0;\n      for (let j = 0; j < n; ++j) x += matrix[i * n + j] + directed * matrix[j * n + i];\n      k += groupSums[i] = x;\n    }\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the angles for each group and constituent chord.\n    {\n      let x = 0;\n      if (sortGroups) groupIndex.sort((a, b) => sortGroups(groupSums[a], groupSums[b]));\n      for (const i of groupIndex) {\n        const x0 = x;\n        if (directed) {\n          const subgroupIndex = range(~n + 1, n).filter(j => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(a < 0 ? -matrix[~a * n + i] : matrix[i * n + a], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            if (j < 0) {\n              const chord = chords[~j * n + i] || (chords[~j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[~j * n + i] * k, value: matrix[~j * n + i]};\n            } else {\n              const chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        } else {\n          const subgroupIndex = range(0, n).filter(j => matrix[i * n + j] || matrix[j * n + i]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(matrix[i * n + a], matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            let chord;\n            if (i < j) {\n              chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            } else {\n              chord = chords[j * n + i] || (chords[j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n              if (i === j) chord.source = chord.target;\n            }\n            if (chord.source && chord.target && chord.source.value < chord.target.value) {\n              const source = chord.source;\n              chord.source = chord.target;\n              chord.target = source;\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        }\n        x += dx;\n      }\n    }\n\n    // Remove empty chords.\n    chords = Object.values(chords);\n    chords.groups = groups;\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n", "const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We\u2019re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n", "export var slice = Array.prototype.slice;\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {abs, cos, epsilon, halfPi, sin} from \"./math.js\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction defaultPadAngle() {\n  return 0;\n}\n\nfunction defaultArrowheadRadius() {\n  return 10;\n}\n\nfunction ribbon(headRadius) {\n  var source = defaultSource,\n      target = defaultTarget,\n      sourceRadius = defaultRadius,\n      targetRadius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      padAngle = defaultPadAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        s = source.apply(this, arguments),\n        t = target.apply(this, arguments),\n        ap = padAngle.apply(this, arguments) / 2,\n        argv = slice.call(arguments),\n        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        tr = +targetRadius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    if (ap > epsilon) {\n      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);\n      else sa0 = sa1 = (sa0 + sa1) / 2;\n      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);\n      else ta0 = ta1 = (ta0 + ta1) / 2;\n    }\n\n    context.moveTo(sr * cos(sa0), sr * sin(sa0));\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      if (headRadius) {\n        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;\n        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));\n        context.lineTo(tr * cos(ta2), tr * sin(ta2));\n        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));\n      } else {\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n    }\n    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  if (headRadius) ribbon.headRadius = function(_) {\n    return arguments.length ? (headRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : headRadius;\n  };\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (sourceRadius = targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.sourceRadius = function(_) {\n    return arguments.length ? (sourceRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.targetRadius = function(_) {\n    return arguments.length ? (targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : targetRadius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : padAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n\nexport default function() {\n  return ribbon();\n}\n\nexport function ribbonArrow() {\n  return ribbon(defaultArrowheadRadius);\n}\n", "export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n", "import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n", "import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n", "export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n", "import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n", "import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n", "function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don\u2019t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n", "function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n", "export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n", "import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "export default function(update) {\n  return new Array(update.length);\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don\u2019t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn\u2019t worried about \u201Clive\u201D collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don\u2019t; we\u2019d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n", "export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n", "export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n", "export default function() {\n  return !this.node();\n}\n", "export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n", "import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n", "export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n", "import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n", "function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n", "function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n", "function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n", "function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n", "function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n", "function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n", "import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n", "import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n", "function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n", "function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n", "export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n", "function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n", "import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n", "export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n", "import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n", "import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n", "export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n", "export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n", "import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 \u2265 r0, da1 \u2265 da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector\u2019s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it\u2019s a circular sector?\n      // Or perhaps it\u2019s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector\u2019s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n", "// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n// Based on https://bl.ocks.org/JulienAssouline/2847e100ac7d4d3981b0f49111e185fe\nimport { ascending, range } from \"d3-array\";\nimport { chord as d3chord, ribbon } from \"d3-chord\";\nimport { scaleOrdinal } from \"d3-scale\";\nimport { schemeSpectral } from \"d3-scale-chromatic\";\nimport { select } from \"d3-selection\";\nimport { arc } from \"d3-shape\";\n\nexport function drawNetworkMap(selector: string, nodes: NodeInfo[]): void {\n\tconst matrix = new Array(nodes.length)\n\t\t.fill(0)\n\t\t.map(() => new Array(nodes.length).fill(0));\n\tfunction addLink(from, to) {\n\t\t// Avoid crashing when a node has an outdated neighbor table\n\t\tif (from == undefined || to == undefined) return;\n\t\tmatrix[from][to] = matrix[to][from] = 1;\n\t}\n\n\t// Maps the node ID to index in the matrix\n\tconst nodeIndizes = new Map<number, number>();\n\tfor (let i = 0; i < nodes.length; i++) {\n\t\tnodeIndizes.set(nodes[i].id, i);\n\t}\n\n\tfor (const node of nodes) {\n\t\tfor (const neighborId of node.neighbors) {\n\t\t\taddLink(nodeIndizes.get(node.id), nodeIndizes.get(neighborId));\n\t\t}\n\t}\n\n\t// Scale the flows for equal sized nodes\n\tconst sum = (arr) => arr.reduce((acc, cur) => acc + cur, 0);\n\tlet maxSum = Math.max(...matrix.map(sum));\n\tif (maxSum === 0) maxSum = 1;\n\n\t// Remember which nodes are not connected\n\tconst disconnected = new Set<number>();\n\tfor (let i = 0; i < matrix.length; i++) {\n\t\tconst row = matrix[i];\n\t\tconst rowSum = sum(row);\n\t\tif (rowSum === 0) {\n\t\t\trow[i] = 1 / maxSum;\n\t\t\tdisconnected.add(nodes[i].id);\n\t\t} else {\n\t\t\tmatrix[i] = row.map((val) => val / maxSum);\n\t\t}\n\t}\n\t// Make Node 1 larger\n\tconst node1Factor = 1.5;\n\tconst row0Sum = sum(matrix[0]);\n\tmatrix[0] = matrix[0].map((val) => (val * node1Factor) / row0Sum);\n\tconst matrixSum = sum(matrix.map(sum));\n\t// row0Sum = node1Factor\n\n\t// chart dimensions\n\tconst width = 600;\n\tconst height = 600;\n\tconst outerRadius = Math.min(width, height) * 0.5 - 150;\n\tconst innerRadius = outerRadius - 20;\n\tconst gap = Math.min(0.15, Math.PI / 2 / nodes.length);\n\n\t// We rotate by one group so node 1 is at the top\n\t// The first group has the double size, so we add one fake group in the calculation\n\tconst remainder = 2 * Math.PI - nodes.length * gap;\n\tconst firstNodeRotation = 0.5 * remainder * (node1Factor / matrixSum);\n\n\tconst svg = select(selector)\n\t\t.append(\"svg\")\n\t\t// Responsive SVG needs these 2 attributes and no width and height attr.\n\t\t.attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n\t\t.attr(\"viewBox\", `${-width / 2} ${-height / 2} ${width} ${height}`)\n\t\t.append(\"g\")\n\t\t.attr(\n\t\t\t\"transform\",\n\t\t\t`rotate(-${(firstNodeRotation * (180 / Math.PI)).toFixed(2)})`,\n\t\t);\n\n\tconst chord = d3chord()\n\t\t.padAngle(gap)\n\t\t.sortChords(ascending)\n\t\t.sortSubgroups(() => 1)(matrix);\n\n\tconst arcs = arc().innerRadius(innerRadius).outerRadius(outerRadius);\n\n\tconst ribbonGenerator = ribbon().radius(innerRadius);\n\tconst colorScale = scaleOrdinal()\n\t\t// @ts-expect-error This does work\n\t\t.domain(range(nodes.length - 1))\n\t\t.range(schemeSpectral[Math.max(3, Math.min(11, nodes.length))]);\n\n\t// creating the fill gradient\n\tfunction getGradID(d) {\n\t\treturn \"linkGrad-\" + d.source.index + \"-\" + d.target.index;\n\t}\n\n\tconst grads = svg\n\t\t.append(\"defs\")\n\t\t.selectAll(\"linearGradient\")\n\t\t.data(chord)\n\t\t.enter()\n\t\t.append(\"linearGradient\")\n\t\t.attr(\"id\", getGradID)\n\t\t.attr(\"gradientUnits\", \"userSpaceOnUse\")\n\t\t.attr(\"x1\", function (d, _i) {\n\t\t\treturn (\n\t\t\t\tinnerRadius *\n\t\t\t\tMath.cos(\n\t\t\t\t\t(d.source.endAngle - d.source.startAngle) / 2 +\n\t\t\t\t\t\td.source.startAngle -\n\t\t\t\t\t\tMath.PI / 2,\n\t\t\t\t)\n\t\t\t);\n\t\t})\n\t\t.attr(\"y1\", function (d, _i) {\n\t\t\treturn (\n\t\t\t\tinnerRadius *\n\t\t\t\tMath.sin(\n\t\t\t\t\t(d.source.endAngle - d.source.startAngle) / 2 +\n\t\t\t\t\t\td.source.startAngle -\n\t\t\t\t\t\tMath.PI / 2,\n\t\t\t\t)\n\t\t\t);\n\t\t})\n\t\t.attr(\"x2\", function (d, _i) {\n\t\t\treturn (\n\t\t\t\tinnerRadius *\n\t\t\t\tMath.cos(\n\t\t\t\t\t(d.target.endAngle - d.target.startAngle) / 2 +\n\t\t\t\t\t\td.target.startAngle -\n\t\t\t\t\t\tMath.PI / 2,\n\t\t\t\t)\n\t\t\t);\n\t\t})\n\t\t.attr(\"y2\", function (d, _i) {\n\t\t\treturn (\n\t\t\t\tinnerRadius *\n\t\t\t\tMath.sin(\n\t\t\t\t\t(d.target.endAngle - d.target.startAngle) / 2 +\n\t\t\t\t\t\td.target.startAngle -\n\t\t\t\t\t\tMath.PI / 2,\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\n\t// set the starting color (at 0%)\n\n\tgrads\n\t\t.append(\"stop\")\n\t\t.attr(\"offset\", \"0%\")\n\t\t.attr(\"stop-color\", (d) => colorScale(d.source.index));\n\n\t//set the ending color (at 100%)\n\tgrads\n\t\t.append(\"stop\")\n\t\t.attr(\"offset\", \"100%\")\n\t\t.attr(\"stop-color\", (d) => colorScale(d.target.index));\n\n\t// add the groups on the inner part of the circle\n\tconst node = svg\n\t\t.selectAll(\"g\")\n\t\t.data(chord.groups)\n\t\t.enter()\n\t\t.append(\"g\")\n\t\t.attr(\"class\", \"node\");\n\n\t// Create the node arcs\n\tnode.append(\"path\")\n\t\t.style(\"fill\", (d) => colorScale(d.index))\n\t\t.attr(\"d\", arcs);\n\n\t// Create the labels\n\tnode.append(\"text\")\n\t\t.each((d) => (d.angle = (d.startAngle + d.endAngle) / 2))\n\t\t// .attr(\"dy\", \"-0.25em\")\n\t\t.attr(\n\t\t\t\"class\",\n\t\t\t(_d, i) =>\n\t\t\t\t`node-id${\n\t\t\t\t\tdisconnected.has(nodes[i].id) ? \" disconnected\" : \"\"\n\t\t\t\t}`,\n\t\t)\n\t\t.attr(\"text-anchor\", (d) =>\n\t\t\td.angle - firstNodeRotation > Math.PI ? \"end\" : null,\n\t\t)\n\t\t.attr(\"dominant-baseline\", \"middle\")\n\t\t.attr(\"transform\", (d) => {\n\t\t\treturn (\n\t\t\t\t\"rotate(\" +\n\t\t\t\t((d.angle * 180) / Math.PI - 90) +\n\t\t\t\t\")\" +\n\t\t\t\t\"translate(\" +\n\t\t\t\t(outerRadius + 10) +\n\t\t\t\t\")\" +\n\t\t\t\t(d.angle - firstNodeRotation > Math.PI ? \"rotate(180)\" : \"\")\n\t\t\t);\n\t\t})\n\t\t.text((_d, i) => `Node ${nodes[i].id}`);\n\t//\n\t// node.append(\"text\")\n\t// \t.each(d => d.angle = (d.startAngle + d.endAngle) / 2)\n\t// \t.attr(\"dy\", \"0.6em\")\n\t// \t.attr(\"class\", \"node-name\")\n\t// \t.attr(\"text-anchor\", d => d.angle > Math.PI ? \"end\" : null)\n\t// \t.attr(\"transform\", d => {\n\t// \t\treturn \"rotate(\" + (d.angle * 180 / Math.PI - 90) + \")\"\n\t// \t\t\t+ \"translate(\" + (outerRadius + 10) + \")\"\n\t// \t\t\t+ (d.angle > Math.PI ? \"rotate(180)\" : \"\");\n\t// \t})\n\t// \t.text((d, i) => names[i % names.length]);\n\n\t// Add the links between groups\n\tsvg.datum(chord)\n\t\t.append(\"g\")\n\t\t.selectAll(\"path\")\n\t\t.data((d) =>\n\t\t\td.filter(\n\t\t\t\t(c) =>\n\t\t\t\t\tc.source.index !== c.target.index &&\n\t\t\t\t\tc.source.value > 0 &&\n\t\t\t\t\tc.target.value > 0,\n\t\t\t),\n\t\t)\n\t\t.enter()\n\t\t.append(\"path\")\n\t\t.attr(\n\t\t\t\"class\",\n\t\t\t(d) => `chord chord-${d.source.index} chord-${d.target.index}`,\n\t\t)\n\t\t.style(\"fill\", (d) => `url(#${getGradID(d)})`)\n\t\t.attr(\"d\", ribbonGenerator);\n}\n", "import { useConnection, useGlobals } from \"iobroker-react/hooks\";\nimport React from \"react\";\nimport { Device, useAPI } from \"./useAPI\";\nexport interface DevicesContextData {\n\tdevices: Record<number, Device>;\n\tupdateDevices(): Promise<void>;\n}\n\nexport const DevicesContext = React.createContext<DevicesContextData>({\n\tdevices: {},\n\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\tasync updateDevices() {},\n});\n\nconst deviceIdRegex = /Node_(\\d+)$/;\nconst deviceReadyRegex = /Node_(\\d+)\\.ready$/;\nconst deviceStatusRegex = /Node_(\\d+)\\.status$/;\n\nexport function useDevices(): readonly [\n\tRecord<number, Device> | undefined,\n\t() => Promise<void>,\n] {\n\tconst connection = useConnection();\n\tconst [devices, setDevices] = React.useState<Record<number, Device>>();\n\tconst { namespace } = useGlobals();\n\tconst api = useAPI();\n\n\tconst onObjectChange: ioBroker.ObjectChangeHandler = async (id, obj) => {\n\t\tif (!id.startsWith(namespace) || !deviceIdRegex.test(id)) return;\n\t\tif (obj) {\n\t\t\t// New or changed device object\n\t\t\tif (obj.type === \"device\" && typeof obj.native.id === \"number\") {\n\t\t\t\tconst nodeId = obj.native.id;\n\t\t\t\tconst device: Device = {\n\t\t\t\t\tid,\n\t\t\t\t\tvalue: obj,\n\t\t\t\t\tstatus: await api.getNodeStatus(nodeId),\n\t\t\t\t\tready: await api.getNodeReady(nodeId),\n\t\t\t\t};\n\t\t\t\tif (device.ready) {\n\t\t\t\t\tawait api.updateEndpointsAndAssociations(nodeId, device);\n\t\t\t\t}\n\t\t\t\tsetDevices((devices) => ({ ...devices, [nodeId]: device }));\n\t\t\t}\n\t\t} else {\n\t\t\tconst nodeId = parseInt(deviceIdRegex.exec(id)![1], 10);\n\t\t\tsetDevices((devices) => {\n\t\t\t\tconst newDevices = { ...devices };\n\t\t\t\tdelete newDevices[nodeId];\n\t\t\t\treturn newDevices;\n\t\t\t});\n\t\t}\n\t};\n\n\tconst updateAssociations = async (nodeId: number) => {\n\t\tconst device = {} as Device;\n\t\tawait api.updateEndpointsAndAssociations(nodeId, device);\n\t\tsetDevices((devices) => {\n\t\t\tconst updatedDevice = devices?.[nodeId];\n\t\t\tif (updatedDevice) {\n\t\t\t\tupdatedDevice.endpoints = device.endpoints;\n\t\t\t\treturn {\n\t\t\t\t\t...devices,\n\t\t\t\t\t[nodeId]: updatedDevice,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn devices;\n\t\t\t}\n\t\t});\n\t};\n\n\tconst onStateChange: ioBroker.StateChangeHandler = async (id, state) => {\n\t\tif (!id.startsWith(namespace)) return;\n\t\tif (!state || !state.ack) return;\n\n\t\tif (id.match(deviceStatusRegex)) {\n\t\t\t// A device's status was changed\n\t\t\tconst nodeId = parseInt(deviceStatusRegex.exec(id)![1], 10);\n\t\t\tsetDevices((devices) => {\n\t\t\t\tconst updatedDevice = devices?.[nodeId];\n\t\t\t\tif (updatedDevice) {\n\t\t\t\t\tupdatedDevice.status = state.val as any;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...devices,\n\t\t\t\t\t\t[nodeId]: updatedDevice,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn devices;\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (id.match(deviceReadyRegex)) {\n\t\t\t// A device's ready state was changed\n\t\t\tconst nodeId = parseInt(deviceReadyRegex.exec(id)![1], 10);\n\t\t\tsetDevices((devices) => {\n\t\t\t\tconst updatedDevice = devices?.[nodeId];\n\t\t\t\tif (updatedDevice) {\n\t\t\t\t\tupdatedDevice.ready = state.val as any;\n\t\t\t\t\t// schedule an update of the associations\n\t\t\t\t\tif (updatedDevice.ready)\n\t\t\t\t\t\tsetTimeout(() => void updateAssociations(nodeId), 0);\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...devices,\n\t\t\t\t\t\t[nodeId]: updatedDevice,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn devices;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tasync function updateDevices(): Promise<void> {\n\t\tsetDevices(\n\t\t\tawait api.loadDevices({\n\t\t\t\tstatus: true,\n\t\t\t\tassociations: true,\n\t\t\t\tready: true,\n\t\t\t}),\n\t\t);\n\t}\n\n\tReact.useEffect(() => {\n\t\t(async () => {\n\t\t\t// Load devices initially\n\t\t\tawait updateDevices();\n\n\t\t\t// And update them on changes - these patterns are a bit broad, but we're going to reuse them anyways\n\t\t\tconnection.subscribeObject(`${namespace}.Node_*`, onObjectChange);\n\t\t\tconnection.subscribeState(`${namespace}.Node_*`, onStateChange);\n\t\t})();\n\n\t\t// componentWillUnmount\n\t\treturn () => {\n\t\t\tconnection.unsubscribeObject(`${namespace}.Node_*`, onObjectChange);\n\t\t\tconnection.unsubscribeState(`${namespace}.Node_*`, onStateChange);\n\t\t};\n\t}, []);\n\n\treturn [devices, updateDevices] as const;\n}\n", "import React from \"react\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport type { Device } from \"../lib/useAPI\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport { GroupRow } from \"../components/GroupRow\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { nameFromGroupObject, useGroups } from \"../lib/useGroups\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(2),\n\t},\n\tcontainer: {\n\t\toverflowY: \"auto\",\n\t},\n\tempty: {\n\t\ttextAlign: \"center\",\n\t\tfontStyle: \"italic\",\n\t},\n}));\n\nexport interface GroupsProps {\n\tdevices: Record<number, Device> | undefined;\n}\n\nexport const Groups: React.FC<GroupsProps> = (props) => {\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\tconst { groups, saveGroup, deleteGroup } = useGroups();\n\n\tif (!props.devices || !groups) return <CircularProgress />;\n\n\tconst selectableNodes = Object.values(props.devices).filter((device) => {\n\t\tconst { isControllerNode, secure } = device.value.native;\n\t\treturn !isControllerNode && !secure;\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<Alert severity=\"info\">\n\t\t\t\t{_(\"no multicast S0\")}\n\t\t\t\t<br />\n\t\t\t\t{_(\"no multicast S2\")}\n\t\t\t</Alert>\n\n\t\t\t<Paper className={classes.root} elevation={2}>\n\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t<Table style={{ tableLayout: \"auto\" }}>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell style={{ width: \"50%\" }}>\n\t\t\t\t\t\t\t\t\t{_(\"Group name\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell style={{ width: \"50%\" }}>\n\t\t\t\t\t\t\t\t\t{_(\"Nodes\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t\t\t\t\t\t></TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{Object.entries(groups).map(([id, group]) => (\n\t\t\t\t\t\t\t\t<GroupRow\n\t\t\t\t\t\t\t\t\tobjectId={group._id}\n\t\t\t\t\t\t\t\t\tkey={`group-${id}`}\n\t\t\t\t\t\t\t\t\tname={nameFromGroupObject(group)}\n\t\t\t\t\t\t\t\t\tnodeIds={group.native.nodeIds}\n\t\t\t\t\t\t\t\t\tselectableNodes={selectableNodes}\n\t\t\t\t\t\t\t\t\tsave={saveGroup}\n\t\t\t\t\t\t\t\t\tdelete={() => deleteGroup(group)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{/* Empty row to add new associations */}\n\t\t\t\t\t\t\t<GroupRow\n\t\t\t\t\t\t\t\tname={undefined}\n\t\t\t\t\t\t\t\tnodeIds={undefined}\n\t\t\t\t\t\t\t\tselectableNodes={selectableNodes}\n\t\t\t\t\t\t\t\tsave={saveGroup}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</>\n\t);\n};\n", "import React from \"react\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { padStart } from \"alcalzone-shared/strings\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport RestoreIcon from \"@material-ui/icons/Restore\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { getErrorMessage } from \"../../../src/lib/shared\";\nimport { arrayEquals } from \"../lib/tools\";\nimport type { Device } from \"../lib/useAPI\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport Typography from \"@material-ui/core/Typography\";\nimport clsx from \"clsx\";\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\nexport interface GroupRowProps {\n\tobjectId?: string;\n\tname: string | undefined;\n\tnodeIds: number[] | undefined;\n\n\tselectableNodes: Device[];\n\n\t// Will be called when the group should be saved\n\tsave(name: string, nodeIds: number[], oldName?: string): Promise<void>;\n\t// Will be called when the group should be deleted\n\tdelete?(): Promise<void>;\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tinput: {\n\t\twidth: \"100%\",\n\t\tmargin: 0,\n\t},\n\tcell: {\n\t\tpadding: theme.spacing(1, 2),\n\t},\n\tcellWithId: {\n\t\tpaddingTop: 0,\n\t},\n\tidCell: {\n\t\tcolor: theme.palette.text.hint,\n\t\tpadding: theme.spacing(1, 2, 0, 2),\n\t\tborder: 0,\n\t},\n}));\n\nexport const GroupRow: React.FC<GroupRowProps> = (props) => {\n\tconst { translate: _ } = useI18n();\n\n\tconst [name, setName] = React.useState(props.name ?? \"\");\n\tconst [nodeIds, setNodeIds] = React.useState(props.nodeIds ?? []);\n\n\tconst [isValid, setValid] = React.useState(false);\n\tconst [hasChanges, setHasChanges] = React.useState(false);\n\tconst [isBusy, setBusy] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tsetHasChanges(\n\t\t\t(name !== \"\" && name !== props.name) ||\n\t\t\t\t!arrayEquals(nodeIds, props.nodeIds ?? []),\n\t\t);\n\t\t// TODO: Check if the group exists already\n\t\tsetValid(!!name && nodeIds.length > 1);\n\t}, [name, props.name, nodeIds, props.nodeIds]);\n\n\tconst nodesOptions = props.selectableNodes.map((device) => ({\n\t\tvalue: device.value.native.id,\n\t\tlabel: `${_(\"Node\")} ${padStart(\n\t\t\tdevice.value.native.id.toString(),\n\t\t\t3,\n\t\t\t\"0\",\n\t\t)}`,\n\t}));\n\tconst selectedNodes = nodesOptions.filter((o) => nodeIds.includes(o.value));\n\n\tconst isNewGroup = props.name == undefined && props.nodeIds == undefined;\n\n\tasync function saveGroup() {\n\t\ttry {\n\t\t\tsetBusy(true);\n\t\t\tawait props.save(name!, nodeIds.sort(), props.objectId);\n\t\t\tif (isNewGroup) resetGroup();\n\t\t} catch (e) {\n\t\t\talert(_(`The group could not be saved!`));\n\t\t\tconsole.error(\n\t\t\t\t`The group could not be saved! Reason: ${getErrorMessage(e)}`,\n\t\t\t);\n\t\t\tresetGroup();\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t}\n\t}\n\n\tfunction resetGroup() {\n\t\tsetName(props.name ?? \"\");\n\t\tsetNodeIds(props.nodeIds ?? []);\n\t}\n\n\tasync function deleteGroup() {\n\t\tif (!props.delete) return;\n\t\ttry {\n\t\t\tsetBusy(true);\n\t\t\tawait props.delete();\n\t\t} catch (e) {\n\t\t\talert(_(`The group could not be deleted!`));\n\t\t\tconsole.error(\n\t\t\t\t`The group could not be deleted! Reason: ${getErrorMessage(e)}`,\n\t\t\t);\n\t\t\tresetGroup();\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t}\n\t}\n\n\tconst classes = useStyles();\n\n\tconst cellClassName = clsx(\n\t\tclasses.cell,\n\t\t!!props.objectId ? classes.cellWithId : undefined,\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{!!props.objectId && (\n\t\t\t\t<TableRow>\n\t\t\t\t\t<TableCell className={classes.idCell} colSpan={3}>\n\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\tID: {props.objectId}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</TableCell>\n\t\t\t\t</TableRow>\n\t\t\t)}\n\t\t\t<TableRow>\n\t\t\t\t<TableCell className={cellClassName}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tplaceholder={_(\"Enter group name\")}\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t></TextField>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cellClassName}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\toptions={nodesOptions}\n\t\t\t\t\t\tdisableCloseOnSelect\n\t\t\t\t\t\tgetOptionLabel={(option) => option.label}\n\t\t\t\t\t\tvalue={selectedNodes}\n\t\t\t\t\t\tonChange={(e, value) =>\n\t\t\t\t\t\t\tsetNodeIds(value.map((v) => v.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\trenderOption={(option, { selected }) => (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\t\t\tcheckedIcon={checkedIcon}\n\t\t\t\t\t\t\t\t\tstyle={{ marginRight: 8 }}\n\t\t\t\t\t\t\t\t\tchecked={selected}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t// margin=\"dense\"\n\t\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\tselectedNodes.length === 0\n\t\t\t\t\t\t\t\t\t\t? _(\"Select at least 2 nodes\")\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\n\t\t\t\t<TableCell className={cellClassName}>\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tstyle={{ flex: \"1 0 auto\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tooltip title={_(\"Save group\")}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={isBusy || !isValid || !hasChanges}\n\t\t\t\t\t\t\t\tonClick={() => saveGroup()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{isNewGroup ? <AddIcon /> : <SaveIcon />}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t<Tooltip title={_(\"Undo changes\")}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={isBusy || !hasChanges}\n\t\t\t\t\t\t\t\tonClick={() => resetGroup()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<RestoreIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t{!isNewGroup && (\n\t\t\t\t\t\t\t<Tooltip title={_(\"Delete group\")}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={isBusy}\n\t\t\t\t\t\t\t\t\tonClick={() => deleteGroup()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<DeleteForeverIcon />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n", "export function arrayEquals(arr1: any[], arr2: any[]): boolean {\n\tif (arr1.length !== arr2.length) return false;\n\treturn arr1.every((item, index) => item === arr2[index]);\n}\n", "import { isArray } from \"alcalzone-shared/typeguards\";\nimport { useConnection, useGlobals } from \"iobroker-react/hooks\";\nimport React from \"react\";\n\nexport type GroupObject = ioBroker.DeviceObject & {\n\tnative: ioBroker.DeviceObject[\"native\"] & {\n\t\tnodeIds: number[];\n\t};\n};\n\nconst groupIdRegex = /\\.Group_([^\\.]+)$/;\n\nfunction isGroupObject(obj: ioBroker.Object): obj is GroupObject {\n\tif (obj.type !== \"device\") return false;\n\tif (!isArray(obj.native.nodeIds)) return false;\n\treturn obj.native.nodeIds.every((n) => typeof n === \"number\");\n}\n\nfunction sanitizeName(name: string): string {\n\treturn name.replace(/[ .:,;\u00B5<>|!\"\u00A7$%&\\\\/()=?#+'~*]+/gi, \"_\");\n}\n\nexport function nameFromGroupObject(obj: GroupObject): string {\n\tif (typeof obj.common.name === \"string\" && !!obj.common.name) {\n\t\treturn obj.common.name;\n\t} else {\n\t\treturn obj._id.match(groupIdRegex)![1];\n\t}\n}\n\nexport function useGroups(): Readonly<{\n\t// id -> object\n\tgroups: Record<string, GroupObject> | undefined;\n\tsaveGroup: (\n\t\tname: string,\n\t\tnodeIds: number[],\n\t\tobjectId?: string,\n\t) => Promise<void>;\n\tdeleteGroup: (obj: GroupObject) => Promise<void>;\n}> {\n\tconst connection = useConnection();\n\tconst [groups, setGroups] = React.useState<Record<string, GroupObject>>();\n\tconst { namespace } = useGlobals();\n\n\tconst onObjectChange: ioBroker.ObjectChangeHandler = async (id, obj) => {\n\t\tif (!id.startsWith(namespace) || !groupIdRegex.test(id)) return;\n\t\tif (obj) {\n\t\t\t// New or changed group object\n\t\t\tif (isGroupObject(obj)) {\n\t\t\t\tsetGroups((groups) => ({ ...groups, [id]: obj }));\n\t\t\t}\n\t\t} else {\n\t\t\tsetGroups((groups) => {\n\t\t\t\tconst newGroups = { ...groups };\n\t\t\t\tdelete newGroups[id];\n\t\t\t\treturn newGroups;\n\t\t\t});\n\t\t}\n\t};\n\n\tasync function loadGroups(): Promise<void> {\n\t\tconst groupObjects = await connection.getObjectView(\n\t\t\t`${namespace}.Group_`,\n\t\t\t`${namespace}.Group_\\u9999`,\n\t\t\t\"device\",\n\t\t);\n\t\tconst groups: Record<string, GroupObject> = {};\n\t\tfor (const [id, obj] of Object.entries<ioBroker.Object>(groupObjects)) {\n\t\t\tif (\n\t\t\t\t!id.startsWith(namespace) ||\n\t\t\t\t!groupIdRegex.test(id) ||\n\t\t\t\t!isGroupObject(obj)\n\t\t\t) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tgroups[id] = obj;\n\t\t}\n\n\t\tsetGroups(groups);\n\t}\n\n\tconst saveGroup = React.useCallback(\n\t\tasync (\n\t\t\tname: string,\n\t\t\tnodeIds: number[],\n\t\t\tobjectId?: string,\n\t\t): Promise<void> => {\n\t\t\t// Reuse the old name for the ID when renaming a group\n\t\t\tconst id = objectId ?? `${namespace}.Group_${sanitizeName(name)}`;\n\t\t\tawait connection.setObject(id, {\n\t\t\t\ttype: \"device\",\n\t\t\t\tcommon: { name },\n\t\t\t\tnative: { multicast: true, nodeIds },\n\t\t\t});\n\t\t},\n\t\t[namespace, connection],\n\t);\n\n\tconst deleteGroup = React.useCallback(\n\t\tasync (obj: GroupObject): Promise<void> => {\n\t\t\tawait connection.delObject(obj._id);\n\t\t},\n\t\t[connection],\n\t);\n\n\tReact.useEffect(() => {\n\t\t(async () => {\n\t\t\t// Load groups initially\n\t\t\tawait loadGroups();\n\n\t\t\t// And update them on changes - these patterns are a bit broad, but we're going to reuse them anyways\n\t\t\tconnection.subscribeObject(`${namespace}.Group_*`, onObjectChange);\n\t\t})();\n\n\t\t// componentWillUnmount\n\t\treturn () => {\n\t\t\tconnection.unsubscribeObject(\n\t\t\t\t`${namespace}.Group_*`,\n\t\t\t\tonObjectChange,\n\t\t\t);\n\t\t};\n\t}, []);\n\n\treturn { groups, saveGroup, deleteGroup } as const;\n}\n", "import { makeStyles } from \"@material-ui/core/styles\";\nimport { useAdapter, useDialogs, useI18n } from \"iobroker-react/hooks\";\nimport React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport { SmartStartTableRow } from \"../components/SmartStartTableRow\";\nimport type { SmartStartProvisioningEntry } from \"zwave-js\";\nimport { Device, useAPI } from \"../lib/useAPI\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport type { SecurityClass } from \"@zwave-js/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { QRScanner } from \"../components/QRScanner\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport { Message, NotRunning } from \"../components/Messages\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tdisplay: \"flex\",\n\t\tflexFlow: \"column nowrap\",\n\t\tgap: theme.spacing(2),\n\t},\n\tcontainer: {\n\t\toverflowY: \"auto\",\n\t},\n\tscannerDialogContent: {\n\t\tdisplay: \"flex\",\n\t\tflexFlow: \"column nowrap\",\n\t\talignItems: \"center\",\n\t\tgap: theme.spacing(1),\n\t},\n}));\n\nexport interface SmartStartProps {\n\tdevices: Record<number, Device> | undefined;\n}\n\nexport const SmartStart: React.FC<SmartStartProps> = (props) => {\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\tconst api = useAPI();\n\tconst { showModal } = useDialogs();\n\tconst { alive: adapterRunning, connected: driverReady } = useAdapter();\n\n\t// Check for SmartStart support\n\tconst [supportsSmartStart, setSupportsSmartStart] =\n\t\tReact.useState<boolean>(false);\n\tReact.useEffect(() => {\n\t\tif (driverReady) api.supportsSmartStart().then(setSupportsSmartStart);\n\t}, [driverReady, api]);\n\n\tconst [entries, setEntries] =\n\t\tReact.useState<SmartStartProvisioningEntry[]>();\n\n\tconst updateEntries = React.useCallback(async () => {\n\t\tconst entries = await api.getProvisioningEntries();\n\t\tentries.sort((a, b) => {\n\t\t\tconst nodeIdA = a.nodeId || 999999;\n\t\t\tconst nodeIdB = b.nodeId || 999999;\n\t\t\tconst result = nodeIdA - nodeIdB;\n\t\t\tif (result) return result;\n\t\t\treturn a.dsk.localeCompare(b.dsk);\n\t\t});\n\t\tsetEntries(entries);\n\t}, [api, setEntries]);\n\n\t// Update entries initially and when the devices change\n\tReact.useEffect(() => {\n\t\tupdateEntries();\n\t}, [api, props.devices]);\n\n\tconst provisionNode = React.useCallback(\n\t\tasync (\n\t\t\tdsk: string,\n\t\t\tsecurityClasses: SecurityClass[],\n\t\t\tadditionalData?: Record<string, any>,\n\t\t) => {\n\t\t\tawait api.provisionSmartStartNode(\n\t\t\t\tdsk,\n\t\t\t\tsecurityClasses,\n\t\t\t\tadditionalData,\n\t\t\t);\n\t\t\tawait updateEntries();\n\t\t},\n\t\t[api, updateEntries],\n\t);\n\n\tconst unprovisionNode = React.useCallback(\n\t\tasync (dsk: string) => {\n\t\t\tconst result = await showModal(\n\t\t\t\t_(\"Unprovision node?\"),\n\t\t\t\t_(\n\t\t\t\t\t\"Do you really want to remove this node from the provisioning list?\",\n\t\t\t\t),\n\t\t\t);\n\t\t\tif (!result) return;\n\n\t\t\tawait api.unprovisionSmartStartNode(dsk);\n\t\t\tawait updateEntries();\n\t\t},\n\t\t[api, updateEntries],\n\t);\n\n\tconst reprovisionNode = React.useCallback(\n\t\tasync (\n\t\t\toldDsk: string,\n\t\t\tnewDsk: string,\n\t\t\tsecurityClasses: SecurityClass[],\n\t\t\tadditionalData?: Record<string, any>,\n\t\t) => {\n\t\t\tif (oldDsk !== newDsk) {\n\t\t\t\tawait api.unprovisionSmartStartNode(oldDsk);\n\t\t\t}\n\t\t\tawait api.provisionSmartStartNode(\n\t\t\t\tnewDsk,\n\t\t\t\tsecurityClasses,\n\t\t\t\tadditionalData,\n\t\t\t);\n\t\t\tawait updateEntries();\n\t\t},\n\t\t[api, updateEntries],\n\t);\n\n\tconst [scannerNotification, setScannerNotification] = React.useState<{\n\t\tmessage: string;\n\t\tseverity: \"success\" | \"info\" | \"warning\" | \"error\";\n\t}>();\n\tconst [lastScanned, setLastScanned] = React.useState<string>();\n\tconst [showQRCodeScanner, setShowQRCodeScanner] = React.useState(false);\n\tconst closeQRCodeScanner = () => {\n\t\tsetShowQRCodeScanner(false);\n\t\tsetTimeout(() => setScannerNotification(undefined), 250);\n\t};\n\tconst handleQRScan = async (code: string) => {\n\t\ttry {\n\t\t\tconst result = await api.scanQRCode(code, false);\n\t\t\tif (result.type === \"none\") {\n\t\t\t\tsetScannerNotification({\n\t\t\t\t\tmessage: _(\"This is not a valid Z-Wave QR code\"),\n\t\t\t\t\tseverity: \"error\",\n\t\t\t\t});\n\t\t\t} else if (result.type === \"SmartStart\") {\n\t\t\t\tconst { dsk, securityClasses, ...rest } = result;\n\t\t\t\tawait provisionNode(dsk, securityClasses, rest);\n\t\t\t\tsetLastScanned(dsk);\n\t\t\t\tsetScannerNotification({\n\t\t\t\t\tmessage: _(\"Node successfully added to provisioning list\"),\n\t\t\t\t\tseverity: \"success\",\n\t\t\t\t});\n\t\t\t} else if (result.type === \"S2\") {\n\t\t\t\tsetScannerNotification({\n\t\t\t\t\tmessage: _(\n\t\t\t\t\t\t\"This is not a SmartStart QR code. Use the devices tab to include this node.\",\n\t\t\t\t\t),\n\t\t\t\t\tseverity: \"warning\",\n\t\t\t\t});\n\t\t\t} else if (result.type === \"included\") {\n\t\t\t\tsetScannerNotification({\n\t\t\t\t\tmessage: _(\n\t\t\t\t\t\t\"The device is already included as Node %s\",\n\t\t\t\t\t\tresult.nodeId.toString(),\n\t\t\t\t\t),\n\t\t\t\t\tseverity: \"info\",\n\t\t\t\t});\n\t\t\t} else if (result.type === \"provisioned\") {\n\t\t\t\t// Avoid false positives when we just added this node\n\t\t\t\tif (result.dsk === lastScanned) return;\n\n\t\t\t\tsetScannerNotification({\n\t\t\t\t\tmessage: _(\n\t\t\t\t\t\t\"This node is already on the SmartStart provisioning list\",\n\t\t\t\t\t),\n\t\t\t\t\tseverity: \"info\",\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// ignore\n\t\t}\n\t};\n\n\tif (!adapterRunning || !driverReady) return <NotRunning />;\n\tif (!entries || !props.devices) return <CircularProgress />;\n\tif (!supportsSmartStart) {\n\t\treturn (\n\t\t\t<Message>\n\t\t\t\t{_(\"The controller does not support SmartStart!\")}\n\t\t\t</Message>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Typography variant=\"body1\">\n\t\t\t\t{_(\n\t\t\t\t\t\"Define here which SmartStart capable nodes should be part of the network by entering their DSK and granting security classes.\",\n\t\t\t\t)}\n\t\t\t\t<br />\n\t\t\t\t{_(\n\t\t\t\t\t\"When a node announces itself, it will automatically be included within 10 minutes.\",\n\t\t\t\t)}\n\t\t\t</Typography>\n\n\t\t\t<Alert severity=\"info\">\n\t\t\t\t{_(\n\t\t\t\t\t\"Removing an entry does not automatically exclude the node.\",\n\t\t\t\t)}\n\t\t\t</Alert>\n\n\t\t\t{/* QR Code scanner */}\n\t\t\t<div>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tstartIcon={<AddAPhotoIcon />} // TODO: This should use MUI v5's QR code icon\n\t\t\t\t\tonClick={() => setShowQRCodeScanner(true)}\n\t\t\t\t>\n\t\t\t\t\t{_(\"Scan QR Code\")}\n\t\t\t\t</Button>\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={showQRCodeScanner}\n\t\t\t\t\tonClose={closeQRCodeScanner}\n\t\t\t\t\tmaxWidth={false}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle>{_(\"Scan QR Code\")}</DialogTitle>\n\t\t\t\t\t<DialogContent className={classes.scannerDialogContent}>\n\t\t\t\t\t\t{scannerNotification && (\n\t\t\t\t\t\t\t<Alert severity={scannerNotification.severity}>\n\t\t\t\t\t\t\t\t{scannerNotification.message}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<QRScanner onDetect={handleQRScan} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={closeQRCodeScanner}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(\"Close\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\n\t\t\t<Paper elevation={2}>\n\t\t\t\t<TableContainer className={classes.container}>\n\t\t\t\t\t<Table style={{ tableLayout: \"auto\" }}>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"50px\" }}\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t#\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell style={{ minWidth: \"480px\" }}>\n\t\t\t\t\t\t\t\t\t{_(\"DSK\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>{_(\"Security classes\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t\t\t\t\t\t></TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{entries.map((entry) => {\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\tnodeId,\n\t\t\t\t\t\t\t\t\tdsk,\n\t\t\t\t\t\t\t\t\tsecurityClasses,\n\t\t\t\t\t\t\t\t\t...additionalData\n\t\t\t\t\t\t\t\t} = entry;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<SmartStartTableRow\n\t\t\t\t\t\t\t\t\t\tnodeId={entry.nodeId}\n\t\t\t\t\t\t\t\t\t\tkey={`entry-${entry.dsk}`}\n\t\t\t\t\t\t\t\t\t\tdsk={entry.dsk}\n\t\t\t\t\t\t\t\t\t\tsecurityClasses={entry.securityClasses}\n\t\t\t\t\t\t\t\t\t\tadditionalData={additionalData}\n\t\t\t\t\t\t\t\t\t\tprovision={(\n\t\t\t\t\t\t\t\t\t\t\tdsk,\n\t\t\t\t\t\t\t\t\t\t\tsecClasses,\n\t\t\t\t\t\t\t\t\t\t\tadditional,\n\t\t\t\t\t\t\t\t\t\t) =>\n\t\t\t\t\t\t\t\t\t\t\treprovisionNode(\n\t\t\t\t\t\t\t\t\t\t\t\tentry.dsk,\n\t\t\t\t\t\t\t\t\t\t\t\tdsk,\n\t\t\t\t\t\t\t\t\t\t\t\tsecClasses,\n\t\t\t\t\t\t\t\t\t\t\t\tadditional,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tunprovision={() =>\n\t\t\t\t\t\t\t\t\t\t\tunprovisionNode(entry.dsk)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{/* Empty row to add new entries */}\n\t\t\t\t\t\t\t<SmartStartTableRow\n\t\t\t\t\t\t\t\tnodeId={undefined}\n\t\t\t\t\t\t\t\tdsk={undefined}\n\t\t\t\t\t\t\t\tsecurityClasses={[]}\n\t\t\t\t\t\t\t\tprovision={provisionNode}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n", "import ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useI18n } from \"iobroker-react/hooks\";\nimport React from \"react\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\nimport { isValidDSK } from \"@zwave-js/core/build/security/DSK\";\nimport { SecurityClass } from \"@zwave-js/core/build/security/SecurityClass\";\nimport { arrayEquals } from \"../lib/tools\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport RestoreIcon from \"@material-ui/icons/Restore\";\nimport TextField from \"@material-ui/core/TextField\";\nimport clsx from \"clsx\";\nimport { getErrorMessage } from \"../../../src/lib/shared\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles((theme) => ({\n\tcell: {\n\t\tpadding: theme.spacing(1, 2),\n\t},\n\twithAdditionalData: {\n\t\t\"& td\": {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t},\n\tadditionalData: {\n\t\t\"& td\": {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tborderBottom: 0,\n\t\t\tpaddingBottom: 0,\n\t\t},\n\t},\n\tidCell: {\n\t\ttextAlign: \"center\",\n\t},\n\tinput: {\n\t\twidth: \"100%\",\n\t\tmargin: 0,\n\t},\n\tsecurityClassToggle: {\n\t\tlineHeight: 1.1,\n\t},\n}));\n\nexport interface SmartStartTableRowProps {\n\tnodeId: number | undefined;\n\tdsk: string | undefined;\n\tsecurityClasses: SecurityClass[];\n\tadditionalData?: Record<string, any>;\n\n\t// Will be called when the entry should be saved\n\tprovision(\n\t\tdsk: string,\n\t\tsecurityClasses: SecurityClass[],\n\t\tadditionalData?: Record<string, any>,\n\t): Promise<void>;\n\t// Will be called when the entry should be deleted\n\tunprovision?(): Promise<void>;\n}\n\nexport const SmartStartTableRow: React.FC<SmartStartTableRowProps> = (\n\tprops,\n) => {\n\tconst classes = useStyles();\n\tconst { translate: _ } = useI18n();\n\n\tconst [dsk, setDsk] = React.useState(props.dsk ?? \"\");\n\tconst [securityClasses, setSecurityClasses] = React.useState(\n\t\tprops.securityClasses,\n\t);\n\n\tconst [isValid, setValid] = React.useState(false);\n\tconst [hasChanges, setHasChanges] = React.useState(false);\n\tconst [isBusy, setBusy] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tsetHasChanges(\n\t\t\t(dsk !== \"\" && dsk !== props.dsk) ||\n\t\t\t\t!arrayEquals(securityClasses, props.securityClasses),\n\t\t);\n\t\tsetValid(isValidDSK(dsk) && securityClasses.length > 0);\n\t}, [dsk, props.dsk, securityClasses, props.securityClasses]);\n\n\tconst handleDSKChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tlet dsk = e.target.value.replace(/[^0-9]/g, \"\");\n\t\tif (dsk.length > 40) dsk = dsk.substr(0, 40);\n\t\t// Format as chunks of 5 digits\n\t\tlet result = \"\";\n\t\tfor (let chunk = 1; chunk <= 8; chunk++) {\n\t\t\tif (dsk.length > chunk * 5) {\n\t\t\t\tresult += dsk.substr((chunk - 1) * 5, 5) + \"-\";\n\t\t\t} else {\n\t\t\t\tresult += dsk.substr((chunk - 1) * 5);\n\t\t\t}\n\t\t}\n\t\tsetDsk(result);\n\t};\n\n\tconst selectSecurity = (\n\t\tevent: React.MouseEvent<HTMLElement>,\n\t\tsecClasses: SecurityClass[],\n\t) => {\n\t\tsetSecurityClasses(secClasses);\n\t};\n\n\tconst isNewEntry = props.dsk == undefined;\n\tconst isIncluded = props.nodeId != undefined;\n\n\tconst resetEntry = () => {\n\t\tsetDsk(props.dsk ?? \"\");\n\t\tsetSecurityClasses(props.securityClasses);\n\t};\n\n\tconst unprovision = async () => {\n\t\tif (!props.unprovision) return;\n\t\ttry {\n\t\t\tsetBusy(true);\n\t\t\tawait props.unprovision();\n\t\t} catch (e) {\n\t\t\talert(_(`The node could not be unprovisioned!`));\n\t\t\tconsole.error(\n\t\t\t\t`The node could not be unprovisioned! Reason: ${getErrorMessage(\n\t\t\t\t\te,\n\t\t\t\t)}`,\n\t\t\t);\n\t\t\tresetEntry();\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t}\n\t};\n\n\tconst provision = async () => {\n\t\ttry {\n\t\t\tsetBusy(true);\n\t\t\tawait props.provision(dsk, securityClasses, props.additionalData);\n\t\t\tif (isNewEntry) resetEntry();\n\t\t} catch (e) {\n\t\t\talert(_(`The node could not be provisioned!`));\n\t\t\tconsole.error(\n\t\t\t\t`The node could not be provisioned! Reason: ${getErrorMessage(\n\t\t\t\t\te,\n\t\t\t\t)}`,\n\t\t\t);\n\t\t\tresetEntry();\n\t\t} finally {\n\t\t\tsetBusy(false);\n\t\t}\n\t};\n\n\t// Display the node information where known\n\tlet additionalData: string | undefined;\n\tif (props.additionalData) {\n\t\tif (props.additionalData.manufacturer) {\n\t\t\tadditionalData = props.additionalData.manufacturer;\n\t\t}\n\t\tif (props.additionalData.label) {\n\t\t\tif (additionalData) additionalData += \" \";\n\t\t\tadditionalData += props.additionalData.label;\n\t\t}\n\t\tif (props.additionalData.description) {\n\t\t\tif (additionalData) additionalData += \" - \";\n\t\t\tadditionalData += props.additionalData.description;\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{!!additionalData && (\n\t\t\t\t<TableRow className={classes.additionalData}>\n\t\t\t\t\t<TableCell className={classes.cell}></TableCell>\n\t\t\t\t\t<TableCell className={classes.cell} colSpan={2}>\n\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t{additionalData}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</TableCell>\n\t\t\t\t\t<TableCell className={classes.cell}></TableCell>\n\t\t\t\t</TableRow>\n\t\t\t)}\n\n\t\t\t<TableRow\n\t\t\t\tclassName={clsx(!!additionalData && classes.withAdditionalData)}\n\t\t\t>\n\t\t\t\t<TableCell className={clsx(classes.cell, classes.idCell)}>\n\t\t\t\t\t{props.nodeId ?? \"\"}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={classes.cell}>\n\t\t\t\t\t{isIncluded ? (\n\t\t\t\t\t\t<Typography variant=\"body2\">{dsk}</Typography>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\tvalue={dsk}\n\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\"00000-11111-22222-33333-44444-55555-66666-77777\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={isBusy}\n\t\t\t\t\t\t\tonChange={handleDSKChange}\n\t\t\t\t\t\t></TextField>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={classes.cell}>\n\t\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\t\tvalue={securityClasses}\n\t\t\t\t\t\tonChange={selectSecurity}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\tvalue={SecurityClass.S2_AccessControl}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tclassName={classes.securityClassToggle}\n\t\t\t\t\t\t\tdisabled={isIncluded || isBusy}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tS2 AC\n\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\tvalue={SecurityClass.S2_Authenticated}\n\t\t\t\t\t\t\tclassName={classes.securityClassToggle}\n\t\t\t\t\t\t\tdisabled={isIncluded || isBusy}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tS2 Auth\n\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\tvalue={SecurityClass.S2_Unauthenticated}\n\t\t\t\t\t\t\tclassName={classes.securityClassToggle}\n\t\t\t\t\t\t\tdisabled={isIncluded || isBusy}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tS2 Unauth\n\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\tvalue={SecurityClass.S0_Legacy}\n\t\t\t\t\t\t\tclassName={classes.securityClassToggle}\n\t\t\t\t\t\t\tdisabled={isIncluded || isBusy}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tS0 Legacy\n\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t</TableCell>\n\n\t\t\t\t<TableCell className={classes.cell}>\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tstyle={{ flex: \"1 0 auto\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tooltip title={_(\"Provision node\")}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tisBusy ||\n\t\t\t\t\t\t\t\t\t!isValid ||\n\t\t\t\t\t\t\t\t\t!hasChanges ||\n\t\t\t\t\t\t\t\t\tisIncluded\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={provision}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{isNewEntry ? <AddIcon /> : <SaveIcon />}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t<Tooltip title={_(\"Undo changes\")}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={isBusy || !hasChanges || isIncluded}\n\t\t\t\t\t\t\t\tonClick={resetEntry}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<RestoreIcon />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t{!isNewEntry && (\n\t\t\t\t\t\t\t<Tooltip title={_(\"Unprovision\")}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={isBusy}\n\t\t\t\t\t\t\t\t\tonClick={() => unprovision()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<DeleteForeverIcon />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n"],
  "mappings": "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",
  "names": []
}
