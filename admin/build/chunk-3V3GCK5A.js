import{O as qe,S as D,Z as Le,_ as Se,a as E,aa as O,b as x,c as C,e as G,f as I,i as ke,j as Ce,q as _e,r as Ee}from"./chunk-SHO4JERJ.js";var Pe=E((j,Q)=>{(function(r,e){typeof j=="object"&&typeof Q!="undefined"?e(j,C()):typeof define=="function"&&define.amd?define(["exports","react"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.ReactErrorBoundary={},r.React))})(j,function(r,e){"use strict";function t(l){if(l&&l.__esModule)return l;var c=Object.create(null);return l&&Object.keys(l).forEach(function(d){if(d!=="default"){var s=Object.getOwnPropertyDescriptor(l,d);Object.defineProperty(c,d,s.get?s:{enumerable:!0,get:function(){return l[d]}})}}),c.default=l,Object.freeze(c)}var n=t(e);function i(l,c){return i=Object.setPrototypeOf||function(s,p){return s.__proto__=p,s},i(l,c)}function g(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,i(l,c)}var h=function(c,d){return c===void 0&&(c=[]),d===void 0&&(d=[]),c.length!==d.length||c.some(function(s,p){return!Object.is(s,d[p])})},f={error:null},v=function(l){g(c,l);function c(){for(var s,p=arguments.length,u=new Array(p),m=0;m<p;m++)u[m]=arguments[m];return s=l.call.apply(l,[this].concat(u))||this,s.state=f,s.updatedWithError=!1,s.resetErrorBoundary=function(){for(var y,B=arguments.length,_=new Array(B),L=0;L<B;L++)_[L]=arguments[L];s.props.onReset==null||(y=s.props).onReset.apply(y,_),s.reset()},s}c.getDerivedStateFromError=function(p){return{error:p}};var d=c.prototype;return d.reset=function(){this.updatedWithError=!1,this.setState(f)},d.componentDidCatch=function(p,u){var m,y;(m=(y=this.props).onError)==null||m.call(y,p,u)},d.componentDidMount=function(){var p=this.state.error;p!==null&&(this.updatedWithError=!0)},d.componentDidUpdate=function(p){var u=this.state.error,m=this.props.resetKeys;if(u!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(u!==null&&h(p.resetKeys,m)){var y,B;(y=(B=this.props).onResetKeysChange)==null||y.call(B,p.resetKeys,m),this.reset()}},d.render=function(){var p=this.state.error,u=this.props,m=u.fallbackRender,y=u.FallbackComponent,B=u.fallback;if(p!==null){var _={error:p,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(B))return B;if(typeof m=="function")return m(_);if(y)return n.createElement(y,_);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},c}(n.Component);function b(l,c){var d=function(u){return n.createElement(v,c,n.createElement(l,u))},s=l.displayName||l.name||"Unknown";return d.displayName="withErrorBoundary("+s+")",d}function k(l){var c=n.useState(null),d=c[0],s=c[1];if(l!=null)throw l;if(d!=null)throw d;return s}r.ErrorBoundary=v,r.useErrorHandler=k,r.withErrorBoundary=b,Object.defineProperty(r,"__esModule",{value:!0})})});var ee=E(z=>{"use strict";var Ae=I(),Me=G();Object.defineProperty(z,"__esModule",{value:!0});z.default=void 0;var Ge=Me(C()),Ie=Ae(D()),De=(0,Ie.default)(Ge.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");z.default=De});var ce=E((vr,ue)=>{"use strict";var ne=function(){function r(e,t){var n=[],i=!0,g=!1,h=void 0;try{for(var f=e[Symbol.iterator](),v;!(i=(v=f.next()).done)&&(n.push(v.value),!(t&&n.length===t));i=!0);}catch(b){g=!0,h=b}finally{try{!i&&f.return&&f.return()}finally{if(g)throw h}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function S(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}function N(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var P=Object,K=["black","red","green","yellow","blue","magenta","cyan","lightGray","","default"],Z=["darkGray","lightRed","lightGreen","lightYellow","lightBlue","lightMagenta","lightCyan","white",""],X=["","bright","dim","italic","underline","","","inverse"],Re={red:"lightRed",green:"lightGreen",yellow:"lightYellow",blue:"lightBlue",magenta:"lightMagenta",cyan:"lightCyan",black:"darkGray",lightGray:"white"},We={0:"style",2:"unstyle",3:"color",9:"colorLight",4:"bgColor",10:"bgColorLight"},Oe={color:K,colorLight:Z,bgColor:K,bgColorLight:Z,style:X,unstyle:X},oe=function(e){for(var t in e)e[t]||delete e[t];return P.keys(e).length===0?void 0:e},T=function(){function r(e,t,n){N(this,r),this.background=e,this.name=t,this.brightness=n}return $(r,[{key:"defaultBrightness",value:function(t){return new r(this.background,this.name,this.brightness||t)}},{key:"css",value:function(t){var n=t?this.inverse:this,i=n.brightness===w.bright&&Re[n.name]||n.name,g=n.background?"background:":"color:",h=R.rgb[i],f=this.brightness===w.dim?.5:1;return h?g+"rgba("+[].concat(S(h),[f]).join(",")+");":!n.background&&f<1?"color:rgba(0,0,0,0.5);":""}},{key:"inverse",get:function(){return new r(!this.background,this.name||(this.background?"black":"white"),this.brightness)}},{key:"clean",get:function(){return oe({name:this.name==="default"?"":this.name,bright:this.brightness===w.bright,dim:this.brightness===w.dim})}}]),r}(),w=function(){function r(e){N(this,r),e!==void 0&&(this.value=Number(e))}return $(r,[{key:"type",get:function(){return We[Math.floor(this.value/10)]}},{key:"subtype",get:function(){return Oe[this.type][this.value%10]}},{key:"str",get:function(){return this.value?"["+this.value+"m":""}},{key:"isBrightness",get:function(){return this.value===r.noBrightness||this.value===r.bright||this.value===r.dim}}],[{key:"str",value:function(t){return new r(t).str}}]),r}();P.assign(w,{reset:0,bright:1,dim:2,inverse:7,noBrightness:22,noItalic:23,noUnderline:24,noInverse:27,noColor:39,noBgColor:49});var je=function(e,t,n){return e.split(t).join(n)},ze=function(e){return e.replace(/(\u001b\[(1|2)m)/g,"[22m$1")},Te=function(e){return e.replace(/\u001b\[22m(\u001b\[(1|2)m)/g,"$1")},He=function(e,t,n){var i=w.str(t),g=w.str(n);return String(e).split(`
`).map(function(h){return ze(i+je(Te(h),g,i)+g)}).join(`
`)},ie=function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)},ae=function(){return[].concat(S(K.map(function(r,e){return r?[[r,30+e,w.noColor],[ie("bg",r),40+e,w.noBgColor]]:[]})),S(Z.map(function(r,e){return r?[[r,90+e,w.noColor],[ie("bg",r),100+e,w.noBgColor]]:[]})),S(["","BrightRed","BrightGreen","BrightYellow","BrightBlue","BrightMagenta","BrightCyan"].map(function(r,e){return r?[["bg"+r,100+e,w.noBgColor]]:[]})),S(X.map(function(r,e){return r?[[r,e,r==="bright"||r==="dim"?w.noBrightness:20+e]]:[]}))).reduce(function(r,e){return r.concat(e)})}(),Ve=function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return ae.reduce(function(n,i){var g=ne(i,3),h=g[0],f=g[1],v=g[2];return P.defineProperty(n,h,{get:function(){return r(function(k){return t(He(k,f,v))})}})},e)},A=0,le=1,se=2;function Ye(r){for(var e=A,t="",n="",i="",g=[],h=[],f=0,v=r.length;f<v;f++){var b=r[f];switch(t+=b,e){case A:b===""?(e=le,t=b):n+=b;break;case le:b==="["?(e=se,i="",g=[]):(e=A,n+=t);break;case se:if(b>="0"&&b<="9")i+=b;else if(b===";")g.push(new w(i)),i="";else if(b==="m"){i=i||"0",g.push(new w(i));var k=!0,l=!1,c=void 0;try{for(var d=g[Symbol.iterator](),s;!(k=(s=d.next()).done);k=!0){var p=s.value;h.push({text:n,code:p}),n=""}}catch(u){l=!0,c=u}finally{try{!k&&d.return&&d.return()}finally{if(l)throw c}}e=A}else e=A,n+=t}}return e!==A&&(n+=t),n&&h.push({text:n,code:new w}),h}var R=function(){function r(e){N(this,r),this.spans=e?Ye(e):[]}return $(r,[{key:Symbol.iterator,value:function(){return this.spans[Symbol.iterator]()}},{key:"str",get:function(){return this.spans.reduce(function(t,n){return t+n.text+n.code.str},"")}},{key:"parsed",get:function(){var t=void 0,n=void 0,i=void 0,g=void 0;function h(){t=new T,n=new T(!0),i=void 0,g=new Set}return h(),P.assign(new r,{spans:this.spans.map(function(f){var v=f.code,b=g.has("inverse"),k=g.has("underline")?"text-decoration: underline;":"",l=g.has("italic")?"font-style: italic;":"",c=i===w.bright?"font-weight: bold;":"",d=t.defaultBrightness(i),s=P.assign({css:c+l+k+d.css(b)+n.css(b)},oe({bold:!!c,color:d.clean,bgColor:n.clean}),f),p=!0,u=!1,m=void 0;try{for(var y=g[Symbol.iterator](),B;!(p=(B=y.next()).done);p=!0){var _=B.value;s[_]=!0}}catch(L){u=!0,m=L}finally{try{!p&&y.return&&y.return()}finally{if(u)throw m}}if(v.isBrightness)i=v.value;else if(f.code.value!==void 0)if(f.code.value===w.reset)h();else switch(f.code.type){case"color":case"colorLight":t=new T(!1,v.subtype);break;case"bgColor":case"bgColorLight":n=new T(!0,v.subtype);break;case"style":g.add(v.subtype);break;case"unstyle":g.delete(v.subtype);break}return s}).filter(function(f){return f.text.length>0})})}},{key:"asChromeConsoleLogArguments",get:function(){var t=this.parsed.spans;return[t.map(function(n){return"%c"+n.text}).join("")].concat(S(t.map(function(n){return n.css})))}},{key:"browserConsoleArguments",get:function(){return this.asChromeConsoleLogArguments}}],[{key:"parse",value:function(t){return new r(t).parsed}},{key:"strip",value:function(t){return t.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g,"")}},{key:"nice",get:function(){return r.names.forEach(function(t){t in String.prototype||P.defineProperty(String.prototype,t,{get:function(){return r[t](this)}})}),r}},{key:"ansicolor",get:function(){return r}}]),r}();Ve(R,function(r){return r});R.names=ae.map(function(r){var e=ne(r,1),t=e[0];return t});R.rgb={black:[0,0,0],darkGray:[100,100,100],lightGray:[200,200,200],white:[255,255,255],red:[204,0,0],lightRed:[255,51,0],green:[0,204,0],lightGreen:[51,204,51],yellow:[204,102,0],lightYellow:[255,153,51],blue:[0,0,255],lightBlue:[26,140,255],magenta:[204,0,204],lightMagenta:[255,0,255],cyan:[0,153,255],lightCyan:[0,204,255]};ue.exports=R});var ge=E(H=>{"use strict";var Fe=I(),Ue=G();Object.defineProperty(H,"__esModule",{value:!0});H.default=void 0;var $e=Ue(C()),Ne=Fe(D()),Ke=(0,Ne.default)($e.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow");H.default=Ke});var de=E(V=>{"use strict";var Ze=I(),Xe=G();Object.defineProperty(V,"__esModule",{value:!0});V.default=void 0;var Je=Xe(C()),Qe=Ze(D()),er=(0,Qe.default)(Je.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause");V.default=er});var pe=E(Y=>{"use strict";var rr=I(),tr=G();Object.defineProperty(Y,"__esModule",{value:!0});Y.default=void 0;var nr=tr(C()),or=rr(D()),ir=(0,or.default)(nr.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");Y.default=ir});var fe=E(F=>{"use strict";var ar=I(),lr=G();Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var sr=lr(C()),ur=ar(D()),cr=(0,ur.default)(sr.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");F.default=cr});var he=x(ee()),a=x(C());var re=x(C());function te(r){let e=O();re.default.useEffect(()=>(e.addPushCallback(r),()=>{e.removePushCallback(r)}),[e,r])}var o=x(ce()),mr=o.default.nice,yr=o.default.parse,wr=o.default.strip,Br=o.default.ansicolor,xr=o.default.black,kr=o.default.bgBlack,Cr=o.default.red,_r=o.default.bgRed,Er=o.default.green,qr=o.default.bgGreen,Lr=o.default.yellow,Sr=o.default.bgYellow,Pr=o.default.blue,Ar=o.default.bgBlue,Mr=o.default.magenta,Gr=o.default.bgMagenta,Ir=o.default.cyan,Dr=o.default.bgCyan,Rr=o.default.lightGray,Wr=o.default.bgLightGray,Or=o.default.bgDefault,jr=o.default.darkGray,zr=o.default.bgDarkGray,Tr=o.default.lightRed,Hr=o.default.bgLightRed,Vr=o.default.lightGreen,Yr=o.default.bgLightGreen,Fr=o.default.lightYellow,Ur=o.default.bgLightYellow,$r=o.default.lightBlue,Nr=o.default.bgLightBlue,Kr=o.default.lightMagenta,Zr=o.default.bgLightMagenta,Xr=o.default.lightCyan,Jr=o.default.bgLightCyan,Qr=o.default.white,et=o.default.bgWhite,rt=o.default.bgBrightRed,tt=o.default.bgBrightGreen,nt=o.default.bgBrightYellow,ot=o.default.bgBrightBlue,it=o.default.bgBrightMagenta,at=o.default.bgBrightCyan,lt=o.default.bright,st=o.default.dim,ut=o.default.italic,ct=o.default.underline,gt=o.default.inverse,dt=o.default.names,pt=o.default.rgb,W=o.default;var be=x(Ce()),ve=x(ge()),me=x(de()),J=x(Ee()),q=x(_e()),ye=x(Se()),we=x(pe()),Be=x(fe()),U=x(Le()),xe=x(ke()),M=x(qe()),gr=(0,be.makeStyles)(r=>({root:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch",gap:r.spacing(2)},root_window:{height:"100%",padding:r.spacing(2)},root_embedded:{height:`calc(100% - ${r.spacing(12)}px)`},buttons:{flex:"0 1 auto",display:"flex",gap:r.spacing(1)},code:{display:"block",flex:1,background:"#1e1e1e",color:"#cccccc",overflow:"auto",padding:r.spacing(2),"& > pre":{margin:0}}}));W.rgb.blue=[36,114,200];W.rgb.cyan=[17,168,205];W.rgb.green=[13,188,121];var dr=()=>{let r=a.default.useRef(null);return a.default.useEffect(()=>r.current?.scrollIntoView({behavior:"smooth"})),a.default.createElement("div",{ref:r})},xt=()=>{let r=gr(),e=O(),{translate:t}=(0,U.useI18n)(),{instance:n}=(0,U.useGlobals)(),[i,g]=a.default.useState(""),[h,f]=a.default.useState(!1),[v,b]=a.default.useState(!0),k=a.default.useCallback(u=>{if(u.type==="log"){console.log(u.info.message);let y=W.parse(u.info.message).spans.map(B=>`<span style="${B.css.replace(/^background:/,"color:#1e1e1e;background:")}">${B.text}</span>`);g(B=>B+(B?"<br />":"")+y.join(""))}},[g]);te(k);let l=a.default.useCallback(()=>{h||e.subscribeLogs().then(()=>{g(u=>u+(u?"<br />":"")+t("Subscribed to logs...")),f(!0)})},[e,h]),c=a.default.useCallback(()=>{!h||e.unsubscribeLogs().then(()=>{g(u=>u+(u?"<br />":"")+t("Unsubscribed logs...")),f(!1)})},[e,h]);a.default.useEffect(()=>(l(),c),[]);let d=a.default.useCallback(()=>{let u=document.createElement("a"),m=i.replace(/\<br.*?\>/gi,`
`).replace(/\<.*?\>/g,""),y=new Blob([m],{type:"text/plain"});u.href=URL.createObjectURL(y),u.download=`zwave_${new Date().toISOString().replace("T","_").replace(/[:\.]/g,"-").replace("Z","")}.log`,document.body.appendChild(u),u.click()},[i]),s=a.default.useCallback(()=>{window.open("log_window.html",`zwave_log_${n}`,"innerWidth=960,innerHeight=600")},[]),p=window.name.startsWith("zwave_log_");return a.default.createElement("div",{className:(0,xe.default)(r.root,p?r.root_window:r.root_embedded)},a.default.createElement("div",{className:r.buttons},a.default.createElement(J.default,{variant:"contained",color:"primary"},a.default.createElement(M.default,{title:t("Start logging")},a.default.createElement(q.default,{disabled:h,onClick:l},a.default.createElement(ve.default,null))),a.default.createElement(M.default,{title:t("Pause logging")},a.default.createElement(q.default,{disabled:!h,onClick:c},a.default.createElement(me.default,null)))),a.default.createElement(J.default,{variant:"contained",color:"primary"},a.default.createElement(M.default,{title:t("Auto-scroll to bottom")},a.default.createElement(q.default,{disabled:v,onClick:()=>b(!0)},a.default.createElement(ye.default,null))),a.default.createElement(M.default,{title:t("Pause auto-scrolling")},a.default.createElement(q.default,{disabled:!v,onClick:()=>b(!1)},a.default.createElement(we.default,null)))),a.default.createElement(q.default,{variant:"contained",color:"primary",onClick:d,startIcon:a.default.createElement(Be.default,null)},t("Download logs")),!p&&a.default.createElement(M.default,{title:t("Open log in new window")},a.default.createElement(q.default,{variant:"contained",color:"primary",style:{marginLeft:"auto"},onClick:s},a.default.createElement(he.default,null)))),a.default.createElement("code",{className:r.code},a.default.createElement("pre",{dangerouslySetInnerHTML:{__html:i}}),v&&a.default.createElement(dr,null)))};export{Pe as a,te as b,pe as c,xt as d};
//# sourceMappingURL=chunk-3V3GCK5A.js.map
