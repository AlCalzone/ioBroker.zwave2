import{a as Bs,b as ws}from"./chunk-YTGRNYAE.js";import{a as og,b as Mn,c as ig,d as _s}from"./chunk-RFQLBFZQ.js";import{$ as ks,A as pr,C as ms,Ca as In,D as hs,Da as It,E as ys,Ea as Mt,F as qr,G as _t,Ga as xs,Ha as Fe,I as Bi,Ia as Ee,Ja as Gp,K as Kt,Ka as Qp,L as Ct,La as Wp,M as Nt,Ma as Yp,N as z,Na as Jp,O as gr,Oa as Zp,P as Pt,Pa as eg,Q as he,Qa as tg,R as vs,Ra as rg,S as bs,Sa as ng,T as qp,U as dt,V as Lr,W as wi,X as xi,Y as _i,Z as ft,_ as Ci,a as D,aa as $t,b as y,ba as fe,c as E,ca as Lp,d as Fp,da as zp,e as ue,ea as jp,f as wt,fa as zr,g as ls,ga as Hp,h as Nn,ha as Up,i as cs,ia as Kp,j as He,k as us,l as ds,la as pt,m as fs,ma as Ni,n as ps,na as Pi,o as de,oa as $p,p as Ep,pa as Vp,q as Ut,qa as Xp,r as ki,ra as Pn,s as Si,sa as Rn,ta as Rt,u as fr,ua as Ke,v as xt,va as L,w as Ue,wa as Ot,xa as Ss,y as U,ya as Ri,z as gs,za as On}from"./chunk-UUKLPU65.js";var An=D(Tn=>{"use strict";var lg=ue(),cg=de();Object.defineProperty(Tn,"__esModule",{value:!0});Tn.default=void 0;var ug=cg(E()),dg=lg(fe()),fg=(0,dg.default)(ug.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");Tn.default=fg});var jr=D(Fn=>{"use strict";var pg=ue(),gg=de();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.default=void 0;var mg=gg(E()),hg=pg(fe()),yg=(0,hg.default)(mg.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");Fn.default=yg});var Ds=D(Ln=>{"use strict";var bg=ue(),kg=de();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.default=void 0;var Sg=kg(E()),Bg=bg(fe()),wg=(0,Bg.default)(Sg.createElement("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7l2-2zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53.96-.97zM2 3.05L5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79 2 3.05zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0z"}),"WifiOff");Ln.default=wg});var Ts=D(zn=>{"use strict";var xg=ue(),_g=de();Object.defineProperty(zn,"__esModule",{value:!0});zn.default=void 0;var Cg=_g(E()),Ng=xg(fe()),Pg=(0,Ng.default)(Cg.createElement("path",{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14zM12 6.72c-1.96 0-3.5 1.52-3.5 3.47h1.75c0-.93.82-1.75 1.75-1.75s1.75.82 1.75 1.75c0 1.75-2.63 1.57-2.63 4.45h1.76c0-1.96 2.62-2.19 2.62-4.45 0-1.96-1.54-3.47-3.5-3.47zm-.88 8.8h1.76v1.76h-1.76z"}),"DeviceUnknown");zn.default=Pg});var Mi=D(jn=>{"use strict";var Rg=ue(),Og=de();Object.defineProperty(jn,"__esModule",{value:!0});jn.default=void 0;var Ig=Og(E()),Mg=Rg(fe()),Dg=(0,Mg.default)(Ig.createElement("path",{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"}),"PowerSettingsNew");jn.default=Dg});var Xs=D(Un=>{"use strict";var Eg=ue(),qg=de();Object.defineProperty(Un,"__esModule",{value:!0});Un.default=void 0;var Lg=qg(E()),zg=Eg(fe()),jg=(0,zg.default)(Lg.createElement("path",{d:"M19 13H5v-2h14v2z"}),"Remove");Un.default=jg});var Gs=D(Kn=>{"use strict";var Hg=ue(),Ug=de();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.default=void 0;var Kg=Ug(E()),$g=Hg(fe()),Vg=(0,$g.default)(Kg.createElement("path",{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9zm20 2l2-2c-1.64-1.64-3.55-2.82-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75zm-4 4l2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97zM5 13l2 2c1.13-1.13 2.56-1.79 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88z"}),"NetworkCheck");Kn.default=Vg});var el=D(Vn=>{"use strict";var Gg=ue(),Qg=de();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.default=void 0;var Wg=Qg(E()),Yg=Gg(fe()),Jg=(0,Yg.default)(Wg.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");Vn.default=Jg});var tl=D(Xn=>{"use strict";var Zg=ue(),em=de();Object.defineProperty(Xn,"__esModule",{value:!0});Xn.default=void 0;var tm=em(E()),rm=Zg(fe()),nm=(0,rm.default)(tm.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");Xn.default=nm});var rl=D(Gn=>{"use strict";var om=ue(),im=de();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.default=void 0;var am=im(E()),sm=om(fe()),lm=(0,sm.default)(am.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");Gn.default=lm});var Ai=D(Qn=>{"use strict";var cm=ue(),um=de();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.default=void 0;var dm=um(E()),fm=cm(fe()),pm=(0,fm.default)(dm.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"}),"RestorePage");Qn.default=pm});var nl=D(Wn=>{"use strict";var gm=ue(),mm=de();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.default=void 0;var hm=mm(E()),ym=gm(fe()),vm=(0,ym.default)(hm.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}),"Language");Wn.default=vm});var gl=D(Yn=>{"use strict";var Sm=ue(),Bm=de();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.default=void 0;var wm=Bm(E()),xm=Sm(fe()),_m=(0,xm.default)(wm.createElement("path",{d:"M21 21.78L4.22 5 3 6.22l2.04 2.04C4.42 8.6 4 9.25 4 10v10c0 1.1.9 2 2 2h12c.23 0 .45-.05.66-.12L19.78 23 21 21.78zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H9.66L20 18.34V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5-2.56 0-4.64 1.93-4.94 4.4L8.9 7.24V6z"}),"NoEncryption");Yn.default=_m});var Ol=D(Jn=>{"use strict";var Pm=ue(),Rm=de();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.default=void 0;var Om=Rm(E()),Im=Pm(fe()),Mm=(0,Im.default)(Om.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");Jn.default=Mm});var Il=D(Zn=>{"use strict";var Dm=ue(),Tm=de();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.default=void 0;var Am=Tm(E()),Fm=Dm(fe()),Em=(0,Fm.default)(Am.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");Zn.default=Em});var Ml=D(eo=>{"use strict";var qm=ue(),Lm=de();Object.defineProperty(eo,"__esModule",{value:!0});eo.default=void 0;var zm=Lm(E()),jm=qm(fe()),Hm=(0,jm.default)(zm.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");eo.default=Hm});var Dl=D(to=>{"use strict";var Um=ue(),Km=de();Object.defineProperty(to,"__esModule",{value:!0});to.default=void 0;var $m=Km(E()),Vm=Um(fe()),Xm=(0,Vm.default)($m.createElement("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"}),"Autorenew");to.default=Xm});var Ll=D(ro=>{"use strict";var Qm=ue(),Wm=de();Object.defineProperty(ro,"__esModule",{value:!0});ro.default=void 0;var Ym=Wm(E()),Jm=Qm(fe()),Zm=(0,Jm.default)(Ym.createElement("path",{d:"M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"}),"Memory");ro.default=Zm});var zl=D(no=>{"use strict";var e1=ue(),t1=de();Object.defineProperty(no,"__esModule",{value:!0});no.default=void 0;var r1=t1(E()),n1=e1(fe()),o1=(0,n1.default)(r1.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");no.default=o1});var jl=D(oo=>{"use strict";var i1=ue(),a1=de();Object.defineProperty(oo,"__esModule",{value:!0});oo.default=void 0;var s1=a1(E()),l1=i1(fe()),c1=(0,l1.default)(s1.createElement("path",{d:"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");oo.default=c1});var _c=D(so=>{"use strict";var k1=ue(),S1=de();Object.defineProperty(so,"__esModule",{value:!0});so.default=void 0;var ao=S1(E()),B1=k1(fe()),w1=(0,B1.default)(ao.createElement(ao.Fragment,null,ao.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),ao.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");so.default=w1});var Cc=D(lo=>{"use strict";var x1=ue(),_1=de();Object.defineProperty(lo,"__esModule",{value:!0});lo.default=void 0;var C1=_1(E()),N1=x1(fe()),P1=(0,N1.default)(C1.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");lo.default=P1});var gd=D(zo=>{"use strict";var $0=ue(),V0=de();Object.defineProperty(zo,"__esModule",{value:!0});zo.default=void 0;var X0=V0(E()),G0=$0(fe()),Q0=(0,G0.default)(X0.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");zo.default=Q0});var md=D(jo=>{"use strict";var W0=ue(),Y0=de();Object.defineProperty(jo,"__esModule",{value:!0});jo.default=void 0;var J0=Y0(E()),Z0=W0(fe()),e2=(0,Z0.default)(J0.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");jo.default=e2});var Td=D(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0})});var Fd=D(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0})});var qd=D(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0})});var Ld=D(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.getErrorMessage=void 0;function a2(e,t){return e instanceof Error?t&&e.stack?e.stack:e.message:String(e)}Ko.getErrorMessage=a2});var zd=D(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.staticExtends=st.AllOf=st.applyMixin=st.Mixin=void 0;function s2(e){return function(t){for(let r of e)ka(t,r)}}st.Mixin=s2;function ka(e,t,r=!1){var o;let n=[t];for(;;){let i=n[0],a=Object.getPrototypeOf(i);if(a!=null&&a.prototype)n.unshift(a);else break}for(let i of n)for(let a of Object.getOwnPropertyNames(i.prototype))(r||a!=="constructor")&&Object.defineProperty(e.prototype,a,(o=Object.getOwnPropertyDescriptor(i.prototype,a))!=null?o:Object.create(null))}st.applyMixin=ka;function l2(...e){let[t,...r]=e,n=class extends t{};for(let o of r)ka(n,o);return n}st.AllOf=l2;function c2(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}st.staticExtends=c2});var Hd=D($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.ObjectKeyMap=void 0;var jd=bs(),Sa=class{constructor(t,r){if(this._map=new Map,t!=null&&t.length)for(let[n,o]of t)this.set(n,o);this.defaultKeyProps=r}has(t){return this._map.has(this.keyToString(t))}get(t){return this._map.get(this.keyToString(t))}set(t,r){this._map.set(this.keyToString(t),r)}delete(t){return this._map.delete(this.keyToString(t))}clear(){this._map.clear()}get size(){return this._map.size}forEach(t){this._map.forEach((r,n)=>{t(r,JSON.parse(n),this)})}entries(){let t=this._map;return function*(){let r=t.entries(),n=r.next();for(;!n.done;)yield[JSON.parse(n.value[0]),n.value[1]],n=r.next()}()}[Symbol.iterator](){return this.entries()}keys(){let t=this._map;return function*(){let r=t.entries(),n=r.next();for(;!n.done;)yield JSON.parse(n.value[0]),n=r.next()}()}values(){return this._map.values()}keyToString(t){let r={...t};if(this.defaultKeyProps)for(let[o,i]of Object.entries(this.defaultKeyProps))o in r||(r[o]=i);let n=(0,jd.composeObject)((0,jd.entries)(r).filter(([,o])=>o!=null).sort(([o],[i])=>o>i?1:o<i?-1:0));return JSON.stringify(n)}};$o.ObjectKeyMap=Sa});var Ba=D(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.compareStrings=Be.isPrintableASCIIWithNewlines=Be.isPrintableASCII=Be.buffer2hex=Be.stringify=Be.formatId=Be.num2hex=Be.cpp2js=void 0;var u2=Ot();function d2(e){let t=e.indexOf("\0");return t===-1?e:e.substr(0,t)}Be.cpp2js=d2;function f2(e,t=!1){if(e==null)return"undefined";let r=e.toString(16);return t&&(r=r.toUpperCase()),r.length%2!==0&&(r="0"+r),"0x"+r}Be.num2hex=f2;function p2(e){return e=typeof e=="number"?e.toString(16):e,"0x"+(0,u2.padStart)(e,4,"0").toLowerCase()}Be.formatId=p2;function g2(e,t=4){return JSON.stringify(e,null,t)}Be.stringify=g2;function m2(e,t=!1){if(e.length===0)return"(empty)";let r=e.toString("hex");return t&&(r=r.toUpperCase()),"0x"+r}Be.buffer2hex=m2;function Ud(e){return/^[\u0020-\u007e]*$/.test(e)}Be.isPrintableASCII=Ud;function h2(e){return e=e.replace(/^[\r\n]*/g,"").replace(/[\r\n]*/g,""),Ud(e)}Be.isPrintableASCIIWithNewlines=h2;function y2(e,t){return e>t?1:t>e?-1:0}Be.compareStrings=y2});var Kd=D(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.createThrowingMap=void 0;function v2(e){let t=new Map;return t.getOrThrow=function(r){if(!this.has(r))if(typeof e=="function")e(r);else throw new Error(`Tried to access non-existent key ${String(r)}`);return this.get(r)}.bind(t),t}Vo.createThrowingMap=v2});var $d=D(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.createDeferredPromise=void 0;function b2(){let e,t,r=new Promise((n,o)=>{e=n,t=o});return r.resolve=e,r.reject=t,r}Xo.createDeferredPromise=b2});var Vd=D(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.TimedExpectation=void 0;var k2=$d(),cn=class{constructor(t,r,n="Expectation was not fulfilled within the timeout"){this.predicate=r,this.timeoutErrorMessage=n,this._done=!1,this.promise=(0,k2.createDeferredPromise)(),this.timeout=setTimeout(()=>this.reject(),t);let o={message:""};Error.captureStackTrace(o,cn),this.stack=o.stack.replace(/^Error:?\s*\n/,"")}resolve(t){this._done||(this.timeout&&clearTimeout(this.timeout),this.promise.resolve(t))}reject(){if(this._done)return;this.timeout&&clearTimeout(this.timeout);let t=new Error(this.timeoutErrorMessage);t.stack=this.stack,this.promise.reject(t)}then(t,r){return this.promise.then(t,r)}};Go.TimedExpectation=cn});var Gd=D(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0})});var Wd=D(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.sum=re.discreteLinearSearch=re.discreteBinarySearch=re.padVersion=re.cloneDeep=re.mergeDeep=re.throttle=re.skipBytes=re.getEnumMemberName=re.flatMap=re.pickDeep=re.pick=re.keysOf=void 0;var Qo=In(),S2=Ba();function B2(e){return Object.keys(e)}re.keysOf=B2;function w2(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}re.pick=w2;function x2(e,t){function r(n,o){if(!o.length)return n;if(!(0,Qo.isObject)(n)&&!(0,Qo.isArray)(n))return;let i=o.shift();return r(n[i],o)}return r(e,t.split("."))}re.pickDeep=x2;function _2(e,t){return e.map(t).reduce((n,o)=>[...n,...o],[])}re.flatMap=_2;function C2(e,t){return e[t]||`unknown (${(0,S2.num2hex)(t)})`}re.getEnumMemberName=C2;function N2(e,t){return Buffer.from(e.slice(t))}re.skipBytes=N2;function P2(e,t,r=!1){let n=0,o;return(...i)=>{let a=Date.now();if(a>=n+t)n=a,e(...i);else if(r){o&&clearTimeout(o);let s=n+t-a;o=setTimeout(()=>{n=a,e(...i)},s)}}}re.throttle=P2;function Qd(e,t,r){e=e||{};for(let[n,o]of Object.entries(t))n in e?o===void 0?r&&delete e[n]:typeof o=="object"?e[n]=Qd(e[n],o,r):(r||typeof e[n]=="undefined")&&(e[n]=o):o!==void 0&&(e[n]=o);return e}re.mergeDeep=Qd;function wa(e){if((0,Qo.isArray)(e))return e.map(t=>wa(t));if((0,Qo.isObject)(e)){let t={};for(let[r,n]of Object.entries(e))t[r]=wa(n);return t}else return e}re.cloneDeep=wa;function R2(e){return e.split(".").length===3?e:e+".0"}re.padVersion=R2;async function O2(e,t,r){let n=e,o=t;for(;n<o;){let i=n+Math.floor((o-n+1)/2);await r(i)?n=i:o=i-1}if(!(n===e&&!await r(n)))return n}re.discreteBinarySearch=O2;async function I2(e,t,r){for(let n=e;n<=t;n++)if(await r(n)){if(n===t)return t}else{if(n===e)break;return n-1}}re.discreteLinearSearch=I2;function M2(e){return e.reduce((t,r)=>t+r,0)}re.sum=M2});var Yd=D(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.createWrappingCounter=void 0;function D2(e){let t=()=>(t.value=t.value+1&e,t.value===0&&(t.value=1),t.value);return t.value=0,t}Wo.createWrappingCounter=D2});var or=D(Oe=>{"use strict";var T2=Oe&&Oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zt=Oe&&Oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&T2(t,e,r)};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ObjectKeyMap=void 0;zt(Ld(),Oe);zt(zd(),Oe);var A2=Hd();Object.defineProperty(Oe,"ObjectKeyMap",{enumerable:!0,get:function(){return A2.ObjectKeyMap}});zt(Ba(),Oe);zt(Kd(),Oe);zt(Vd(),Oe);zt(Gd(),Oe);zt(Wd(),Oe);zt(Yd(),Oe)});var xa=D(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.nonApplicationCCs=pe.managementCCs=pe.encapsulationCCs=pe.applicationCCs=pe.sensorCCs=pe.actuatorCCs=pe.allCCs=pe.getCCName=pe.CommandClasses=void 0;var F2=or(),C;(function(e){e[e["Alarm Sensor"]=156]="Alarm Sensor",e[e["Alarm Silence"]=157]="Alarm Silence",e[e["All Switch"]=39]="All Switch",e[e["Anti-Theft"]=93]="Anti-Theft",e[e["Anti-Theft Unlock"]=126]="Anti-Theft Unlock",e[e["Application Capability"]=87]="Application Capability",e[e["Application Status"]=34]="Application Status",e[e.Association=133]="Association",e[e["Association Command Configuration"]=155]="Association Command Configuration",e[e["Association Group Information"]=89]="Association Group Information",e[e.Authentication=161]="Authentication",e[e["Authentication Media Write"]=162]="Authentication Media Write",e[e["Barrier Operator"]=102]="Barrier Operator",e[e.Basic=32]="Basic",e[e["Basic Tariff Information"]=54]="Basic Tariff Information",e[e["Basic Window Covering"]=80]="Basic Window Covering",e[e.Battery=128]="Battery",e[e["Binary Sensor"]=48]="Binary Sensor",e[e["Binary Switch"]=37]="Binary Switch",e[e["Binary Toggle Switch"]=40]="Binary Toggle Switch",e[e["Climate Control Schedule"]=70]="Climate Control Schedule",e[e["Central Scene"]=91]="Central Scene",e[e.Clock=129]="Clock",e[e["Color Switch"]=51]="Color Switch",e[e.Configuration=112]="Configuration",e[e["Controller Replication"]=33]="Controller Replication",e[e["CRC-16 Encapsulation"]=86]="CRC-16 Encapsulation",e[e["Demand Control Plan Configuration"]=58]="Demand Control Plan Configuration",e[e["Demand Control Plan Monitor"]=59]="Demand Control Plan Monitor",e[e["Device Reset Locally"]=90]="Device Reset Locally",e[e["Door Lock"]=98]="Door Lock",e[e["Door Lock Logging"]=76]="Door Lock Logging",e[e["Energy Production"]=144]="Energy Production",e[e["Entry Control"]=111]="Entry Control",e[e["Firmware Update Meta Data"]=122]="Firmware Update Meta Data",e[e["Generic Schedule"]=163]="Generic Schedule",e[e["Geographic Location"]=140]="Geographic Location",e[e["Grouping Name"]=123]="Grouping Name",e[e.Hail=130]="Hail",e[e["HRV Status"]=55]="HRV Status",e[e["HRV Control"]=57]="HRV Control",e[e["Humidity Control Mode"]=109]="Humidity Control Mode",e[e["Humidity Control Operating State"]=110]="Humidity Control Operating State",e[e["Humidity Control Setpoint"]=100]="Humidity Control Setpoint",e[e["Inclusion Controller"]=116]="Inclusion Controller",e[e.Indicator=135]="Indicator",e[e["IP Association"]=92]="IP Association",e[e["IP Configuration"]=154]="IP Configuration",e[e["IR Repeater"]=160]="IR Repeater",e[e.Irrigation=107]="Irrigation",e[e.Language=137]="Language",e[e.Lock=118]="Lock",e[e.Mailbox=105]="Mailbox",e[e["Manufacturer Proprietary"]=145]="Manufacturer Proprietary",e[e["Manufacturer Specific"]=114]="Manufacturer Specific",e[e["Support/Control Mark"]=239]="Support/Control Mark",e[e.Meter=50]="Meter",e[e["Meter Table Configuration"]=60]="Meter Table Configuration",e[e["Meter Table Monitor"]=61]="Meter Table Monitor",e[e["Meter Table Push Configuration"]=62]="Meter Table Push Configuration",e[e["Move To Position Window Covering"]=81]="Move To Position Window Covering",e[e["Multi Channel"]=96]="Multi Channel",e[e["Multi Channel Association"]=142]="Multi Channel Association",e[e["Multi Command"]=143]="Multi Command",e[e["Multilevel Sensor"]=49]="Multilevel Sensor",e[e["Multilevel Switch"]=38]="Multilevel Switch",e[e["Multilevel Toggle Switch"]=41]="Multilevel Toggle Switch",e[e["Network Management Basic Node"]=77]="Network Management Basic Node",e[e["Network Management Inclusion"]=52]="Network Management Inclusion",e[e["Network Management Installation and Maintenance"]=103]="Network Management Installation and Maintenance",e[e["Network Management Primary"]=84]="Network Management Primary",e[e["Network Management Proxy"]=82]="Network Management Proxy",e[e["No Operation"]=0]="No Operation",e[e["Node Naming and Location"]=119]="Node Naming and Location",e[e["Node Provisioning"]=120]="Node Provisioning",e[e.Notification=113]="Notification",e[e.Powerlevel=115]="Powerlevel",e[e.Prepayment=63]="Prepayment",e[e["Prepayment Encapsulation"]=65]="Prepayment Encapsulation",e[e.Proprietary=136]="Proprietary",e[e.Protection=117]="Protection",e[e["Pulse Meter"]=53]="Pulse Meter",e[e["Rate Table Configuration"]=72]="Rate Table Configuration",e[e["Rate Table Monitor"]=73]="Rate Table Monitor",e[e["Remote Association Activation"]=124]="Remote Association Activation",e[e["Remote Association Configuration"]=125]="Remote Association Configuration",e[e["Scene Activation"]=43]="Scene Activation",e[e["Scene Actuator Configuration"]=44]="Scene Actuator Configuration",e[e["Scene Controller Configuration"]=45]="Scene Controller Configuration",e[e.Schedule=83]="Schedule",e[e["Schedule Entry Lock"]=78]="Schedule Entry Lock",e[e["Screen Attributes"]=147]="Screen Attributes",e[e["Screen Meta Data"]=146]="Screen Meta Data",e[e.Security=152]="Security",e[e["Security 2"]=159]="Security 2",e[e["Security Mark"]=61696]="Security Mark",e[e["Sensor Configuration"]=158]="Sensor Configuration",e[e["Simple AV Control"]=148]="Simple AV Control",e[e["Sound Switch"]=121]="Sound Switch",e[e.Supervision=108]="Supervision",e[e["Tariff Table Configuration"]=74]="Tariff Table Configuration",e[e["Tariff Table Monitor"]=75]="Tariff Table Monitor",e[e["Thermostat Fan Mode"]=68]="Thermostat Fan Mode",e[e["Thermostat Fan State"]=69]="Thermostat Fan State",e[e["Thermostat Mode"]=64]="Thermostat Mode",e[e["Thermostat Operating State"]=66]="Thermostat Operating State",e[e["Thermostat Setback"]=71]="Thermostat Setback",e[e["Thermostat Setpoint"]=67]="Thermostat Setpoint",e[e.Time=138]="Time",e[e["Time Parameters"]=139]="Time Parameters",e[e["Transport Service"]=85]="Transport Service",e[e["User Code"]=99]="User Code",e[e.Version=134]="Version",e[e["Wake Up"]=132]="Wake Up",e[e["Window Covering"]=106]="Window Covering",e[e["Z/IP"]=35]="Z/IP",e[e["Z/IP 6LoWPAN"]=79]="Z/IP 6LoWPAN",e[e["Z/IP Gateway"]=95]="Z/IP Gateway",e[e["Z/IP Naming and Location"]=104]="Z/IP Naming and Location",e[e["Z/IP ND"]=88]="Z/IP ND",e[e["Z/IP Portal"]=97]="Z/IP Portal",e[e["Z-Wave Plus Info"]=94]="Z-Wave Plus Info",e[e["Z-Wave Protocol"]=1]="Z-Wave Protocol"})(C=pe.CommandClasses||(pe.CommandClasses={}));function E2(e){return(0,F2.getEnumMemberName)(C,e)}pe.getCCName=E2;pe.allCCs=Object.freeze(Object.keys(C).filter(e=>/^\d+$/.test(e)).map(e=>parseInt(e)).filter(e=>e>=0&&e!==C["Z-Wave Protocol"]));pe.actuatorCCs=[C["Barrier Operator"],C["Binary Switch"],C["Color Switch"],C["Door Lock"],C["Multilevel Switch"],C["Simple AV Control"],C["Sound Switch"],C["Thermostat Setpoint"],C["Thermostat Mode"],C["Window Covering"]];pe.sensorCCs=[C["Alarm Sensor"],C.Battery,C["Binary Sensor"],C["Energy Production"],C.Meter,C["Multilevel Sensor"],C.Notification,C["Pulse Meter"]];pe.applicationCCs=[C["Alarm Sensor"],C["Alarm Silence"],C["All Switch"],C["Anti-Theft"],C["Barrier Operator"],C.Basic,C["Basic Tariff Information"],C["Basic Window Covering"],C["Binary Sensor"],C["Binary Switch"],C["Binary Toggle Switch"],C["Climate Control Schedule"],C["Central Scene"],C.Clock,C["Color Switch"],C.Configuration,C["Controller Replication"],C["Demand Control Plan Configuration"],C["Demand Control Plan Monitor"],C["Door Lock"],C["Door Lock Logging"],C["Energy Production"],C["Entry Control"],C["Generic Schedule"],C["Geographic Location"],C["HRV Status"],C["HRV Control"],C["Humidity Control Mode"],C["Humidity Control Operating State"],C["Humidity Control Setpoint"],C["IR Repeater"],C.Irrigation,C.Language,C.Lock,C["Manufacturer Proprietary"],C.Meter,C["Meter Table Configuration"],C["Meter Table Monitor"],C["Meter Table Push Configuration"],C["Move To Position Window Covering"],C["Multilevel Sensor"],C["Multilevel Switch"],C["Multilevel Toggle Switch"],C.Notification,C.Prepayment,C["Prepayment Encapsulation"],C.Proprietary,C.Protection,C["Pulse Meter"],C["Rate Table Configuration"],C["Rate Table Monitor"],C["Scene Activation"],C["Scene Actuator Configuration"],C["Scene Controller Configuration"],C.Schedule,C["Schedule Entry Lock"],C["Screen Attributes"],C["Screen Meta Data"],C["Sensor Configuration"],C["Simple AV Control"],C["Sound Switch"],C["Tariff Table Configuration"],C["Tariff Table Monitor"],C["Thermostat Fan Mode"],C["Thermostat Fan State"],C["Thermostat Mode"],C["Thermostat Operating State"],C["Thermostat Setback"],C["Thermostat Setpoint"],C["User Code"],C["Window Covering"]];pe.encapsulationCCs=[C["CRC-16 Encapsulation"],C["Multi Channel"],C["Multi Command"],C.Security,C["Security 2"],C["Transport Service"]];pe.managementCCs=[C["Application Capability"],C["Application Status"],C.Association,C["Association Command Configuration"],C["Association Group Information"],C["Device Reset Locally"],C["Firmware Update Meta Data"],C["Grouping Name"],C.Hail,C.Indicator,C["IP Association"],C["Manufacturer Specific"],C["Multi Channel Association"],C["Node Naming and Location"],C["Remote Association Activation"],C["Remote Association Configuration"],C.Time,C["Time Parameters"],C.Version,C["Wake Up"],C["Z/IP Naming and Location"],C["Z-Wave Plus Info"]];pe.nonApplicationCCs=Object.freeze(pe.allCCs.filter(e=>!pe.applicationCCs.includes(e)))});var Jd=D(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.ControllerCapabilityFlags=void 0;var q2;(function(e){e[e.Secondary=1]="Secondary",e[e.OnOtherNetwork=2]="OnOtherNetwork",e[e.SISPresent=4]="SISPresent",e[e.WasRealPrimary=8]="WasRealPrimary",e[e.SUC=16]="SUC",e[e.NoNodesIncluded=32]="NoNodesIncluded"})(q2=un.ControllerCapabilityFlags||(un.ControllerCapabilityFlags={}))});var Zd=D(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.ZWaveLibraryTypes=void 0;var L2;(function(e){e[e.Unknown=0]="Unknown",e[e["Static Controller"]=1]="Static Controller",e[e.Controller=2]="Controller",e[e["Enhanced Slave"]=3]="Enhanced Slave",e[e.Slave=4]="Slave",e[e.Installer=5]="Installer",e[e["Routing Slave"]=6]="Routing Slave",e[e["Bridge Controller"]=7]="Bridge Controller",e[e["Device under Test"]=8]="Device under Test",e[e["N/A"]=9]="N/A",e[e["AV Remote"]=10]="AV Remote",e[e["AV Device"]=11]="AV Device"})(L2=dn.ZWaveLibraryTypes||(dn.ZWaveLibraryTypes={}))});var xr=D(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.isRecoverableZWaveError=Ae.isTransmissionError=Ae.isZWaveError=Ae.ZWaveError=Ae.getErrorSuffix=Ae.ZWaveErrorCodes=void 0;var z2=Ot(),Bt;(function(e){e[e.PacketFormat_Truncated=0]="PacketFormat_Truncated",e[e.PacketFormat_Invalid=1]="PacketFormat_Invalid",e[e.PacketFormat_Checksum=2]="PacketFormat_Checksum",e[e.PacketFormat_InvalidPayload=3]="PacketFormat_InvalidPayload",e[e.PacketFormat_DecryptionFailed=4]="PacketFormat_DecryptionFailed",e[e.Driver_Failed=100]="Driver_Failed",e[e.Driver_Reset=101]="Driver_Reset",e[e.Driver_Destroyed=102]="Driver_Destroyed",e[e.Driver_NotReady=103]="Driver_NotReady",e[e.Driver_InvalidDataReceived=104]="Driver_InvalidDataReceived",e[e.Driver_NotSupported=105]="Driver_NotSupported",e[e.Driver_NoPriority=106]="Driver_NoPriority",e[e.Driver_InvalidCache=107]="Driver_InvalidCache",e[e.Driver_InvalidOptions=108]="Driver_InvalidOptions",e[e.Driver_NoSecurity=109]="Driver_NoSecurity",e[e.Driver_NoErrorHandler=110]="Driver_NoErrorHandler",e[e.Driver_FeatureDisabled=111]="Driver_FeatureDisabled",e[e.Controller_Timeout=200]="Controller_Timeout",e[e.Controller_NodeTimeout=201]="Controller_NodeTimeout",e[e.Controller_MessageDropped=202]="Controller_MessageDropped",e[e.Controller_ResponseNOK=203]="Controller_ResponseNOK",e[e.Controller_CallbackNOK=204]="Controller_CallbackNOK",e[e.Controller_InclusionFailed=205]="Controller_InclusionFailed",e[e.Controller_ExclusionFailed=206]="Controller_ExclusionFailed",e[e.Controller_NotSupported=207]="Controller_NotSupported",e[e.Controller_InterviewRestarted=208]="Controller_InterviewRestarted",e[e.Controller_NodeNotFound=209]="Controller_NodeNotFound",e[e.Controller_EndpointNotFound=210]="Controller_EndpointNotFound",e[e.Controller_NodeRemoved=211]="Controller_NodeRemoved",e[e.Controller_NodeInsecureCommunication=212]="Controller_NodeInsecureCommunication",e[e.Controller_MessageExpired=213]="Controller_MessageExpired",e[e.Controller_CommandError=214]="Controller_CommandError",e[e.FWUpdateService_MissingInformation=260]="FWUpdateService_MissingInformation",e[e.FWUpdateService_RequestError=261]="FWUpdateService_RequestError",e[e.FWUpdateService_IntegrityCheckFailed=262]="FWUpdateService_IntegrityCheckFailed",e[e.NVM_NotSupported=280]="NVM_NotSupported",e[e.NVM_InvalidJSON=281]="NVM_InvalidJSON",e[e.NVM_ObjectNotFound=282]="NVM_ObjectNotFound",e[e.NVM_InvalidFormat=283]="NVM_InvalidFormat",e[e.NVM_NoSpace=284]="NVM_NoSpace",e[e.CC_Invalid=300]="CC_Invalid",e[e.CC_NoNodeID=301]="CC_NoNodeID",e[e.CC_NotSupported=302]="CC_NotSupported",e[e.CC_NotImplemented=303]="CC_NotImplemented",e[e.CC_NoAPI=304]="CC_NoAPI",e[e.Deserialization_NotImplemented=320]="Deserialization_NotImplemented",e[e.Arithmetic=321]="Arithmetic",e[e.Argument_Invalid=322]="Argument_Invalid",e[e.Config_Invalid=340]="Config_Invalid",e[e.Config_NotFound=341]="Config_NotFound",e[e.Config_CircularImport=342]="Config_CircularImport",e[e.Config_Update_RegistryError=343]="Config_Update_RegistryError",e[e.Config_Update_PackageManagerNotFound=344]="Config_Update_PackageManagerNotFound",e[e.Config_Update_InstallFailed=345]="Config_Update_InstallFailed",e[e.RemoveFailedNode_Failed=360]="RemoveFailedNode_Failed",e[e.RemoveFailedNode_NodeOK=361]="RemoveFailedNode_NodeOK",e[e.ReplaceFailedNode_Failed=362]="ReplaceFailedNode_Failed",e[e.ReplaceFailedNode_NodeOK=363]="ReplaceFailedNode_NodeOK",e[e.ConfigurationCC_FirstParameterNumber=1e3]="ConfigurationCC_FirstParameterNumber",e[e.ConfigurationCC_NoLegacyScanOnNewDevices=1001]="ConfigurationCC_NoLegacyScanOnNewDevices",e[e.ConfigurationCC_NoResetToDefaultOnLegacyDevices=1002]="ConfigurationCC_NoResetToDefaultOnLegacyDevices",e[e.SupervisionCC_CommandFailed=1100]="SupervisionCC_CommandFailed",e[e.ManufacturerProprietaryCC_NoManufacturerId=1200]="ManufacturerProprietaryCC_NoManufacturerId",e[e.AssociationCC_InvalidGroup=1300]="AssociationCC_InvalidGroup",e[e.AssociationCC_NotAllowed=1301]="AssociationCC_NotAllowed",e[e.SecurityCC_NoNonce=1400]="SecurityCC_NoNonce",e[e.Security2CC_NoSPAN=1401]="Security2CC_NoSPAN",e[e.Security2CC_NotInitialized=1402]="Security2CC_NotInitialized",e[e.Security2CC_NotSecure=1403]="Security2CC_NotSecure",e[e.Security2CC_MissingExtension=1404]="Security2CC_MissingExtension",e[e.Security2CC_CannotDecode=1405]="Security2CC_CannotDecode",e[e.Security2CC_InvalidQRCode=1406]="Security2CC_InvalidQRCode",e[e.FirmwareUpdateCC_Busy=1500]="FirmwareUpdateCC_Busy",e[e.FirmwareUpdateCC_NotUpgradable=1501]="FirmwareUpdateCC_NotUpgradable",e[e.FirmwareUpdateCC_TargetNotFound=1502]="FirmwareUpdateCC_TargetNotFound",e[e.FirmwareUpdateCC_FailedToStart=1503]="FirmwareUpdateCC_FailedToStart",e[e.FirmwareUpdateCC_FailedToAbort=1504]="FirmwareUpdateCC_FailedToAbort",e[e.FirmwareUpdateCC_Timeout=1505]="FirmwareUpdateCC_Timeout",e[e.Invalid_Firmware_File=1506]="Invalid_Firmware_File",e[e.Unsupported_Firmware_Format=1507]="Unsupported_Firmware_Format",e[e.PowerlevelCC_UnsupportedTestNode=1600]="PowerlevelCC_UnsupportedTestNode"})(Bt=Ae.ZWaveErrorCodes||(Ae.ZWaveErrorCodes={}));function ef(e){return`ZW${(0,z2.padStart)(e.toString(),4,"0")}`}Ae.getErrorSuffix=ef;function j2(e,t){let r=` (${ef(t)})`;return e.endsWith(r)||(e+=r),e}var fn=class extends Error{constructor(t,r,n,o){super(),this.message=t,this.code=r,this.context=n,this.transactionSource=o,this.message=j2(t,r),Object.setPrototypeOf(this,fn.prototype),Object.getPrototypeOf(this).name="ZWaveError",typeof o=="string"&&(this.stack=`ZWaveError: ${this.message}
${o}`)}};Ae.ZWaveError=fn;function _a(e){return e instanceof Error&&Object.getPrototypeOf(e).name==="ZWaveError"}Ae.isZWaveError=_a;function H2(e){return _a(e)&&(e.code===Bt.Controller_Timeout||e.code===Bt.Controller_MessageDropped||e.code===Bt.Controller_CallbackNOK||e.code===Bt.Controller_ResponseNOK||e.code===Bt.Controller_NodeTimeout||e.code===Bt.Security2CC_CannotDecode)}Ae.isTransmissionError=H2;function U2(e){if(!_a(e))return!1;switch(e.code){case Bt.Controller_InterviewRestarted:case Bt.Controller_NodeRemoved:return!0}return!1}Ae.isRecoverableZWaveError=U2});var Yo=D(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getLegalRangeForBitMask=Ne.getBitMaskWidth=Ne.getMinimumShiftForBitMask=Ne.validatePayload=Ne.stripUndefined=Ne.isConsecutiveArray=void 0;var tf=xr();function K2(e){return e.every((t,r,n)=>r===0?!0:t-1===n[r-1])}Ne.isConsecutiveArray=K2;function $2(e){let t={};for(let[r,n]of Object.entries(e))n!==void 0&&(t[r]=n);return t}Ne.stripUndefined=$2;function rf(e,...t){if(!t.every(Boolean))throw new tf.ZWaveError("The message payload is invalid!",tf.ZWaveErrorCodes.PacketFormat_InvalidPayload,e)}Ne.validatePayload=rf.bind(void 0,void 0);Ne.validatePayload.withReason=e=>rf.bind(void 0,e);Ne.validatePayload.fail=e=>Ne.validatePayload.withReason(e)(!1);function nf(e){let t=0;for(;e%2===0&&(e>>>=1,e!==0);)t++;return t}Ne.getMinimumShiftForBitMask=nf;function of(e){e=e>>>nf(e);let t=0;for(;e>0;)e>>>=1,t++;return t}Ne.getBitMaskWidth=of;function V2(e,t){if(e===0)return[0,0];let r=of(e),n=t||r==1?0:-(2**(r-1)),o=t||r==1?2**r-1:2**(r-1)-1;return[n,o]}Ne.getLegalRangeForBitMask=V2});var gf=D(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.encodeNodeInformationFrame=G.parseNodeInformationFrame=G.encodeNodeProtocolInfoAndDeviceClass=G.parseNodeProtocolInfoAndDeviceClass=G.encodeNodeProtocolInfo=G.parseNodeProtocolInfo=G.NodeType=G.ProtocolVersion=G.encodeCCList=G.parseCCList=G.encodeCCId=G.parseCCId=G.isExtendedCCId=G.encodeNodeUpdatePayload=G.parseNodeUpdatePayload=G.parseApplicationNodeInformation=void 0;var af=or(),_r=Yo(),sf=xa();function lf(e){return(0,_r.validatePayload)(e.length>=2),{genericDeviceClass:e[0],specificDeviceClass:e[1],supportedCCs:Na(e.slice(2)).supportedCCs}}G.parseApplicationNodeInformation=lf;function X2(e){let t=e[0],r=e[1];return(0,_r.validatePayload)(e.length>=2+r),{nodeId:t,basicDeviceClass:e[2],...lf(e.slice(3,2+r))}}G.parseNodeUpdatePayload=X2;function G2(e){let t=Pa(e.supportedCCs,[]);return Buffer.concat([Buffer.from([e.nodeId,3+t.length,e.basicDeviceClass,e.genericDeviceClass,e.specificDeviceClass]),t])}G.encodeNodeUpdatePayload=G2;function pn(e){return e>=241}G.isExtendedCCId=pn;function cf(e,t=0){let r=pn(e[t]);return(0,_r.validatePayload)(e.length>=t+(r?2:1)),r?{ccId:e.readUInt16BE(t),bytesRead:2}:{ccId:e.readUInt8(t),bytesRead:1}}G.parseCCId=cf;function Ca(e,t,r=0){return pn(e)?(t.writeUInt16BE(e,r),2):(t.writeUInt8(e,r),1)}G.encodeCCId=Ca;function Na(e){let t={supportedCCs:[],controlledCCs:[]},r=0,n=!1;for(;r<e.length;){let{ccId:o,bytesRead:i}=cf(e,r);if(r+=i,o===sf.CommandClasses["Support/Control Mark"]){n=!0;continue}(n?t.controlledCCs:t.supportedCCs).push(o)}return t}G.parseCCList=Na;function Pa(e,t){let r=(0,af.sum)(e.map(i=>pn(i)?2:1))+(t.length>0?1:0)+(0,af.sum)(t.map(i=>pn(i)?2:1)),n=Buffer.allocUnsafe(r),o=0;for(let i of e)o+=Ca(i,n,o);if(t.length>0){n[o++]=sf.CommandClasses["Support/Control Mark"];for(let i of t)o+=Ca(i,n,o)}return n}G.encodeCCList=Pa;var Q2;(function(e){e[e.unknown=0]="unknown",e[e["2.0"]=1]="2.0",e[e["4.2x / 5.0x"]=2]="4.2x / 5.0x",e[e["4.5x / 6.0x"]=3]="4.5x / 6.0x"})(Q2=G.ProtocolVersion||(G.ProtocolVersion={}));var Jo;(function(e){e[e.Controller=0]="Controller",e[e["Routing End Node"]=1]="Routing End Node",e[e["End Node"]=1]="End Node"})(Jo=G.NodeType||(G.NodeType={}));function uf(e,t){(0,_r.validatePayload)(e.length>=t+3);let r=!!(e[t]&128),n=!!(e[t]&64),o=[],i=e[t]&24,a=e[t+2]&7;i&16&&o.push(4e4),i&8&&o.push(9600),a&1&&o.push(1e5),o.length===0&&o.push(9600);let s=e[t]&7,l=e[t+1],u=!!(l&128),f;switch(l&96){case 64:f="1000ms";break;case 32:f="250ms";break;default:f=!1}let d=!!(l&16),m;switch(l&10){case 8:m=Jo["End Node"];break;case 2:default:m=Jo.Controller;break}let h=!!(l&4),x=!!(l&1);return{isListening:r,isFrequentListening:f,isRouting:n,supportedDataRates:o,protocolVersion:s,optionalFunctionality:u,nodeType:m,supportsSecurity:x,supportsBeaming:d,hasSpecificDeviceClass:h}}G.parseNodeProtocolInfo=uf;function df(e){let t=Buffer.alloc(3,0);return e.isListening&&(t[0]|=128),e.isRouting&&(t[0]|=64),e.supportedDataRates.includes(4e4)&&(t[0]|=16),e.supportedDataRates.includes(9600)&&(t[0]|=8),e.supportedDataRates.includes(1e5)&&(t[2]|=1),t[0]|=e.protocolVersion&7,e.optionalFunctionality&&(t[1]|=128),e.isFrequentListening==="1000ms"?t[1]|=64:e.isFrequentListening==="250ms"&&(t[1]|=32),e.supportsBeaming&&(t[1]|=16),e.supportsSecurity&&(t[1]|=1),e.nodeType===Jo["End Node"]?t[1]|=8:t[1]|=2,e.hasSpecificDeviceClass&&(t[1]|=4),t}G.encodeNodeProtocolInfo=df;function ff(e){(0,_r.validatePayload)(e.length>=5);let t=uf(e,0),r=3,n=e[r++],o=e[r++],i=0;return t.hasSpecificDeviceClass&&((0,_r.validatePayload)(e.length>=r+1),i=e[r++]),{info:{...t,basicDeviceClass:n,genericDeviceClass:o,specificDeviceClass:i},bytesRead:r}}G.parseNodeProtocolInfoAndDeviceClass=ff;function pf(e){return Buffer.concat([df({...e,hasSpecificDeviceClass:!0}),Buffer.from([e.basicDeviceClass,e.genericDeviceClass,e.specificDeviceClass])])}G.encodeNodeProtocolInfoAndDeviceClass=pf;function W2(e){let{info:t,bytesRead:r}=ff(e),n=Na(e.slice(r)).supportedCCs;return{...t,supportedCCs:n}}G.parseNodeInformationFrame=W2;function Y2(e){return Buffer.concat([pf(e),Pa(e.supportedCCs,[])])}G.encodeNodeInformationFrame=Y2});var mf=D(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.ProtocolType=me.protocolDataRateMask=me.RouteProtocolDataRate=me.protocolDataRateToString=me.ProtocolDataRate=me.ZWaveDataRate=me.Protocols=void 0;var J2=or(),Z2;(function(e){e[e.ZWave=0]="ZWave",e[e.ZWaveLongRange=1]="ZWaveLongRange"})(Z2=me.Protocols||(me.Protocols={}));var ey;(function(e){e[e["9k6"]=1]="9k6",e[e["40k"]=2]="40k",e[e["100k"]=3]="100k"})(ey=me.ZWaveDataRate||(me.ZWaveDataRate={}));var gn;(function(e){e[e.ZWave_9k6=1]="ZWave_9k6",e[e.ZWave_40k=2]="ZWave_40k",e[e.ZWave_100k=3]="ZWave_100k",e[e.LongRange_100k=4]="LongRange_100k"})(gn=me.ProtocolDataRate||(me.ProtocolDataRate={}));function ty(e){switch(e){case gn.ZWave_9k6:return"Z-Wave, 9.6 kbit/s";case gn.ZWave_40k:return"Z-Wave, 40 kbit/s";case gn.ZWave_100k:return"Z-Wave, 100 kbit/s";case gn.LongRange_100k:return"Z-Wave Long Range, 100 kbit/s"}return`Unknown (${(0,J2.num2hex)(e)})`}me.protocolDataRateToString=ty;var ry;(function(e){e[e.Unspecified=0]="Unspecified",e[e.ZWave_9k6=1]="ZWave_9k6",e[e.ZWave_40k=2]="ZWave_40k",e[e.ZWave_100k=3]="ZWave_100k",e[e.LongRange_100k=4]="LongRange_100k"})(ry=me.RouteProtocolDataRate||(me.RouteProtocolDataRate={}));me.protocolDataRateMask=7;var ny;(function(e){e[e["Z-Wave"]=0]="Z-Wave",e[e["Z-Wave AV"]=1]="Z-Wave AV",e[e["Z-Wave for IP"]=2]="Z-Wave for IP"})(ny=me.ProtocolType||(me.ProtocolType={}))});var hf=D(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.RFRegion=void 0;var oy;(function(e){e[e.Europe=0]="Europe",e[e.USA=1]="USA",e[e["Australia/New Zealand"]=2]="Australia/New Zealand",e[e["Hong Kong"]=3]="Hong Kong",e[e.India=5]="India",e[e.Israel=6]="Israel",e[e.Russia=7]="Russia",e[e.China=8]="China",e[e["USA (Long Range)"]=9]="USA (Long Range)",e[e.Japan=32]="Japan",e[e.Korea=33]="Korea",e[e.Unknown=254]="Unknown",e[e["Default (EU)"]=255]="Default (EU)"})(oy=mn.RFRegion||(mn.RFRegion={}))});var vf=D(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0})});var bf=D(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.InterviewStage=void 0;var iy;(function(e){e[e.None=0]="None",e[e.ProtocolInfo=1]="ProtocolInfo",e[e.NodeInfo=2]="NodeInfo",e[e.CommandClasses=3]="CommandClasses",e[e.OverwriteConfig=4]="OverwriteConfig",e[e.Complete=5]="Complete"})(iy=hn.InterviewStage||(hn.InterviewStage={}))});var kf=D(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.NodeStatus=void 0;var ay;(function(e){e[e.Unknown=0]="Unknown",e[e.Asleep=1]="Asleep",e[e.Awake=2]="Awake",e[e.Dead=3]="Dead",e[e.Alive=4]="Alive"})(ay=yn.NodeStatus||(yn.NodeStatus={}))});var wf=D(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.isUnsupervisedOrSucceeded=W.supervisedCommandFailed=W.supervisedCommandSucceeded=W.isSupervisionResult=W.SupervisionStatus=W.EncapsulationFlags=W.rssiToString=W.isRssiError=W.RssiError=W.TransmitStatus=W.TransmitOptions=W.isMessagePriority=W.MessagePriority=void 0;var sy=In(),Sf;(function(e){e[e.Nonce=0]="Nonce",e[e.Controller=1]="Controller",e[e.MultistepController=2]="MultistepController",e[e.Supervision=3]="Supervision",e[e.Ping=4]="Ping",e[e.WakeUp=5]="WakeUp",e[e.Normal=6]="Normal",e[e.NodeQuery=7]="NodeQuery",e[e.Poll=8]="Poll"})(Sf=W.MessagePriority||(W.MessagePriority={}));function ly(e){return typeof e=="number"&&e in Sf}W.isMessagePriority=ly;var cy;(function(e){e[e.NotSet=0]="NotSet",e[e.ACK=1]="ACK",e[e.LowPower=2]="LowPower",e[e.AutoRoute=4]="AutoRoute",e[e.NoRoute=16]="NoRoute",e[e.Explore=32]="Explore",e[e.DEFAULT=37]="DEFAULT",e[e.DEFAULT_NOACK=36]="DEFAULT_NOACK"})(cy=W.TransmitOptions||(W.TransmitOptions={}));var uy;(function(e){e[e.OK=0]="OK",e[e.NoAck=1]="NoAck",e[e.Fail=2]="Fail",e[e.NotIdle=3]="NotIdle",e[e.NoRoute=4]="NoRoute"})(uy=W.TransmitStatus||(W.TransmitStatus={}));var vn;(function(e){e[e.NotAvailable=127]="NotAvailable",e[e.ReceiverSaturated=126]="ReceiverSaturated",e[e.NoSignalDetected=125]="NoSignalDetected"})(vn=W.RssiError||(W.RssiError={}));function dy(e){return e>=vn.NoSignalDetected}W.isRssiError=dy;function fy(e){switch(e){case vn.NotAvailable:return"N/A";case vn.ReceiverSaturated:return"Receiver saturated";case vn.NoSignalDetected:return"No signal detected";default:return`${e} dBm`}}W.rssiToString=fy;var py;(function(e){e[e.None=0]="None",e[e.Supervision=1]="Supervision",e[e.Security=2]="Security",e[e.CRC16=4]="CRC16"})(py=W.EncapsulationFlags||(W.EncapsulationFlags={}));var Cr;(function(e){e[e.NoSupport=0]="NoSupport",e[e.Working=1]="Working",e[e.Fail=2]="Fail",e[e.Success=255]="Success"})(Cr=W.SupervisionStatus||(W.SupervisionStatus={}));function Ra(e){return(0,sy.isObject)(e)&&"status"in e&&typeof Cr[e.status]=="string"}W.isSupervisionResult=Ra;function Bf(e){return Ra(e)&&(e.status===Cr.Success||e.status===Cr.Working)}W.supervisedCommandSucceeded=Bf;function gy(e){return Ra(e)&&(e.status===Cr.Fail||e.status===Cr.NoSupport)}W.supervisedCommandFailed=gy;function my(e){return!e||Bf(e)}W.isUnsupervisedOrSucceeded=my});var xf=D(oe=>{"use strict";var hy=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yy=oe&&oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hy(t,e,r)};Object.defineProperty(oe,"__esModule",{value:!0});oe.MAX_SUPERVISION_SESSION_ID=oe.NodeStatus=oe.InterviewStage=oe.MAX_REPEATERS=oe.HOMEID_BYTES=oe.NUM_NODEMASK_BYTES=oe.NODE_ID_MAX=oe.NODE_ID_BROADCAST=oe.MAX_NODES=void 0;oe.MAX_NODES=232;oe.NODE_ID_BROADCAST=255;oe.NODE_ID_MAX=oe.MAX_NODES;oe.NUM_NODEMASK_BYTES=oe.MAX_NODES/8;oe.HOMEID_BYTES=4;oe.MAX_REPEATERS=4;var vy=bf();Object.defineProperty(oe,"InterviewStage",{enumerable:!0,get:function(){return vy.InterviewStage}});var by=kf();Object.defineProperty(oe,"NodeStatus",{enumerable:!0,get:function(){return by.NodeStatus}});yy(wf(),oe);oe.MAX_SUPERVISION_SESSION_ID=63});var _f=D(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.stringToNodeList=ce.getNodeTag=ce.LOG_PREFIX_WIDTH=ce.LOG_WIDTH=ce.directionPrefixPadding=ce.CONTROL_CHAR_WIDTH=ce.getDirectionPrefix=ce.channelPadding=ce.timestampPadding=ce.timestampPaddingShort=ce.timestampFormatShort=void 0;var ky=Ot();ce.timestampFormatShort="HH:mm:ss.SSS";ce.timestampPaddingShort=" ".repeat(ce.timestampFormatShort.length+1);ce.timestampPadding=" ".repeat(new Date().toISOString().length+1);ce.channelPadding=" ".repeat(7);function Sy(e){return e==="inbound"?"\xAB ":e==="outbound"?"\xBB ":"  "}ce.getDirectionPrefix=Sy;ce.CONTROL_CHAR_WIDTH=2;ce.directionPrefixPadding=" ".repeat(ce.CONTROL_CHAR_WIDTH);ce.LOG_WIDTH=80;ce.LOG_PREFIX_WIDTH=20;function By(e){return"Node "+(0,ky.padStart)(e.toString(),3,"0")}ce.getNodeTag=By;function wy(e){if(!!e)return e.split(",").map(t=>parseInt(t)).filter(t=>!Number.isNaN(t))}ce.stringToNodeList=wy});var Nf=D(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.authHomeIdFromDSK=Xe.nwiHomeIdFromDSK=Xe.dskFromString=Xe.dskToString=Xe.isValidDSK=void 0;var xy=Ot(),Zo=xr();function Cf(e){return/^(\d{5}-){7}\d{5}$/.test(e)}Xe.isValidDSK=Cf;function _y(e){if(e.length!==16)throw new Zo.ZWaveError(`DSK length must be 16 bytes, got ${e.length}`,Zo.ZWaveErrorCodes.Argument_Invalid);let t="";for(let r=0;r<16;r+=2)r>0&&(t+="-"),t+=(0,xy.padStart)(e.readUInt16BE(r).toString(10),5,"0");return t}Xe.dskToString=_y;function Cy(e){if(!Cf(e))throw new Zo.ZWaveError('The DSK must be in the form "aaaaa-bbbbb-ccccc-ddddd-eeeee-fffff-11111-22222"',Zo.ZWaveErrorCodes.Argument_Invalid);let t=Buffer.allocUnsafe(16),r=e.split("-");for(let n=0;n<8;n++){let o=parseInt(r[n],10);t.writeUInt16BE(o,n*2)}return t}Xe.dskFromString=Cy;function Ny(e){let t=Buffer.allocUnsafe(4);return e.copy(t,0,8,12),t[0]|=192,t[3]&=254,t}Xe.nwiHomeIdFromDSK=Ny;function Py(e){let t=Buffer.allocUnsafe(4);return e.copy(t,0,12,16),t[0]&=63,t[3]|=1,t}Xe.authHomeIdFromDSK=Py});var Pf=D(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getHighestSecurityClass=Ge.securityClassOrder=Ge.securityClassIsS2=Ge.SecurityClass=void 0;var jt;(function(e){e[e.Temporary=-2]="Temporary",e[e.None=-1]="None",e[e.S2_Unauthenticated=0]="S2_Unauthenticated",e[e.S2_Authenticated=1]="S2_Authenticated",e[e.S2_AccessControl=2]="S2_AccessControl",e[e.S0_Legacy=7]="S0_Legacy"})(jt=Ge.SecurityClass||(Ge.SecurityClass={}));function Ry(e){return e!=null&&e>=jt.S2_Unauthenticated&&e<=jt.S2_AccessControl}Ge.securityClassIsS2=Ry;Ge.securityClassOrder=[jt.S2_AccessControl,jt.S2_Authenticated,jt.S2_Unauthenticated,jt.S0_Legacy];function Oy(e){for(let t of Ge.securityClassOrder)if(e.includes(t))return t;return jt.None}Ge.getHighestSecurityClass=Oy});var Rf=D(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.assertZWaveError=void 0;function Iy(e,t={}){let{messageMatches:r,errorCode:n,context:o}=t;function i(l){expect(l.constructor.name).toBe("ZWaveError"),expect(l.code).toBeNumber()}function a(l){i(l),r!=null&&expect(l.message).toMatch(r),n!=null&&expect(l.code).toBe(n),o!=null&&expect(l.context).toBe(o)}function s(){throw new Error("The factory function did not throw any error!")}if(typeof e=="function"){try{let l=e();if(l instanceof Promise)return l.then(s,a)}catch(l){return void a(l)}s()}else a(e)}ei.assertZWaveError=Iy});var Of=D(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.CRC16_CCITT=void 0;function My(e,t=7439){let r=t,n=4129;for(let o=0;o<e.length;o++)for(let i=128;i!==0;i>>=1){let a=!!(e[o]&i)!=!!(r&32768);r<<=1,a&&(r^=n)}return r&65535}ti.CRC16_CCITT=My});var If=D(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.topologicalSort=Nr.GraphNode=void 0;var Oa=class{constructor(t,r=[]){this.value=t,this.edges=new Set(r)}};Nr.GraphNode=Oa;function Dy(e){let t=[];for(;e.length;){let r=e.filter(o=>o.edges.size===0);if(!r.length)throw new Error("Circular dependency detected!");let n=r.map(o=>o.value);t.push(...n),e=e.filter(o=>o.edges.size>0);for(let o of e)for(let i of r)o.edges.delete(i)}return t}Nr.topologicalSort=Dy});var Df=D(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0})});var Ia=D(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.roundTo=Pr.clamp=void 0;function Ty(e,t,r){return t>r&&([t,r]=[r,t]),e<t?t:e>r?r:e}Pr.clamp=Ty;function Ay(e,t){let r=Math.pow(10,t);return Math.round(e*r)/r}Pr.roundTo=Ay});var Ma=D(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.Duration=void 0;var Fy=Ia(),Tf=xr(),Ey=/^(?:(?<hoursStr>\d+)h)?(?:(?<minutesStr>\d+)m)?(?:(?<secondsStr>\d+)s)?$/i,ze=class{constructor(t,r){switch(this.unit=r,r){case"minutes":t===0&&(this.unit="seconds");break;case"unknown":case"default":t=0;break}this.value=t}get value(){return this._value}set value(t){this._value=(0,Fy.clamp)(t,0,127)}static parseReport(t){if(t==null||t===255)return;if(t===254)return new ze(0,"unknown");let r=!!(t&128),n=(t&127)+(r?1:0);return new ze(n,r?"minutes":"seconds")}static parseSet(t){if(t==null)return;if(t===255)return new ze(0,"default");let r=!!(t&128),n=(t&127)+(r?1:0);return new ze(n,r?"minutes":"seconds")}static parseString(t){if(!t.length)return;if(t==="default")return new ze(0,"default");let r=Ey.exec(t);if(!r)return;let{hoursStr:n,minutesStr:o,secondsStr:i}=r.groups,a=n?parseInt(n):0,s=o?parseInt(o):0,l=i?parseInt(i):0;if(a){if(a*60+s<=127)return new ze(60*a+s,"minutes")}else return s*60+l>127?new ze(s+Math.round(l/60),"minutes"):new ze(s*60+l,"seconds")}static from(t){return t instanceof ze?t:t?ze.parseString(t):void 0}serializeSet(){if(this.unit==="default")return 255;if(this.unit==="unknown")throw new Tf.ZWaveError("Set commands don't support unknown durations",Tf.ZWaveErrorCodes.CC_Invalid);let t=this.unit==="minutes",r=t?128:0;return r+=this._value-(t?1:0)&127,r}serializeReport(){if(this.unit==="unknown")return 254;let t=this.unit==="minutes",r=t?128:0;return r+=this._value-(t?1:0)&127,r}toJSON(){return this.unit==="default"||this.unit==="unknown"?this.unit:{value:this.value,unit:this.unit}}toMilliseconds(){switch(this.unit){case"minutes":return this._value*6e4;case"seconds":return this._value*1e3}}toString(){let t="";switch(this.unit){case"minutes":return this._value>60&&(t+=`${Math.floor(this._value/60)}h`),t+=`${this._value%60}m`,t;case"seconds":return this._value>60&&(t+=`${Math.floor(this._value/60)}m`),t+=`${this._value%60}s`,t;default:return this.unit}}};ri.Duration=ze});var qf=D(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.deserializeCacheValue=Rr.serializeCacheValue=void 0;var qy=bs(),Da=In(),Af=Ma(),bn="$$type$$";function Ff(e){if(e instanceof Map)return{...(0,qy.composeObject)([...e.entries()].map(([t,r])=>[t,Ff(r)])),[bn]:"map"};if(e instanceof Af.Duration){let t=e.toJSON();return{...typeof t=="string"?{unit:t}:t,[bn]:"duration"}}else{if(Buffer.isBuffer(e))return{[bn]:"buffer",data:e.toString("hex")};if(typeof e=="number"||typeof e=="string"||typeof e=="boolean"||(0,Da.isObject)(e)||(0,Da.isArray)(e))return e}}Rr.serializeCacheValue=Ff;function Ef(e){var t;if((0,Da.isObject)(e)){let r=e[bn];if(r==="map"){let{[bn]:n,...o}=e;return new Map(Object.entries(o).map(([i,a])=>[/^\d+$/.test(i)?parseInt(i,10):i,a]).map(([i,a])=>[i,Ef(a)]))}else{if(r==="duration")return new Af.Duration((t=e.value)!=null?t:1,e.unit);if(r==="buffer")return Buffer.from(e.data,"hex")}}return e}Rr.deserializeCacheValue=Ef});var Lf=D(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.CacheBackedMap=void 0;var Ta=class{constructor(t,r){this.cache=t,this.cacheKeys=r,this.map=new Map;for(let[n,o]of this.cache.entries())if(n.startsWith(this.cacheKeys.prefix)){let i=n.substring(this.cacheKeys.prefix.length),a=this.cacheKeys.suffixDeserializer(i);a!==void 0&&this.map.set(a,o)}this.forEach=this.map.forEach.bind(this.map),this.get=this.map.get.bind(this.map),this.has=this.map.has.bind(this.map),this.entries=this.map.entries.bind(this.map),this.keys=this.map.keys.bind(this.map),this.values=this.map.values.bind(this.map),this[Symbol.iterator]=this.map[Symbol.iterator].bind(this.map)}keyToCacheKey(t){return this.cacheKeys.prefix+this.cacheKeys.suffixSerializer(t)}clear(){for(let t of this.map.keys())this.cache.delete(this.keyToCacheKey(t));this.map.clear()}delete(t){let r=this.map.delete(t);return r&&this.cache.delete(this.keyToCacheKey(t)),r}set(t,r){return this.map.set(t,r),this.cache.set(this.keyToCacheKey(t),r),this}get size(){return this.map.size}get[Symbol.toStringTag](){return"Map"}};ni.CacheBackedMap=Ta});var Aa=D(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.encodePartial=j.parsePartial=j.encodeBitMask=j.parseBitMask=j.encodeFloatWithScale=j.getIntegerLimits=j.getMinIntegerSize=j.IntegerLimits=j.parseFloatWithScale=j.parseNumber=j.parseMaybeNumber=j.encodeMaybeBoolean=j.encodeBoolean=j.parseBoolean=j.parseMaybeBoolean=j.unknownBoolean=j.unknownNumber=void 0;var zf=xr(),Or=Yo();j.unknownNumber="unknown";j.unknownBoolean="unknown";function Ly(e,t=!0){return e===254?t?j.unknownBoolean:void 0:jf(e)}j.parseMaybeBoolean=Ly;function jf(e){return e===0?!1:e===255?!0:void 0}j.parseBoolean=jf;function zy(e){return e?255:0}j.encodeBoolean=zy;function jy(e){return e==="unknown"?254:e?255:0}j.encodeMaybeBoolean=jy;function Hy(e){return e===254?j.unknownNumber:Hf(e)}j.parseMaybeNumber=Hy;function Hf(e){return e<=99?e:e===255?99:void 0}j.parseNumber=Hf;function Uy(e,t=!1){(0,Or.validatePayload)(e.length>=1);let r=(e[0]&224)>>>5,n=(e[0]&24)>>>3,o=e[0]&7;return t&&o===0?((0,Or.validatePayload)(r===0,n===0),{bytesRead:1}):((0,Or.validatePayload)(o>=1,o<=4,e.length>=1+o),{value:e.readIntBE(1,o)/Math.pow(10,r),scale:n,bytesRead:1+o})}j.parseFloatWithScale=Uy;function Ky(e){if(!Number.isFinite(e))return 0;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}j.IntegerLimits=Object.freeze({UInt8:Object.freeze({min:0,max:255}),UInt16:Object.freeze({min:0,max:65535}),UInt24:Object.freeze({min:0,max:16777215}),UInt32:Object.freeze({min:0,max:4294967295}),Int8:Object.freeze({min:-128,max:127}),Int16:Object.freeze({min:-32768,max:32767}),Int24:Object.freeze({min:-8388608,max:8388607}),Int32:Object.freeze({min:-2147483648,max:2147483647})});function Uf(e,t){if(t){if(e>=j.IntegerLimits.Int8.min&&e<=j.IntegerLimits.Int8.max)return 1;if(e>=j.IntegerLimits.Int16.min&&e<=j.IntegerLimits.Int16.max)return 2;if(e>=j.IntegerLimits.Int32.min&&e<=j.IntegerLimits.Int32.max)return 4}else if(e>=0){if(e<=j.IntegerLimits.UInt8.max)return 1;if(e<=j.IntegerLimits.UInt16.max)return 2;if(e<=j.IntegerLimits.UInt32.max)return 4}}j.getMinIntegerSize=Uf;function $y(e,t){return j.IntegerLimits[`${t?"":"U"}Int${e*8}`]}j.getIntegerLimits=$y;function Vy(e,t,r={}){var a;let n=(a=r.precision)!=null?a:Math.min(Ky(e),7);e=Math.round(e*Math.pow(10,n));let o=Uf(e,!0);if(o==null)throw new zf.ZWaveError(`Cannot encode the value ${e} because its too large or too small to fit into 4 bytes`,zf.ZWaveErrorCodes.Arithmetic);r.size!=null&&r.size>o&&(o=r.size);let i=Buffer.allocUnsafe(1+o);return i[0]=(n&7)<<5|(t&3)<<3|o&7,i.writeIntBE(e,1,o),i}j.encodeFloatWithScale=Vy;function Xy(e,t=1){let r=e.length*8,n=[];for(let o=1;o<=r;o++){let i=o-1>>>3,a=(o-1)%8;(e[i]&2**a)!==0&&n.push(o+t-1)}return n}j.parseBitMask=Xy;function Gy(e,t,r=1){let n=Math.ceil((t-r+1)/8),o=Buffer.alloc(n,0);for(let i=r;i<=t;i++){if(e.indexOf(i)===-1)continue;let a=i-r>>>3,s=(i-r)%8;o[a]|=2**s}return o}j.encodeBitMask=Gy;function Qy(e,t,r){let n=(0,Or.getMinimumShiftForBitMask)(t),o=(0,Or.getBitMaskWidth)(t),i=(e&t)>>>n;return r&&!!(i&2**(o-1))&&(i=~(~i&t>>>n)),i}j.parsePartial=Qy;function Wy(e,t,r){return(e&~r|t<<(0,Or.getMinimumShiftForBitMask)(r)&r)>>>0}j.encodePartial=Wy});var $f=D(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.ValueMetadata=Je.ConfigValueFormat=Je.enumValuesToMetadataStates=Je.getNumericEnumValues=void 0;var Yy=or(),Ht=Aa(),Jy=/^\d+$/;function Kf(e){return Object.keys(e).filter(t=>Jy.test(t)).map(t=>parseInt(t,10))}Je.getNumericEnumValues=Kf;function Zy(e,t){let r={};t==null&&(t=Kf(e));for(let n of t)r[n]=(0,Yy.getEnumMemberName)(e,n);return r}Je.enumValuesToMetadataStates=Zy;var Ir=()=>e=>e,oi=Ir(),te=Ir(),Fa=Ir(),Mr=Ir(),Ea=Ir(),qa=Ir(),ev;(function(e){e[e.SignedInteger=0]="SignedInteger",e[e.UnsignedInteger=1]="UnsignedInteger",e[e.Enumerated=2]="Enumerated",e[e.BitField=3]="BitField"})(ev=Je.ConfigValueFormat||(Je.ConfigValueFormat={}));var Ie=oi({type:"any",readable:!0,writeable:!0}),Me={writeable:!1},De={readable:!1},tv=oi({...Ie}),rv=oi({...Ie,...Me}),nv=oi({...Ie,...De}),La=Fa({...Ie,type:"boolean"}),ov=Fa({...La,...Me}),iv=Fa({...La,...De}),za=te({...Ie,type:"number"}),av=te({...za,...Me}),sv=te({...za,...De}),ii=te({...Ie,type:"number",...Ht.IntegerLimits.UInt8}),lv=te({...ii,...Me}),cv=te({...ii,...De}),ja=te({...Ie,type:"number",...Ht.IntegerLimits.UInt16}),uv=te({...ja,...Me}),dv=te({...ja,...De}),Ha=te({...Ie,type:"number",...Ht.IntegerLimits.UInt24}),fv=te({...Ha,...Me}),pv=te({...Ha,...De}),Ua=te({...Ie,type:"number",...Ht.IntegerLimits.UInt32}),gv=te({...Ua,...Me}),mv=te({...Ua,...De}),Ka=te({...Ie,type:"number",...Ht.IntegerLimits.Int8}),hv=te({...Ka,...Me}),yv=te({...Ka,...De}),$a=te({...Ie,type:"number",...Ht.IntegerLimits.Int16}),vv=te({...$a,...Me}),bv=te({...$a,...De}),Va=te({...Ie,type:"number",...Ht.IntegerLimits.Int24}),kv=te({...Va,...Me}),Sv=te({...Va,...De}),Xa=te({...Ie,type:"number",...Ht.IntegerLimits.Int32}),Bv=te({...Xa,...Me}),wv=te({...Xa,...De}),ai=Mr({...Ie,type:"string"}),xv=Mr({...ai,...Me}),_v=Mr({...ai,...De}),Ga=Mr({...ai,type:"color"}),Cv=Mr({...Ga,...Me}),Nv=Mr({...Ga,...De}),Qa=te({...ii,max:99}),Pv=te({...Qa,...Me}),Rv=te({...Qa,...De}),Wa=qa({...Ie,type:"duration"}),Ov=qa({...Wa,...Me}),Iv=qa({...Wa,...De}),Ya=Ea({...Ie,type:"buffer"}),Mv=Ea({...Ya,...Me}),Dv=Ea({...Ya,...De});Je.ValueMetadata={Any:Object.freeze(tv),ReadOnly:Object.freeze(rv),WriteOnly:Object.freeze(nv),Number:Object.freeze(za),ReadOnlyNumber:Object.freeze(av),WriteOnlyNumber:Object.freeze(sv),UInt8:Object.freeze(ii),UInt16:Object.freeze(ja),UInt24:Object.freeze(Ha),UInt32:Object.freeze(Ua),Int8:Object.freeze(Ka),Int16:Object.freeze($a),Int24:Object.freeze(Va),Int32:Object.freeze(Xa),ReadOnlyUInt8:Object.freeze(lv),ReadOnlyUInt16:Object.freeze(uv),ReadOnlyUInt24:Object.freeze(fv),ReadOnlyUInt32:Object.freeze(gv),ReadOnlyInt8:Object.freeze(hv),ReadOnlyInt16:Object.freeze(vv),ReadOnlyInt24:Object.freeze(kv),ReadOnlyInt32:Object.freeze(Bv),WriteOnlyUInt8:Object.freeze(cv),WriteOnlyUInt16:Object.freeze(dv),WriteOnlyUInt24:Object.freeze(pv),WriteOnlyUInt32:Object.freeze(mv),WriteOnlyInt8:Object.freeze(yv),WriteOnlyInt16:Object.freeze(bv),WriteOnlyInt24:Object.freeze(Sv),WriteOnlyInt32:Object.freeze(wv),Level:Object.freeze(Qa),ReadOnlyLevel:Object.freeze(Pv),WriteOnlyLevel:Object.freeze(Rv),Boolean:Object.freeze(La),ReadOnlyBoolean:Object.freeze(ov),WriteOnlyBoolean:Object.freeze(iv),String:Object.freeze(ai),ReadOnlyString:Object.freeze(xv),WriteOnlyString:Object.freeze(_v),Color:Object.freeze(Ga),ReadOnlyColor:Object.freeze(Cv),WriteOnlyColor:Object.freeze(Nv),Duration:Object.freeze(Wa),ReadOnlyDuration:Object.freeze(Ov),WriteOnlyDuration:Object.freeze(Iv),Buffer:Object.freeze(Ya),ReadOnlyBuffer:Object.freeze(Mv),WriteOnlyBuffer:Object.freeze(Dv)}});var Vf=D(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.Timeout=void 0;var Tv=Ia(),Dr=class{constructor(t,r){switch(this.unit=r,t===0&&(this.unit="none"),r){case"none":case"infinite":t=0;break}this.value=t}get value(){return this._value}set value(t){this._value=(0,Tv.clamp)(t,0,this.unit==="seconds"?60:191)}static parse(t){if(t==null)return;if(t===255)return new Dr(0,"infinite");let r=!!(t&64),n=(t&63)+(r?1:0);return new Dr(n,r?"minutes":"seconds")}serialize(){return this.unit==="infinite"?255:this.unit==="none"?0:(this.unit==="minutes"?64:0)|this._value&63}toJSON(){return this.unit==="none"||this.unit==="infinite"?this.unit:{value:this.value,unit:this.unit}}toMilliseconds(){switch(this.unit){case"none":return 0;case"minutes":return this._value*6e4;case"seconds":return this._value*1e3;case"infinite":return Number.POSITIVE_INFINITY}}toString(){switch(this.unit){case"minutes":return`[Timeout: ${this._value}${this.value===1?"minute":"minutes"}]`;case"seconds":return`[Timeout: ${this._value}${this.value===1?"second":"seconds"}]`;default:return`[Timeout: ${this.unit}]`}}};si.Timeout=Dr});var Gf=D(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0})});var lt=D(J=>{"use strict";var Av=J&&J.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ie=J&&J.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Av(t,e,r)};Object.defineProperty(J,"__esModule",{value:!0});ie(Td(),J);ie(Fd(),J);ie(qd(),J);ie(xa(),J);ie(Jd(),J);ie(Zd(),J);ie(gf(),J);ie(mf(),J);ie(hf(),J);ie(vf(),J);ie(xf(),J);ie(xr(),J);ie(_f(),J);ie(Nf(),J);ie(Pf(),J);ie(Rf(),J);ie(Of(),J);ie(If(),J);ie(Yo(),J);ie(Df(),J);ie(qf(),J);ie(Lf(),J);ie(Ma(),J);ie($f(),J);ie(Aa(),J);ie(Vf(),J);ie(Gf(),J)});var Wf=D(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.minFeatureVersions=ir.ZWaveFeature=void 0;var Qf;(function(e){e[e.SmartStart=0]="SmartStart"})(Qf=ir.ZWaveFeature||(ir.ZWaveFeature={}));ir.minFeatureVersions={[Qf.SmartStart]:"6.81"}});var Yf=D(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.InclusionState=je.ProvisioningEntryStatus=je.ExclusionStrategy=je.InclusionStrategy=void 0;var Fv;(function(e){e[e.Default=0]="Default",e[e.SmartStart=1]="SmartStart",e[e.Insecure=2]="Insecure",e[e.Security_S0=3]="Security_S0",e[e.Security_S2=4]="Security_S2"})(Fv=je.InclusionStrategy||(je.InclusionStrategy={}));var Ev;(function(e){e[e.ExcludeOnly=0]="ExcludeOnly",e[e.DisableProvisioningEntry=1]="DisableProvisioningEntry",e[e.Unprovision=2]="Unprovision"})(Ev=je.ExclusionStrategy||(je.ExclusionStrategy={}));var qv;(function(e){e[e.Active=0]="Active",e[e.Inactive=1]="Inactive"})(qv=je.ProvisioningEntryStatus||(je.ProvisioningEntryStatus={}));var Lv;(function(e){e[e.Idle=0]="Idle",e[e.Including=1]="Including",e[e.Excluding=2]="Excluding",e[e.Busy=3]="Busy",e[e.SmartStart=4]="SmartStart"})(Lv=je.InclusionState||(je.InclusionState={}))});var Zf=D(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0})});var ep=D(Pe=>{"use strict";var zv=Pe&&Pe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jv=Pe&&Pe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zv(t,e,r)};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ZWaveFeature=Pe.RssiError=Pe.RFRegion=Pe.ProtocolDataRate=Pe.isRssiError=void 0;var li=lt();Object.defineProperty(Pe,"isRssiError",{enumerable:!0,get:function(){return li.isRssiError}});Object.defineProperty(Pe,"ProtocolDataRate",{enumerable:!0,get:function(){return li.ProtocolDataRate}});Object.defineProperty(Pe,"RFRegion",{enumerable:!0,get:function(){return li.RFRegion}});Object.defineProperty(Pe,"RssiError",{enumerable:!0,get:function(){return li.RssiError}});var Hv=Wf();Object.defineProperty(Pe,"ZWaveFeature",{enumerable:!0,get:function(){return Hv.ZWaveFeature}});jv(Yf(),Pe);var IN=Zf()});var rp=D(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ZWaveErrorCodes=Tr.ZWaveError=void 0;var tp=lt();Object.defineProperty(Tr,"ZWaveError",{enumerable:!0,get:function(){return tp.ZWaveError}});Object.defineProperty(Tr,"ZWaveErrorCodes",{enumerable:!0,get:function(){return tp.ZWaveErrorCodes}})});var op=D(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.DeviceClass=void 0;var np=lt(),Ja=class{constructor(t,r,n,o){this.basic=t.lookupBasicDeviceClass(r),this.generic=t.lookupGenericDeviceClass(n),this.specific=t.lookupSpecificDeviceClass(n,o),this._mandatorySupportedCCs=this.specific.supportedCCs,this._mandatoryControlledCCs=this.specific.controlledCCs}get mandatorySupportedCCs(){return this._mandatorySupportedCCs}get mandatoryControlledCCs(){return this._mandatoryControlledCCs}toJSON(){return{basic:this.basic.label,generic:this.generic.label,specific:this.specific.label,mandatorySupportedCCs:this._mandatorySupportedCCs.map(t=>np.CommandClasses[t]),mandatoryControlCCs:this._mandatoryControlledCCs.map(t=>np.CommandClasses[t])}}};ci.DeviceClass=Ja});var ap=D(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.NodeStatus=Ar.InterviewStage=void 0;var ip=lt();Object.defineProperty(Ar,"InterviewStage",{enumerable:!0,get:function(){return ip.InterviewStage}});Object.defineProperty(Ar,"NodeStatus",{enumerable:!0,get:function(){return ip.NodeStatus}})});var sp=D(ke=>{"use strict";var Uv=ke&&ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Kv=ke&&ke.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uv(t,e,r)};Object.defineProperty(ke,"__esModule",{value:!0});ke.DeviceClass=ke.ProtocolVersion=ke.ProtocolDataRate=ke.NODE_ID_MAX=ke.NODE_ID_BROADCAST=ke.NodeType=void 0;var kn=lt();Object.defineProperty(ke,"NodeType",{enumerable:!0,get:function(){return kn.NodeType}});Object.defineProperty(ke,"NODE_ID_BROADCAST",{enumerable:!0,get:function(){return kn.NODE_ID_BROADCAST}});Object.defineProperty(ke,"NODE_ID_MAX",{enumerable:!0,get:function(){return kn.NODE_ID_MAX}});Object.defineProperty(ke,"ProtocolDataRate",{enumerable:!0,get:function(){return kn.ProtocolDataRate}});Object.defineProperty(ke,"ProtocolVersion",{enumerable:!0,get:function(){return kn.ProtocolVersion}});var $v=op();Object.defineProperty(ke,"DeviceClass",{enumerable:!0,get:function(){return $v.DeviceClass}});Kv(ap(),ke)});var cp=D(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.HumidityControlSetpointType=c.HumidityControlSetpointCommand=c.HumidityControlOperatingState=c.HumidityControlOperatingStateCommand=c.HumidityControlMode=c.HumidityControlModeCommand=c.HailCommand=c.FirmwareDownloadStatus=c.FirmwareUpdateActivationStatus=c.FirmwareUpdateStatus=c.FirmwareUpdateRequestStatus=c.FirmwareUpdateMetaDataCommand=c.EntryControlDataTypes=c.EntryControlCommand=c.DoorLockLoggingRecordStatus=c.DoorLockLoggingEventType=c.DoorLockLoggingCommand=c.entryControlEventTypeLabels=c.EntryControlEventTypes=c.DoorLockOperationType=c.DoorLockMode=c.DoorLockCommand=c.DeviceResetLocallyCommand=c.CRC16Command=c.ConfigurationCommand=c.ColorComponentMap=c.ColorComponent=c.ColorSwitchCommand=c.Weekday=c.ClockCommand=c.ScheduleOverrideType=c.ClimateControlScheduleCommand=c.CentralSceneKeys=c.CentralSceneCommand=c.BinarySwitchCommand=c.BinarySensorType=c.BinarySensorCommand=c.BatteryCommand=c.BatteryReplacementStatus=c.BatteryChargingStatus=c.BasicCommand=c.SubsystemState=c.SubsystemType=c.BarrierState=c.BarrierOperatorCommand=c.AssociationGroupInfoProfile=c.AssociationGroupInfoCommand=c.AssociationCommand=c.AlarmSensorType=c.AlarmSensorCommand=void 0;c.UserIDStatus=c.UserCodeCommand=c.TransportServiceCommand=c.TimeParametersCommand=c.TimeCommand=c.ThermostatSetpointType=c.ThermostatSetpointCommand=c.SetbackType=c.ThermostatSetbackCommand=c.ThermostatOperatingState=c.ThermostatOperatingStateCommand=c.ThermostatMode=c.ThermostatModeCommand=c.ThermostatFanState=c.ThermostatFanStateCommand=c.ThermostatFanMode=c.ThermostatFanModeCommand=c.SupervisionCommand=c.ToneId=c.SoundSwitchCommand=c.SecurityCommand=c.Security2Command=c.SceneControllerConfigurationCommand=c.SceneActuatorConfigurationCommand=c.SceneActivationCommand=c.RFProtectionState=c.LocalProtectionState=c.ProtectionCommand=c.PowerlevelTestStatus=c.Powerlevel=c.PowerlevelCommand=c.NotificationCommand=c.NodeNamingAndLocationCommand=c.SwitchType=c.LevelChangeDirection=c.MultilevelSwitchCommand=c.MultilevelSensorCommand=c.MultiCommandCommand=c.MultiChannelCommand=c.MultiChannelAssociationCommand=c.RateType=c.MeterCommand=c.DeviceIdType=c.ManufacturerSpecificCommand=c.LockCommand=c.LanguageCommand=c.ValveType=c.IrrigationSensorPolarity=c.IrrigationCommand=c.IndicatorCommand=void 0;c.NetworkTransferStatus=c.parseWakeUpTime=c.ZWaveDataRate2DataRate=c.dataRate2ZWaveDataRate=c.wakeUpTime2FLiRS=c.FLiRS2WakeUpTime=c.WakeUpTime=c.ZWaveProtocolCommand=c.ZWavePlusNodeType=c.ZWavePlusRoleType=c.ZWavePlusCommand=c.WakeUpCommand=c.VersionCommand=c.KeypadMode=void 0;var Sn=lt(),Vv;(function(e){e[e.Get=1]="Get",e[e.Report=2]="Report",e[e.SupportedGet=3]="SupportedGet",e[e.SupportedReport=4]="SupportedReport"})(Vv=c.AlarmSensorCommand||(c.AlarmSensorCommand={}));var Xv;(function(e){e[e["General Purpose"]=0]="General Purpose",e[e.Smoke=1]="Smoke",e[e.CO=2]="CO",e[e.CO2=3]="CO2",e[e.Heat=4]="Heat",e[e["Water Leak"]=5]="Water Leak",e[e.Any=255]="Any"})(Xv=c.AlarmSensorType||(c.AlarmSensorType={}));var Gv;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.Remove=4]="Remove",e[e.SupportedGroupingsGet=5]="SupportedGroupingsGet",e[e.SupportedGroupingsReport=6]="SupportedGroupingsReport"})(Gv=c.AssociationCommand||(c.AssociationCommand={}));var Qv;(function(e){e[e.NameGet=1]="NameGet",e[e.NameReport=2]="NameReport",e[e.InfoGet=3]="InfoGet",e[e.InfoReport=4]="InfoReport",e[e.CommandListGet=5]="CommandListGet",e[e.CommandListReport=6]="CommandListReport"})(Qv=c.AssociationGroupInfoCommand||(c.AssociationGroupInfoCommand={}));var Wv;(function(e){e[e["General: N/A"]=0]="General: N/A",e[e["General: Lifeline"]=1]="General: Lifeline",e[e["Control: Key 01"]=8193]="Control: Key 01",e[e["Control: Key 02"]=8194]="Control: Key 02",e[e["Control: Key 03"]=8195]="Control: Key 03",e[e["Control: Key 04"]=8196]="Control: Key 04",e[e["Control: Key 05"]=8197]="Control: Key 05",e[e["Control: Key 06"]=8198]="Control: Key 06",e[e["Control: Key 07"]=8199]="Control: Key 07",e[e["Control: Key 08"]=8200]="Control: Key 08",e[e["Control: Key 09"]=8201]="Control: Key 09",e[e["Control: Key 10"]=8202]="Control: Key 10",e[e["Control: Key 11"]=8203]="Control: Key 11",e[e["Control: Key 12"]=8204]="Control: Key 12",e[e["Control: Key 13"]=8205]="Control: Key 13",e[e["Control: Key 14"]=8206]="Control: Key 14",e[e["Control: Key 15"]=8207]="Control: Key 15",e[e["Control: Key 16"]=8208]="Control: Key 16",e[e["Control: Key 17"]=8209]="Control: Key 17",e[e["Control: Key 18"]=8210]="Control: Key 18",e[e["Control: Key 19"]=8211]="Control: Key 19",e[e["Control: Key 20"]=8212]="Control: Key 20",e[e["Control: Key 21"]=8213]="Control: Key 21",e[e["Control: Key 22"]=8214]="Control: Key 22",e[e["Control: Key 23"]=8215]="Control: Key 23",e[e["Control: Key 24"]=8216]="Control: Key 24",e[e["Control: Key 25"]=8217]="Control: Key 25",e[e["Control: Key 26"]=8218]="Control: Key 26",e[e["Control: Key 27"]=8219]="Control: Key 27",e[e["Control: Key 28"]=8220]="Control: Key 28",e[e["Control: Key 29"]=8221]="Control: Key 29",e[e["Control: Key 30"]=8222]="Control: Key 30",e[e["Control: Key 31"]=8223]="Control: Key 31",e[e["Control: Key 32"]=8224]="Control: Key 32",e[e["Sensor: Air temperature"]=12545]="Sensor: Air temperature",e[e["Sensor: General purpose"]=12546]="Sensor: General purpose",e[e["Sensor: Illuminance"]=12547]="Sensor: Illuminance",e[e["Sensor: Power"]=12548]="Sensor: Power",e[e["Sensor: Humidity"]=12549]="Sensor: Humidity",e[e["Sensor: Velocity"]=12550]="Sensor: Velocity",e[e["Sensor: Direction"]=12551]="Sensor: Direction",e[e["Sensor: Atmospheric pressure"]=12552]="Sensor: Atmospheric pressure",e[e["Sensor: Barometric pressure"]=12553]="Sensor: Barometric pressure",e[e["Sensor: Solar radiation"]=12554]="Sensor: Solar radiation",e[e["Sensor: Dew point"]=12555]="Sensor: Dew point",e[e["Sensor: Rain rate"]=12556]="Sensor: Rain rate",e[e["Sensor: Tide level"]=12557]="Sensor: Tide level",e[e["Sensor: Weight"]=12558]="Sensor: Weight",e[e["Sensor: Voltage"]=12559]="Sensor: Voltage",e[e["Sensor: Current"]=12560]="Sensor: Current",e[e["Sensor: Carbon dioxide (CO2) level"]=12561]="Sensor: Carbon dioxide (CO2) level",e[e["Sensor: Air flow"]=12562]="Sensor: Air flow",e[e["Sensor: Tank capacity"]=12563]="Sensor: Tank capacity",e[e["Sensor: Distance"]=12564]="Sensor: Distance",e[e["Sensor: Angle position"]=12565]="Sensor: Angle position",e[e["Sensor: Rotation"]=12566]="Sensor: Rotation",e[e["Sensor: Water temperature"]=12567]="Sensor: Water temperature",e[e["Sensor: Soil temperature"]=12568]="Sensor: Soil temperature",e[e["Sensor: Seismic Intensity"]=12569]="Sensor: Seismic Intensity",e[e["Sensor: Seismic magnitude"]=12570]="Sensor: Seismic magnitude",e[e["Sensor: Ultraviolet"]=12571]="Sensor: Ultraviolet",e[e["Sensor: Electrical resistivity"]=12572]="Sensor: Electrical resistivity",e[e["Sensor: Electrical conductivity"]=12573]="Sensor: Electrical conductivity",e[e["Sensor: Loudness"]=12574]="Sensor: Loudness",e[e["Sensor: Moisture"]=12575]="Sensor: Moisture",e[e["Sensor: Frequency"]=12576]="Sensor: Frequency",e[e["Sensor: Time"]=12577]="Sensor: Time",e[e["Sensor: Target temperature"]=12578]="Sensor: Target temperature",e[e["Sensor: Particulate Matter 2.5"]=12579]="Sensor: Particulate Matter 2.5",e[e["Sensor: Formaldehyde (CH2O) level"]=12580]="Sensor: Formaldehyde (CH2O) level",e[e["Sensor: Radon concentration"]=12581]="Sensor: Radon concentration",e[e["Sensor: Methane (CH4) density"]=12582]="Sensor: Methane (CH4) density",e[e["Sensor: Volatile Organic Compound level"]=12583]="Sensor: Volatile Organic Compound level",e[e["Sensor: Carbon monoxide (CO) level"]=12584]="Sensor: Carbon monoxide (CO) level",e[e["Sensor: Soil humidity"]=12585]="Sensor: Soil humidity",e[e["Sensor: Soil reactivity"]=12586]="Sensor: Soil reactivity",e[e["Sensor: Soil salinity"]=12587]="Sensor: Soil salinity",e[e["Sensor: Heart rate"]=12588]="Sensor: Heart rate",e[e["Sensor: Blood pressure"]=12589]="Sensor: Blood pressure",e[e["Sensor: Muscle mass"]=12590]="Sensor: Muscle mass",e[e["Sensor: Fat mass"]=12591]="Sensor: Fat mass",e[e["Sensor: Bone mass"]=12592]="Sensor: Bone mass",e[e["Sensor: Total body water (TBW)"]=12593]="Sensor: Total body water (TBW)",e[e["Sensor: Basis metabolic rate (BMR)"]=12594]="Sensor: Basis metabolic rate (BMR)",e[e["Sensor: Body Mass Index (BMI)"]=12595]="Sensor: Body Mass Index (BMI)",e[e["Sensor: Acceleration X-axis"]=12596]="Sensor: Acceleration X-axis",e[e["Sensor: Acceleration Y-axis"]=12597]="Sensor: Acceleration Y-axis",e[e["Sensor: Acceleration Z-axis"]=12598]="Sensor: Acceleration Z-axis",e[e["Sensor: Smoke density"]=12599]="Sensor: Smoke density",e[e["Sensor: Water flow"]=12600]="Sensor: Water flow",e[e["Sensor: Water pressure"]=12601]="Sensor: Water pressure",e[e["Sensor: RF signal strength"]=12602]="Sensor: RF signal strength",e[e["Sensor: Particulate Matter 10"]=12603]="Sensor: Particulate Matter 10",e[e["Sensor: Respiratory rate"]=12604]="Sensor: Respiratory rate",e[e["Sensor: Relative Modulation level"]=12605]="Sensor: Relative Modulation level",e[e["Sensor: Boiler water temperature"]=12606]="Sensor: Boiler water temperature",e[e["Sensor: Domestic Hot Water (DHW) temperature"]=12607]="Sensor: Domestic Hot Water (DHW) temperature",e[e["Sensor: Outside temperature"]=12608]="Sensor: Outside temperature",e[e["Sensor: Exhaust temperature"]=12609]="Sensor: Exhaust temperature",e[e["Sensor: Water Chlorine level"]=12610]="Sensor: Water Chlorine level",e[e["Sensor: Water acidity"]=12611]="Sensor: Water acidity",e[e["Sensor: Water Oxidation reduction potential"]=12612]="Sensor: Water Oxidation reduction potential",e[e["Sensor: Heart Rate LF/HF ratio"]=12613]="Sensor: Heart Rate LF/HF ratio",e[e["Sensor: Motion Direction"]=12614]="Sensor: Motion Direction",e[e["Sensor: Applied force on the sensor"]=12615]="Sensor: Applied force on the sensor",e[e["Sensor: Return Air temperature"]=12616]="Sensor: Return Air temperature",e[e["Sensor: Supply Air temperature"]=12617]="Sensor: Supply Air temperature",e[e["Sensor: Condenser Coil temperature"]=12618]="Sensor: Condenser Coil temperature",e[e["Sensor: Evaporator Coil temperature"]=12619]="Sensor: Evaporator Coil temperature",e[e["Sensor: Liquid Line temperature"]=12620]="Sensor: Liquid Line temperature",e[e["Sensor: Discharge Line temperature"]=12621]="Sensor: Discharge Line temperature",e[e["Sensor: Suction Pressure"]=12622]="Sensor: Suction Pressure",e[e["Sensor: Discharge Pressure"]=12623]="Sensor: Discharge Pressure",e[e["Sensor: Defrost temperature"]=12624]="Sensor: Defrost temperature",e[e["Notification: Smoke Alarm"]=28929]="Notification: Smoke Alarm",e[e["Notification: CO Alarm"]=28930]="Notification: CO Alarm",e[e["Notification: CO2 Alarm"]=28931]="Notification: CO2 Alarm",e[e["Notification: Heat Alarm"]=28932]="Notification: Heat Alarm",e[e["Notification: Water Alarm"]=28933]="Notification: Water Alarm",e[e["Notification: Access Control"]=28934]="Notification: Access Control",e[e["Notification: Home Security"]=28935]="Notification: Home Security",e[e["Notification: Power Management"]=28936]="Notification: Power Management",e[e["Notification: System"]=28937]="Notification: System",e[e["Notification: Emergency Alarm"]=28938]="Notification: Emergency Alarm",e[e["Notification: Clock"]=28939]="Notification: Clock",e[e["Notification: Appliance"]=28940]="Notification: Appliance",e[e["Notification: Home Health"]=28941]="Notification: Home Health",e[e["Notification: Siren"]=28942]="Notification: Siren",e[e["Notification: Water Valve"]=28943]="Notification: Water Valve",e[e["Notification: Weather Alarm"]=28944]="Notification: Weather Alarm",e[e["Notification: Irrigation"]=28945]="Notification: Irrigation",e[e["Notification: Gas alarm"]=28946]="Notification: Gas alarm",e[e["Notification: Pest Control"]=28947]="Notification: Pest Control",e[e["Notification: Light sensor"]=28948]="Notification: Light sensor",e[e["Notification: Water Quality Monitoring"]=28949]="Notification: Water Quality Monitoring",e[e["Notification: Home monitoring"]=28950]="Notification: Home monitoring",e[e["Meter: Electric"]=12801]="Meter: Electric",e[e["Meter: Gas"]=12802]="Meter: Gas",e[e["Meter: Water"]=12803]="Meter: Water",e[e["Meter: Heating"]=12804]="Meter: Heating",e[e["Meter: Cooling"]=12805]="Meter: Cooling",e[e["Irrigation: Channel 01"]=27393]="Irrigation: Channel 01",e[e["Irrigation: Channel 02"]=27394]="Irrigation: Channel 02",e[e["Irrigation: Channel 03"]=27395]="Irrigation: Channel 03",e[e["Irrigation: Channel 04"]=27396]="Irrigation: Channel 04",e[e["Irrigation: Channel 05"]=27397]="Irrigation: Channel 05",e[e["Irrigation: Channel 06"]=27398]="Irrigation: Channel 06",e[e["Irrigation: Channel 07"]=27399]="Irrigation: Channel 07",e[e["Irrigation: Channel 08"]=27400]="Irrigation: Channel 08",e[e["Irrigation: Channel 09"]=27401]="Irrigation: Channel 09",e[e["Irrigation: Channel 10"]=27402]="Irrigation: Channel 10",e[e["Irrigation: Channel 11"]=27403]="Irrigation: Channel 11",e[e["Irrigation: Channel 12"]=27404]="Irrigation: Channel 12",e[e["Irrigation: Channel 13"]=27405]="Irrigation: Channel 13",e[e["Irrigation: Channel 14"]=27406]="Irrigation: Channel 14",e[e["Irrigation: Channel 15"]=27407]="Irrigation: Channel 15",e[e["Irrigation: Channel 16"]=27408]="Irrigation: Channel 16",e[e["Irrigation: Channel 17"]=27409]="Irrigation: Channel 17",e[e["Irrigation: Channel 18"]=27410]="Irrigation: Channel 18",e[e["Irrigation: Channel 19"]=27411]="Irrigation: Channel 19",e[e["Irrigation: Channel 20"]=27412]="Irrigation: Channel 20",e[e["Irrigation: Channel 21"]=27413]="Irrigation: Channel 21",e[e["Irrigation: Channel 22"]=27414]="Irrigation: Channel 22",e[e["Irrigation: Channel 23"]=27415]="Irrigation: Channel 23",e[e["Irrigation: Channel 24"]=27416]="Irrigation: Channel 24",e[e["Irrigation: Channel 25"]=27417]="Irrigation: Channel 25",e[e["Irrigation: Channel 26"]=27418]="Irrigation: Channel 26",e[e["Irrigation: Channel 27"]=27419]="Irrigation: Channel 27",e[e["Irrigation: Channel 28"]=27420]="Irrigation: Channel 28",e[e["Irrigation: Channel 29"]=27421]="Irrigation: Channel 29",e[e["Irrigation: Channel 30"]=27422]="Irrigation: Channel 30",e[e["Irrigation: Channel 31"]=27423]="Irrigation: Channel 31",e[e["Irrigation: Channel 32"]=27424]="Irrigation: Channel 32"})(Wv=c.AssociationGroupInfoProfile||(c.AssociationGroupInfoProfile={}));var Yv;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SignalingCapabilitiesGet=4]="SignalingCapabilitiesGet",e[e.SignalingCapabilitiesReport=5]="SignalingCapabilitiesReport",e[e.EventSignalingSet=6]="EventSignalingSet",e[e.EventSignalingGet=7]="EventSignalingGet",e[e.EventSignalingReport=8]="EventSignalingReport"})(Yv=c.BarrierOperatorCommand||(c.BarrierOperatorCommand={}));var Jv;(function(e){e[e.Closed=0]="Closed",e[e.Closing=252]="Closing",e[e.Stopped=253]="Stopped",e[e.Opening=254]="Opening",e[e.Open=255]="Open"})(Jv=c.BarrierState||(c.BarrierState={}));var Zv;(function(e){e[e.Audible=1]="Audible",e[e.Visual=2]="Visual"})(Zv=c.SubsystemType||(c.SubsystemType={}));var eb;(function(e){e[e.Off=0]="Off",e[e.On=255]="On"})(eb=c.SubsystemState||(c.SubsystemState={}));var tb;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report"})(tb=c.BasicCommand||(c.BasicCommand={}));var rb;(function(e){e[e.Discharging=0]="Discharging",e[e.Charging=1]="Charging",e[e.Maintaining=2]="Maintaining"})(rb=c.BatteryChargingStatus||(c.BatteryChargingStatus={}));var nb;(function(e){e[e.No=0]="No",e[e.Soon=1]="Soon",e[e.Now=2]="Now"})(nb=c.BatteryReplacementStatus||(c.BatteryReplacementStatus={}));var ob;(function(e){e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.HealthGet=4]="HealthGet",e[e.HealthReport=5]="HealthReport"})(ob=c.BatteryCommand||(c.BatteryCommand={}));var ib;(function(e){e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SupportedGet=1]="SupportedGet",e[e.SupportedReport=4]="SupportedReport"})(ib=c.BinarySensorCommand||(c.BinarySensorCommand={}));var ab;(function(e){e[e["General Purpose"]=1]="General Purpose",e[e.Smoke=2]="Smoke",e[e.CO=3]="CO",e[e.CO2=4]="CO2",e[e.Heat=5]="Heat",e[e.Water=6]="Water",e[e.Freeze=7]="Freeze",e[e.Tamper=8]="Tamper",e[e.Aux=9]="Aux",e[e["Door/Window"]=10]="Door/Window",e[e.Tilt=11]="Tilt",e[e.Motion=12]="Motion",e[e["Glass Break"]=13]="Glass Break",e[e.Any=255]="Any"})(ab=c.BinarySensorType||(c.BinarySensorType={}));var sb;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report"})(sb=c.BinarySwitchCommand||(c.BinarySwitchCommand={}));var lb;(function(e){e[e.SupportedGet=1]="SupportedGet",e[e.SupportedReport=2]="SupportedReport",e[e.Notification=3]="Notification",e[e.ConfigurationSet=4]="ConfigurationSet",e[e.ConfigurationGet=5]="ConfigurationGet",e[e.ConfigurationReport=6]="ConfigurationReport"})(lb=c.CentralSceneCommand||(c.CentralSceneCommand={}));var cb;(function(e){e[e.KeyPressed=0]="KeyPressed",e[e.KeyReleased=1]="KeyReleased",e[e.KeyHeldDown=2]="KeyHeldDown",e[e.KeyPressed2x=3]="KeyPressed2x",e[e.KeyPressed3x=4]="KeyPressed3x",e[e.KeyPressed4x=5]="KeyPressed4x",e[e.KeyPressed5x=6]="KeyPressed5x"})(cb=c.CentralSceneKeys||(c.CentralSceneKeys={}));var ub;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.ChangedGet=4]="ChangedGet",e[e.ChangedReport=5]="ChangedReport",e[e.OverrideSet=6]="OverrideSet",e[e.OverrideGet=7]="OverrideGet",e[e.OverrideReport=8]="OverrideReport"})(ub=c.ClimateControlScheduleCommand||(c.ClimateControlScheduleCommand={}));var db;(function(e){e[e.None=0]="None",e[e.Temporary=1]="Temporary",e[e.Permanent=2]="Permanent"})(db=c.ScheduleOverrideType||(c.ScheduleOverrideType={}));var fb;(function(e){e[e.Set=4]="Set",e[e.Get=5]="Get",e[e.Report=6]="Report"})(fb=c.ClockCommand||(c.ClockCommand={}));var pb;(function(e){e[e.Unknown=0]="Unknown",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e[e.Sunday=7]="Sunday"})(pb=c.Weekday||(c.Weekday={}));var gb;(function(e){e[e.SupportedGet=1]="SupportedGet",e[e.SupportedReport=2]="SupportedReport",e[e.Get=3]="Get",e[e.Report=4]="Report",e[e.Set=5]="Set",e[e.StartLevelChange=6]="StartLevelChange",e[e.StopLevelChange=7]="StopLevelChange"})(gb=c.ColorSwitchCommand||(c.ColorSwitchCommand={}));var ct;(function(e){e[e["Warm White"]=0]="Warm White",e[e["Cold White"]=1]="Cold White",e[e.Red=2]="Red",e[e.Green=3]="Green",e[e.Blue=4]="Blue",e[e.Amber=5]="Amber",e[e.Cyan=6]="Cyan",e[e.Purple=7]="Purple",e[e.Index=8]="Index"})(ct=c.ColorComponent||(c.ColorComponent={}));c.ColorComponentMap={warmWhite:ct["Warm White"],coldWhite:ct["Cold White"],red:ct.Red,green:ct.Green,blue:ct.Blue,amber:ct.Amber,cyan:ct.Cyan,purple:ct.Purple,index:ct.Index};var mb;(function(e){e[e.Set=4]="Set",e[e.Get=5]="Get",e[e.Report=6]="Report",e[e.BulkSet=7]="BulkSet",e[e.BulkGet=8]="BulkGet",e[e.BulkReport=9]="BulkReport",e[e.NameGet=10]="NameGet",e[e.NameReport=11]="NameReport",e[e.InfoGet=12]="InfoGet",e[e.InfoReport=13]="InfoReport",e[e.PropertiesGet=14]="PropertiesGet",e[e.PropertiesReport=15]="PropertiesReport",e[e.DefaultReset=1]="DefaultReset"})(mb=c.ConfigurationCommand||(c.ConfigurationCommand={}));var hb;(function(e){e[e.CommandEncapsulation=1]="CommandEncapsulation"})(hb=c.CRC16Command||(c.CRC16Command={}));var yb;(function(e){e[e.Notification=1]="Notification"})(yb=c.DeviceResetLocallyCommand||(c.DeviceResetLocallyCommand={}));var vb;(function(e){e[e.OperationSet=1]="OperationSet",e[e.OperationGet=2]="OperationGet",e[e.OperationReport=3]="OperationReport",e[e.ConfigurationSet=4]="ConfigurationSet",e[e.ConfigurationGet=5]="ConfigurationGet",e[e.ConfigurationReport=6]="ConfigurationReport",e[e.CapabilitiesGet=7]="CapabilitiesGet",e[e.CapabilitiesReport=8]="CapabilitiesReport"})(vb=c.DoorLockCommand||(c.DoorLockCommand={}));var bb;(function(e){e[e.Unsecured=0]="Unsecured",e[e.UnsecuredWithTimeout=1]="UnsecuredWithTimeout",e[e.InsideUnsecured=16]="InsideUnsecured",e[e.InsideUnsecuredWithTimeout=17]="InsideUnsecuredWithTimeout",e[e.OutsideUnsecured=32]="OutsideUnsecured",e[e.OutsideUnsecuredWithTimeout=33]="OutsideUnsecuredWithTimeout",e[e.Unknown=254]="Unknown",e[e.Secured=255]="Secured"})(bb=c.DoorLockMode||(c.DoorLockMode={}));var kb;(function(e){e[e.Constant=1]="Constant",e[e.Timed=2]="Timed"})(kb=c.DoorLockOperationType||(c.DoorLockOperationType={}));var ae;(function(e){e[e.Caching=0]="Caching",e[e.CachedKeys=1]="CachedKeys",e[e.Enter=2]="Enter",e[e.DisarmAll=3]="DisarmAll",e[e.ArmAll=4]="ArmAll",e[e.ArmAway=5]="ArmAway",e[e.ArmHome=6]="ArmHome",e[e.ExitDelay=7]="ExitDelay",e[e.Arm1=8]="Arm1",e[e.Arm2=9]="Arm2",e[e.Arm3=10]="Arm3",e[e.Arm4=11]="Arm4",e[e.Arm5=12]="Arm5",e[e.Arm6=13]="Arm6",e[e.Rfid=14]="Rfid",e[e.Bell=15]="Bell",e[e.Fire=16]="Fire",e[e.Police=17]="Police",e[e.AlertPanic=18]="AlertPanic",e[e.AlertMedical=19]="AlertMedical",e[e.GateOpen=20]="GateOpen",e[e.GateClose=21]="GateClose",e[e.Lock=22]="Lock",e[e.Unlock=23]="Unlock",e[e.Test=24]="Test",e[e.Cancel=25]="Cancel"})(ae=c.EntryControlEventTypes||(c.EntryControlEventTypes={}));c.entryControlEventTypeLabels={[ae.Caching]:"Caching",[ae.CachedKeys]:"Cached keys",[ae.Enter]:"Enter",[ae.DisarmAll]:"Disarm all",[ae.ArmAll]:"Arm all",[ae.ArmAway]:"Away",[ae.ArmHome]:"Home",[ae.ExitDelay]:"Arm delay",[ae.Arm1]:"Arm zone 1",[ae.Arm2]:"Arm zone 2",[ae.Arm3]:"Arm zone 3",[ae.Arm4]:"Arm zone 4",[ae.Arm5]:"Arm zone 5",[ae.Arm6]:"Arm zone 6",[ae.Rfid]:"RFID",[ae.Bell]:"Bell",[ae.Fire]:"Fire",[ae.Police]:"Police",[ae.AlertPanic]:"Panic alert",[ae.AlertMedical]:"Medical alert",[ae.GateOpen]:"Open gate",[ae.GateClose]:"Close gate",[ae.Lock]:"Lock",[ae.Unlock]:"Unlock",[ae.Test]:"Test",[ae.Cancel]:"Cancel"};var Sb;(function(e){e[e.RecordsSupportedGet=1]="RecordsSupportedGet",e[e.RecordsSupportedReport=2]="RecordsSupportedReport",e[e.RecordGet=3]="RecordGet",e[e.RecordReport=4]="RecordReport"})(Sb=c.DoorLockLoggingCommand||(c.DoorLockLoggingCommand={}));var Bb;(function(e){e[e.LockCode=1]="LockCode",e[e.UnlockCode=2]="UnlockCode",e[e.LockButton=3]="LockButton",e[e.UnlockButton=4]="UnlockButton",e[e.LockCodeOutOfSchedule=5]="LockCodeOutOfSchedule",e[e.UnlockCodeOutOfSchedule=6]="UnlockCodeOutOfSchedule",e[e.IllegalCode=7]="IllegalCode",e[e.LockManual=8]="LockManual",e[e.UnlockManual=9]="UnlockManual",e[e.LockAuto=10]="LockAuto",e[e.UnlockAuto=11]="UnlockAuto",e[e.LockRemoteCode=12]="LockRemoteCode",e[e.UnlockRemoteCode=13]="UnlockRemoteCode",e[e.LockRemote=14]="LockRemote",e[e.UnlockRemote=15]="UnlockRemote",e[e.LockRemoteCodeOutOfSchedule=16]="LockRemoteCodeOutOfSchedule",e[e.UnlockRemoteCodeOutOfSchedule=17]="UnlockRemoteCodeOutOfSchedule",e[e.RemoteIllegalCode=18]="RemoteIllegalCode",e[e.LockManual2=19]="LockManual2",e[e.UnlockManual2=20]="UnlockManual2",e[e.LockSecured=21]="LockSecured",e[e.LockUnsecured=22]="LockUnsecured",e[e.UserCodeAdded=23]="UserCodeAdded",e[e.UserCodeDeleted=24]="UserCodeDeleted",e[e.AllUserCodesDeleted=25]="AllUserCodesDeleted",e[e.MasterCodeChanged=26]="MasterCodeChanged",e[e.UserCodeChanged=27]="UserCodeChanged",e[e.LockReset=28]="LockReset",e[e.ConfigurationChanged=29]="ConfigurationChanged",e[e.LowBattery=30]="LowBattery",e[e.NewBattery=31]="NewBattery",e[e.Unknown=32]="Unknown"})(Bb=c.DoorLockLoggingEventType||(c.DoorLockLoggingEventType={}));var wb;(function(e){e[e.Empty=0]="Empty",e[e.HoldsLegalData=1]="HoldsLegalData"})(wb=c.DoorLockLoggingRecordStatus||(c.DoorLockLoggingRecordStatus={}));var xb;(function(e){e[e.Notification=1]="Notification",e[e.KeySupportedGet=2]="KeySupportedGet",e[e.KeySupportedReport=3]="KeySupportedReport",e[e.EventSupportedGet=4]="EventSupportedGet",e[e.EventSupportedReport=5]="EventSupportedReport",e[e.ConfigurationSet=6]="ConfigurationSet",e[e.ConfigurationGet=7]="ConfigurationGet",e[e.ConfigurationReport=8]="ConfigurationReport"})(xb=c.EntryControlCommand||(c.EntryControlCommand={}));var _b;(function(e){e[e.None=0]="None",e[e.Raw=1]="Raw",e[e.ASCII=2]="ASCII",e[e.MD5=3]="MD5"})(_b=c.EntryControlDataTypes||(c.EntryControlDataTypes={}));var Cb;(function(e){e[e.MetaDataGet=1]="MetaDataGet",e[e.MetaDataReport=2]="MetaDataReport",e[e.RequestGet=3]="RequestGet",e[e.RequestReport=4]="RequestReport",e[e.Get=5]="Get",e[e.Report=6]="Report",e[e.StatusReport=7]="StatusReport",e[e.ActivationSet=8]="ActivationSet",e[e.ActivationReport=9]="ActivationReport",e[e.PrepareGet=10]="PrepareGet",e[e.PrepareReport=11]="PrepareReport"})(Cb=c.FirmwareUpdateMetaDataCommand||(c.FirmwareUpdateMetaDataCommand={}));var Nb;(function(e){e[e.Error_InvalidManufacturerOrFirmwareID=0]="Error_InvalidManufacturerOrFirmwareID",e[e.Error_AuthenticationExpected=1]="Error_AuthenticationExpected",e[e.Error_FragmentSizeTooLarge=2]="Error_FragmentSizeTooLarge",e[e.Error_NotUpgradable=3]="Error_NotUpgradable",e[e.Error_InvalidHardwareVersion=4]="Error_InvalidHardwareVersion",e[e.Error_FirmwareUpgradeInProgress=5]="Error_FirmwareUpgradeInProgress",e[e.Error_BatteryLow=6]="Error_BatteryLow",e[e.OK=255]="OK"})(Nb=c.FirmwareUpdateRequestStatus||(c.FirmwareUpdateRequestStatus={}));var Pb;(function(e){e[e.Error_Timeout=-1]="Error_Timeout",e[e.Error_Checksum=0]="Error_Checksum",e[e.Error_TransmissionFailed=1]="Error_TransmissionFailed",e[e.Error_InvalidManufacturerID=2]="Error_InvalidManufacturerID",e[e.Error_InvalidFirmwareID=3]="Error_InvalidFirmwareID",e[e.Error_InvalidFirmwareTarget=4]="Error_InvalidFirmwareTarget",e[e.Error_InvalidHeaderInformation=5]="Error_InvalidHeaderInformation",e[e.Error_InvalidHeaderFormat=6]="Error_InvalidHeaderFormat",e[e.Error_InsufficientMemory=7]="Error_InsufficientMemory",e[e.Error_InvalidHardwareVersion=8]="Error_InvalidHardwareVersion",e[e.OK_WaitingForActivation=253]="OK_WaitingForActivation",e[e.OK_NoRestart=254]="OK_NoRestart",e[e.OK_RestartPending=255]="OK_RestartPending"})(Pb=c.FirmwareUpdateStatus||(c.FirmwareUpdateStatus={}));var Rb;(function(e){e[e.Error_InvalidFirmware=0]="Error_InvalidFirmware",e[e.Error_ActivationFailed=1]="Error_ActivationFailed",e[e.OK=255]="OK"})(Rb=c.FirmwareUpdateActivationStatus||(c.FirmwareUpdateActivationStatus={}));var Ob;(function(e){e[e.Error_InvalidManufacturerOrFirmwareID=0]="Error_InvalidManufacturerOrFirmwareID",e[e.Error_AuthenticationExpected=1]="Error_AuthenticationExpected",e[e.Error_FragmentSizeTooLarge=2]="Error_FragmentSizeTooLarge",e[e.Error_NotDownloadable=3]="Error_NotDownloadable",e[e.Error_InvalidHardwareVersion=4]="Error_InvalidHardwareVersion",e[e.OK=255]="OK"})(Ob=c.FirmwareDownloadStatus||(c.FirmwareDownloadStatus={}));var Ib;(function(e){e[e.Hail=1]="Hail"})(Ib=c.HailCommand||(c.HailCommand={}));var Mb;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SupportedGet=4]="SupportedGet",e[e.SupportedReport=5]="SupportedReport"})(Mb=c.HumidityControlModeCommand||(c.HumidityControlModeCommand={}));var Db;(function(e){e[e.Off=0]="Off",e[e.Humidify=1]="Humidify",e[e["De-humidify"]=2]="De-humidify",e[e.Auto=3]="Auto"})(Db=c.HumidityControlMode||(c.HumidityControlMode={}));var Tb;(function(e){e[e.Get=1]="Get",e[e.Report=2]="Report"})(Tb=c.HumidityControlOperatingStateCommand||(c.HumidityControlOperatingStateCommand={}));var Ab;(function(e){e[e.Idle=0]="Idle",e[e.Humidifying=1]="Humidifying",e[e["De-humidifying"]=2]="De-humidifying"})(Ab=c.HumidityControlOperatingState||(c.HumidityControlOperatingState={}));var Fb;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SupportedGet=4]="SupportedGet",e[e.SupportedReport=5]="SupportedReport",e[e.ScaleSupportedGet=6]="ScaleSupportedGet",e[e.ScaleSupportedReport=7]="ScaleSupportedReport",e[e.CapabilitiesGet=8]="CapabilitiesGet",e[e.CapabilitiesReport=9]="CapabilitiesReport"})(Fb=c.HumidityControlSetpointCommand||(c.HumidityControlSetpointCommand={}));var Eb;(function(e){e[e["N/A"]=0]="N/A",e[e.Humidifier=1]="Humidifier",e[e["De-humidifier"]=2]="De-humidifier",e[e.Auto=3]="Auto"})(Eb=c.HumidityControlSetpointType||(c.HumidityControlSetpointType={}));var qb;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SupportedGet=4]="SupportedGet",e[e.SupportedReport=5]="SupportedReport"})(qb=c.IndicatorCommand||(c.IndicatorCommand={}));var Lb;(function(e){e[e.SystemInfoGet=1]="SystemInfoGet",e[e.SystemInfoReport=2]="SystemInfoReport",e[e.SystemStatusGet=3]="SystemStatusGet",e[e.SystemStatusReport=4]="SystemStatusReport",e[e.SystemConfigSet=5]="SystemConfigSet",e[e.SystemConfigGet=6]="SystemConfigGet",e[e.SystemConfigReport=7]="SystemConfigReport",e[e.ValveInfoGet=8]="ValveInfoGet",e[e.ValveInfoReport=9]="ValveInfoReport",e[e.ValveConfigSet=10]="ValveConfigSet",e[e.ValveConfigGet=11]="ValveConfigGet",e[e.ValveConfigReport=12]="ValveConfigReport",e[e.ValveRun=13]="ValveRun",e[e.ValveTableSet=14]="ValveTableSet",e[e.ValveTableGet=15]="ValveTableGet",e[e.ValveTableReport=16]="ValveTableReport",e[e.ValveTableRun=17]="ValveTableRun",e[e.SystemShutoff=18]="SystemShutoff"})(Lb=c.IrrigationCommand||(c.IrrigationCommand={}));var zb;(function(e){e[e.Low=0]="Low",e[e.High=1]="High"})(zb=c.IrrigationSensorPolarity||(c.IrrigationSensorPolarity={}));var jb;(function(e){e[e.ZoneValve=0]="ZoneValve",e[e.MasterValve=1]="MasterValve"})(jb=c.ValveType||(c.ValveType={}));var Hb;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report"})(Hb=c.LanguageCommand||(c.LanguageCommand={}));var Ub;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report"})(Ub=c.LockCommand||(c.LockCommand={}));var Kb;(function(e){e[e.Get=4]="Get",e[e.Report=5]="Report",e[e.DeviceSpecificGet=6]="DeviceSpecificGet",e[e.DeviceSpecificReport=7]="DeviceSpecificReport"})(Kb=c.ManufacturerSpecificCommand||(c.ManufacturerSpecificCommand={}));var $b;(function(e){e[e.FactoryDefault=0]="FactoryDefault",e[e.SerialNumber=1]="SerialNumber",e[e.PseudoRandom=2]="PseudoRandom"})($b=c.DeviceIdType||(c.DeviceIdType={}));var Vb;(function(e){e[e.Get=1]="Get",e[e.Report=2]="Report",e[e.SupportedGet=3]="SupportedGet",e[e.SupportedReport=4]="SupportedReport",e[e.Reset=5]="Reset"})(Vb=c.MeterCommand||(c.MeterCommand={}));var Xb;(function(e){e[e.Unspecified=0]="Unspecified",e[e.Consumed=1]="Consumed",e[e.Produced=2]="Produced"})(Xb=c.RateType||(c.RateType={}));var Gb;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.Remove=4]="Remove",e[e.SupportedGroupingsGet=5]="SupportedGroupingsGet",e[e.SupportedGroupingsReport=6]="SupportedGroupingsReport"})(Gb=c.MultiChannelAssociationCommand||(c.MultiChannelAssociationCommand={}));var Qb;(function(e){e[e.GetV1=4]="GetV1",e[e.ReportV1=5]="ReportV1",e[e.CommandEncapsulationV1=6]="CommandEncapsulationV1",e[e.EndPointGet=7]="EndPointGet",e[e.EndPointReport=8]="EndPointReport",e[e.CapabilityGet=9]="CapabilityGet",e[e.CapabilityReport=10]="CapabilityReport",e[e.EndPointFind=11]="EndPointFind",e[e.EndPointFindReport=12]="EndPointFindReport",e[e.CommandEncapsulation=13]="CommandEncapsulation",e[e.AggregatedMembersGet=14]="AggregatedMembersGet",e[e.AggregatedMembersReport=15]="AggregatedMembersReport"})(Qb=c.MultiChannelCommand||(c.MultiChannelCommand={}));var Wb;(function(e){e[e.CommandEncapsulation=1]="CommandEncapsulation"})(Wb=c.MultiCommandCommand||(c.MultiCommandCommand={}));var Yb;(function(e){e[e.GetSupportedSensor=1]="GetSupportedSensor",e[e.SupportedSensorReport=2]="SupportedSensorReport",e[e.GetSupportedScale=3]="GetSupportedScale",e[e.Get=4]="Get",e[e.Report=5]="Report",e[e.SupportedScaleReport=6]="SupportedScaleReport"})(Yb=c.MultilevelSensorCommand||(c.MultilevelSensorCommand={}));var Jb;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.StartLevelChange=4]="StartLevelChange",e[e.StopLevelChange=5]="StopLevelChange",e[e.SupportedGet=6]="SupportedGet",e[e.SupportedReport=7]="SupportedReport"})(Jb=c.MultilevelSwitchCommand||(c.MultilevelSwitchCommand={}));var Zb;(function(e){e[e.up=0]="up",e[e.down=1]="down"})(Zb=c.LevelChangeDirection||(c.LevelChangeDirection={}));var ek;(function(e){e[e["not supported"]=0]="not supported",e[e["Off/On"]=1]="Off/On",e[e["Down/Up"]=2]="Down/Up",e[e["Close/Open"]=3]="Close/Open",e[e["CCW/CW"]=4]="CCW/CW",e[e["Left/Right"]=5]="Left/Right",e[e["Reverse/Forward"]=6]="Reverse/Forward",e[e["Pull/Push"]=7]="Pull/Push"})(ek=c.SwitchType||(c.SwitchType={}));var tk;(function(e){e[e.NameSet=1]="NameSet",e[e.NameGet=2]="NameGet",e[e.NameReport=3]="NameReport",e[e.LocationSet=4]="LocationSet",e[e.LocationGet=5]="LocationGet",e[e.LocationReport=6]="LocationReport"})(tk=c.NodeNamingAndLocationCommand||(c.NodeNamingAndLocationCommand={}));var rk;(function(e){e[e.EventSupportedGet=1]="EventSupportedGet",e[e.EventSupportedReport=2]="EventSupportedReport",e[e.Get=4]="Get",e[e.Report=5]="Report",e[e.Set=6]="Set",e[e.SupportedGet=7]="SupportedGet",e[e.SupportedReport=8]="SupportedReport"})(rk=c.NotificationCommand||(c.NotificationCommand={}));var nk;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.TestNodeSet=4]="TestNodeSet",e[e.TestNodeGet=5]="TestNodeGet",e[e.TestNodeReport=6]="TestNodeReport"})(nk=c.PowerlevelCommand||(c.PowerlevelCommand={}));var ok;(function(e){e[e["Normal Power"]=0]="Normal Power",e[e["-1 dBm"]=1]="-1 dBm",e[e["-2 dBm"]=2]="-2 dBm",e[e["-3 dBm"]=3]="-3 dBm",e[e["-4 dBm"]=4]="-4 dBm",e[e["-5 dBm"]=5]="-5 dBm",e[e["-6 dBm"]=6]="-6 dBm",e[e["-7 dBm"]=7]="-7 dBm",e[e["-8 dBm"]=8]="-8 dBm",e[e["-9 dBm"]=9]="-9 dBm"})(ok=c.Powerlevel||(c.Powerlevel={}));var ik;(function(e){e[e.Failed=0]="Failed",e[e.Success=1]="Success",e[e["In Progress"]=2]="In Progress"})(ik=c.PowerlevelTestStatus||(c.PowerlevelTestStatus={}));var ak;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SupportedGet=4]="SupportedGet",e[e.SupportedReport=5]="SupportedReport",e[e.ExclusiveControlSet=6]="ExclusiveControlSet",e[e.ExclusiveControlGet=7]="ExclusiveControlGet",e[e.ExclusiveControlReport=8]="ExclusiveControlReport",e[e.TimeoutSet=9]="TimeoutSet",e[e.TimeoutGet=10]="TimeoutGet",e[e.TimeoutReport=11]="TimeoutReport"})(ak=c.ProtectionCommand||(c.ProtectionCommand={}));var sk;(function(e){e[e.Unprotected=0]="Unprotected",e[e.ProtectedBySequence=1]="ProtectedBySequence",e[e.NoOperationPossible=2]="NoOperationPossible"})(sk=c.LocalProtectionState||(c.LocalProtectionState={}));var lk;(function(e){e[e.Unprotected=0]="Unprotected",e[e.NoControl=1]="NoControl",e[e.NoResponse=2]="NoResponse"})(lk=c.RFProtectionState||(c.RFProtectionState={}));var ck;(function(e){e[e.Set=1]="Set"})(ck=c.SceneActivationCommand||(c.SceneActivationCommand={}));var uk;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report"})(uk=c.SceneActuatorConfigurationCommand||(c.SceneActuatorConfigurationCommand={}));var dk;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report"})(dk=c.SceneControllerConfigurationCommand||(c.SceneControllerConfigurationCommand={}));var fk;(function(e){e[e.NonceGet=1]="NonceGet",e[e.NonceReport=2]="NonceReport",e[e.MessageEncapsulation=3]="MessageEncapsulation",e[e.KEXGet=4]="KEXGet",e[e.KEXReport=5]="KEXReport",e[e.KEXSet=6]="KEXSet",e[e.KEXFail=7]="KEXFail",e[e.PublicKeyReport=8]="PublicKeyReport",e[e.NetworkKeyGet=9]="NetworkKeyGet",e[e.NetworkKeyReport=10]="NetworkKeyReport",e[e.NetworkKeyVerify=11]="NetworkKeyVerify",e[e.TransferEnd=12]="TransferEnd",e[e.CommandsSupportedGet=13]="CommandsSupportedGet",e[e.CommandsSupportedReport=14]="CommandsSupportedReport"})(fk=c.Security2Command||(c.Security2Command={}));var pk;(function(e){e[e.CommandsSupportedGet=2]="CommandsSupportedGet",e[e.CommandsSupportedReport=3]="CommandsSupportedReport",e[e.SchemeGet=4]="SchemeGet",e[e.SchemeReport=5]="SchemeReport",e[e.SchemeInherit=8]="SchemeInherit",e[e.NetworkKeySet=6]="NetworkKeySet",e[e.NetworkKeyVerify=7]="NetworkKeyVerify",e[e.NonceGet=64]="NonceGet",e[e.NonceReport=128]="NonceReport",e[e.CommandEncapsulation=129]="CommandEncapsulation",e[e.CommandEncapsulationNonceGet=193]="CommandEncapsulationNonceGet"})(pk=c.SecurityCommand||(c.SecurityCommand={}));var gk;(function(e){e[e.TonesNumberGet=1]="TonesNumberGet",e[e.TonesNumberReport=2]="TonesNumberReport",e[e.ToneInfoGet=3]="ToneInfoGet",e[e.ToneInfoReport=4]="ToneInfoReport",e[e.ConfigurationSet=5]="ConfigurationSet",e[e.ConfigurationGet=6]="ConfigurationGet",e[e.ConfigurationReport=7]="ConfigurationReport",e[e.TonePlaySet=8]="TonePlaySet",e[e.TonePlayGet=9]="TonePlayGet",e[e.TonePlayReport=10]="TonePlayReport"})(gk=c.SoundSwitchCommand||(c.SoundSwitchCommand={}));var mk;(function(e){e[e.Off=0]="Off",e[e.Default=255]="Default"})(mk=c.ToneId||(c.ToneId={}));var hk;(function(e){e[e.Get=1]="Get",e[e.Report=2]="Report"})(hk=c.SupervisionCommand||(c.SupervisionCommand={}));var yk;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SupportedGet=4]="SupportedGet",e[e.SupportedReport=5]="SupportedReport"})(yk=c.ThermostatFanModeCommand||(c.ThermostatFanModeCommand={}));var vk;(function(e){e[e["Auto low"]=0]="Auto low",e[e.Low=1]="Low",e[e["Auto high"]=2]="Auto high",e[e.High=3]="High",e[e["Auto medium"]=4]="Auto medium",e[e.Medium=5]="Medium",e[e.Circulation=6]="Circulation",e[e["Humidity circulation"]=7]="Humidity circulation",e[e["Left and right"]=8]="Left and right",e[e["Up and down"]=9]="Up and down",e[e.Quiet=10]="Quiet",e[e["External circulation"]=11]="External circulation"})(vk=c.ThermostatFanMode||(c.ThermostatFanMode={}));var bk;(function(e){e[e.Get=2]="Get",e[e.Report=3]="Report"})(bk=c.ThermostatFanStateCommand||(c.ThermostatFanStateCommand={}));var kk;(function(e){e[e["Idle / off"]=0]="Idle / off",e[e["Running / running low"]=1]="Running / running low",e[e["Running high"]=2]="Running high",e[e["Running medium"]=3]="Running medium",e[e["Circulation mode"]=4]="Circulation mode",e[e["Humidity circulation mode"]=5]="Humidity circulation mode",e[e["Right - left circulation mode"]=6]="Right - left circulation mode",e[e["Up - down circulation mode"]=7]="Up - down circulation mode",e[e["Quiet circulation mode"]=8]="Quiet circulation mode"})(kk=c.ThermostatFanState||(c.ThermostatFanState={}));var Sk;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SupportedGet=4]="SupportedGet",e[e.SupportedReport=5]="SupportedReport"})(Sk=c.ThermostatModeCommand||(c.ThermostatModeCommand={}));var Bk;(function(e){e[e.Off=0]="Off",e[e.Heat=1]="Heat",e[e.Cool=2]="Cool",e[e.Auto=3]="Auto",e[e.Auxiliary=4]="Auxiliary",e[e["Resume (on)"]=5]="Resume (on)",e[e.Fan=6]="Fan",e[e.Furnace=7]="Furnace",e[e.Dry=8]="Dry",e[e.Moist=9]="Moist",e[e["Auto changeover"]=10]="Auto changeover",e[e["Energy heat"]=11]="Energy heat",e[e["Energy cool"]=12]="Energy cool",e[e.Away=13]="Away",e[e["Full power"]=15]="Full power",e[e["Manufacturer specific"]=31]="Manufacturer specific"})(Bk=c.ThermostatMode||(c.ThermostatMode={}));var wk;(function(e){e[e.Get=2]="Get",e[e.Report=3]="Report"})(wk=c.ThermostatOperatingStateCommand||(c.ThermostatOperatingStateCommand={}));var xk;(function(e){e[e.Idle=0]="Idle",e[e.Heating=1]="Heating",e[e.Cooling=2]="Cooling",e[e["Fan Only"]=3]="Fan Only",e[e["Pending Heat"]=4]="Pending Heat",e[e["Pending Cool"]=5]="Pending Cool",e[e["Vent/Economizer"]=6]="Vent/Economizer",e[e["Aux Heating"]=7]="Aux Heating",e[e["2nd Stage Heating"]=8]="2nd Stage Heating",e[e["2nd Stage Cooling"]=9]="2nd Stage Cooling",e[e["2nd Stage Aux Heat"]=10]="2nd Stage Aux Heat",e[e["3rd Stage Aux Heat"]=11]="3rd Stage Aux Heat"})(xk=c.ThermostatOperatingState||(c.ThermostatOperatingState={}));var _k;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report"})(_k=c.ThermostatSetbackCommand||(c.ThermostatSetbackCommand={}));var Ck;(function(e){e[e.None=0]="None",e[e.Temporary=1]="Temporary",e[e.Permanent=2]="Permanent"})(Ck=c.SetbackType||(c.SetbackType={}));var Nk;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.SupportedGet=4]="SupportedGet",e[e.SupportedReport=5]="SupportedReport",e[e.CapabilitiesGet=9]="CapabilitiesGet",e[e.CapabilitiesReport=10]="CapabilitiesReport"})(Nk=c.ThermostatSetpointCommand||(c.ThermostatSetpointCommand={}));var Pk;(function(e){e[e["N/A"]=0]="N/A",e[e.Heating=1]="Heating",e[e.Cooling=2]="Cooling",e[e.Furnace=7]="Furnace",e[e["Dry Air"]=8]="Dry Air",e[e["Moist Air"]=9]="Moist Air",e[e["Auto Changeover"]=10]="Auto Changeover",e[e["Energy Save Heating"]=11]="Energy Save Heating",e[e["Energy Save Cooling"]=12]="Energy Save Cooling",e[e["Away Heating"]=13]="Away Heating",e[e["Away Cooling"]=14]="Away Cooling",e[e["Full Power"]=15]="Full Power"})(Pk=c.ThermostatSetpointType||(c.ThermostatSetpointType={}));var Rk;(function(e){e[e.TimeGet=1]="TimeGet",e[e.TimeReport=2]="TimeReport",e[e.DateGet=3]="DateGet",e[e.DateReport=4]="DateReport",e[e.TimeOffsetSet=5]="TimeOffsetSet",e[e.TimeOffsetGet=6]="TimeOffsetGet",e[e.TimeOffsetReport=7]="TimeOffsetReport"})(Rk=c.TimeCommand||(c.TimeCommand={}));var Ok;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report"})(Ok=c.TimeParametersCommand||(c.TimeParametersCommand={}));var Ik;(function(e){e[e.FirstSegment=192]="FirstSegment",e[e.SegmentComplete=232]="SegmentComplete",e[e.SegmentRequest=200]="SegmentRequest",e[e.SegmentWait=240]="SegmentWait",e[e.SubsequentSegment=224]="SubsequentSegment"})(Ik=c.TransportServiceCommand||(c.TransportServiceCommand={}));var Mk;(function(e){e[e.Set=1]="Set",e[e.Get=2]="Get",e[e.Report=3]="Report",e[e.UsersNumberGet=4]="UsersNumberGet",e[e.UsersNumberReport=5]="UsersNumberReport",e[e.CapabilitiesGet=6]="CapabilitiesGet",e[e.CapabilitiesReport=7]="CapabilitiesReport",e[e.KeypadModeSet=8]="KeypadModeSet",e[e.KeypadModeGet=9]="KeypadModeGet",e[e.KeypadModeReport=10]="KeypadModeReport",e[e.ExtendedUserCodeSet=11]="ExtendedUserCodeSet",e[e.ExtendedUserCodeGet=12]="ExtendedUserCodeGet",e[e.ExtendedUserCodeReport=13]="ExtendedUserCodeReport",e[e.MasterCodeSet=14]="MasterCodeSet",e[e.MasterCodeGet=15]="MasterCodeGet",e[e.MasterCodeReport=16]="MasterCodeReport",e[e.UserCodeChecksumGet=17]="UserCodeChecksumGet",e[e.UserCodeChecksumReport=18]="UserCodeChecksumReport"})(Mk=c.UserCodeCommand||(c.UserCodeCommand={}));var Dk;(function(e){e[e.Available=0]="Available",e[e.Enabled=1]="Enabled",e[e.Disabled=2]="Disabled",e[e.Messaging=3]="Messaging",e[e.PassageMode=4]="PassageMode",e[e.StatusNotAvailable=254]="StatusNotAvailable"})(Dk=c.UserIDStatus||(c.UserIDStatus={}));var Tk;(function(e){e[e.Normal=0]="Normal",e[e.Vacation=1]="Vacation",e[e.Privacy=2]="Privacy",e[e.LockedOut=3]="LockedOut"})(Tk=c.KeypadMode||(c.KeypadMode={}));var Ak;(function(e){e[e.Get=17]="Get",e[e.Report=18]="Report",e[e.CommandClassGet=19]="CommandClassGet",e[e.CommandClassReport=20]="CommandClassReport",e[e.CapabilitiesGet=21]="CapabilitiesGet",e[e.CapabilitiesReport=22]="CapabilitiesReport",e[e.ZWaveSoftwareGet=23]="ZWaveSoftwareGet",e[e.ZWaveSoftwareReport=24]="ZWaveSoftwareReport"})(Ak=c.VersionCommand||(c.VersionCommand={}));var Fk;(function(e){e[e.IntervalSet=4]="IntervalSet",e[e.IntervalGet=5]="IntervalGet",e[e.IntervalReport=6]="IntervalReport",e[e.WakeUpNotification=7]="WakeUpNotification",e[e.NoMoreInformation=8]="NoMoreInformation",e[e.IntervalCapabilitiesGet=9]="IntervalCapabilitiesGet",e[e.IntervalCapabilitiesReport=10]="IntervalCapabilitiesReport"})(Fk=c.WakeUpCommand||(c.WakeUpCommand={}));var Ek;(function(e){e[e.Get=1]="Get",e[e.Report=2]="Report"})(Ek=c.ZWavePlusCommand||(c.ZWavePlusCommand={}));var qk;(function(e){e[e.CentralStaticController=0]="CentralStaticController",e[e.SubStaticController=1]="SubStaticController",e[e.PortableController=2]="PortableController",e[e.PortableReportingController=3]="PortableReportingController",e[e.PortableSlave=4]="PortableSlave",e[e.AlwaysOnSlave=5]="AlwaysOnSlave",e[e.SleepingReportingSlave=6]="SleepingReportingSlave",e[e.SleepingListeningSlave=7]="SleepingListeningSlave",e[e.NetworkAwareSlave=8]="NetworkAwareSlave"})(qk=c.ZWavePlusRoleType||(c.ZWavePlusRoleType={}));var Lk;(function(e){e[e.Node=0]="Node",e[e.IPGateway=2]="IPGateway"})(Lk=c.ZWavePlusNodeType||(c.ZWavePlusNodeType={}));var zk;(function(e){e[e.NodeInformationFrame=1]="NodeInformationFrame",e[e.RequestNodeInformationFrame=2]="RequestNodeInformationFrame",e[e.AssignIDs=3]="AssignIDs",e[e.FindNodesInRange=4]="FindNodesInRange",e[e.GetNodesInRange=5]="GetNodesInRange",e[e.RangeInfo=6]="RangeInfo",e[e.CommandComplete=7]="CommandComplete",e[e.TransferPresentation=8]="TransferPresentation",e[e.TransferNodeInformation=9]="TransferNodeInformation",e[e.TransferRangeInformation=10]="TransferRangeInformation",e[e.TransferEnd=11]="TransferEnd",e[e.AssignReturnRoute=12]="AssignReturnRoute",e[e.NewNodeRegistered=13]="NewNodeRegistered",e[e.NewRangeRegistered=14]="NewRangeRegistered",e[e.TransferNewPrimaryControllerComplete=15]="TransferNewPrimaryControllerComplete",e[e.AutomaticControllerUpdateStart=16]="AutomaticControllerUpdateStart",e[e.SUCNodeID=17]="SUCNodeID",e[e.SetSUC=18]="SetSUC",e[e.SetSUCAck=19]="SetSUCAck",e[e.AssignSUCReturnRoute=20]="AssignSUCReturnRoute",e[e.StaticRouteRequest=21]="StaticRouteRequest",e[e.Lost=22]="Lost",e[e.AcceptLost=23]="AcceptLost",e[e.NOPPower=24]="NOPPower",e[e.ReserveNodeIDs=25]="ReserveNodeIDs",e[e.ReservedIDs=26]="ReservedIDs",e[e.NodesExist=31]="NodesExist",e[e.NodesExistReply=32]="NodesExistReply",e[e.SetNWIMode=34]="SetNWIMode",e[e.ExcludeRequest=35]="ExcludeRequest",e[e.AssignReturnRoutePriority=36]="AssignReturnRoutePriority",e[e.AssignSUCReturnRoutePriority=37]="AssignSUCReturnRoutePriority",e[e.SmartStartIncludedNodeInformation=38]="SmartStartIncludedNodeInformation",e[e.SmartStartPrime=39]="SmartStartPrime",e[e.SmartStartInclusionRequest=40]="SmartStartInclusionRequest"})(zk=c.ZWaveProtocolCommand||(c.ZWaveProtocolCommand={}));var lp;(function(e){e[e.None=0]="None",e[e["1000ms"]=1]="1000ms",e[e["250ms"]=2]="250ms"})(lp=c.WakeUpTime||(c.WakeUpTime={}));function jk(e){return e==="1000ms"?1:e==="250ms"?2:0}c.FLiRS2WakeUpTime=jk;function Hk(e){return e===1?"1000ms":e===2?"250ms":!1}c.wakeUpTime2FLiRS=Hk;function Uk(e){return e===1e5?Sn.ZWaveDataRate["100k"]:e===4e4?Sn.ZWaveDataRate["40k"]:Sn.ZWaveDataRate["9k6"]}c.dataRate2ZWaveDataRate=Uk;function Kk(e){return e===Sn.ZWaveDataRate["100k"]?1e5:e===Sn.ZWaveDataRate["40k"]?4e4:9600}c.ZWaveDataRate2DataRate=Kk;function $k(e){return e<=lp["250ms"]?e:0}c.parseWakeUpTime=$k;var Vk;(function(e){e[e.Failed=0]="Failed",e[e.Success=1]="Success",e[e.UpdateDone=2]="UpdateDone",e[e.UpdateAborted=3]="UpdateAborted",e[e.UpdateWait=4]="UpdateWait",e[e.UpdateDisabled=5]="UpdateDisabled",e[e.UpdateOverflow=6]="UpdateOverflow"})(Vk=c.NetworkTransferStatus||(c.NetworkTransferStatus={}))});var up=D(ar=>{"use strict";var Xk=ar&&ar.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gk=ar&&ar.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xk(t,e,r)};Object.defineProperty(ar,"__esModule",{value:!0});Gk(cp(),ar)});var gp=D(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.formatRouteHealthCheckSummary=we.formatRouteHealthCheckRound=we.formatLifelineHealthCheckSummary=we.formatLifelineHealthCheckRound=we.healthCheckRatingToWord=we.healthCheckTestFrameCount=void 0;var Za=up(),es=or(),dp=Ot();we.healthCheckTestFrameCount=10;function Bn(e){return e>=10?"perfect":e>=6?"good":e>=4?"acceptable":e>=1?"bad":"dead"}we.healthCheckRatingToWord=Bn;function fp(e,t,r){return[`\xB7 round ${(0,dp.padStart)(e.toString(),Math.floor(Math.log10(t)+1)," ")} - rating: ${r.rating} (${Bn(r.rating)})`,`  failed pings \u2192 node:             ${r.failedPingsNode}/${we.healthCheckTestFrameCount}`,`  max. latency:                    ${r.latency.toFixed(1)} ms`,r.routeChanges!=null?`  route changes:                   ${r.routeChanges}`:"",r.snrMargin!=null?`  SNR margin:                      ${r.snrMargin} dBm`:"",r.failedPingsController!=null?`  failed pings \u2192 controller:       ${r.failedPingsController}/${we.healthCheckTestFrameCount} at normal power`:r.minPowerlevel!=null?`  min. node powerlevel w/o errors: ${(0,es.getEnumMemberName)(Za.Powerlevel,r.minPowerlevel)}`:""].filter(o=>!!o).join(`
`)}we.formatLifelineHealthCheckRound=fp;function Qk(e){return`
rating:                   ${e.rating} (${Bn(e.rating)})
no. of routing neighbors: ${e.results[e.results.length-1].numNeighbors}
 
Check rounds:
${e.results.map((t,r)=>fp(r+1,e.results.length,t)).join(`
 
`)}`.trim()}we.formatLifelineHealthCheckSummary=Qk;function pp(e,t,r,n,o){return[`\xB7 round ${(0,dp.padStart)(r.toString(),Math.floor(Math.log10(n)+1)," ")} - rating: ${o.rating} (${Bn(o.rating)})`,o.failedPingsToTarget!=null?`  failed pings ${e} \u2192 ${t}:      ${o.failedPingsToTarget}/${we.healthCheckTestFrameCount}`:o.minPowerlevelSource!=null?`  Node ${e} min. powerlevel w/o errors: ${(0,es.getEnumMemberName)(Za.Powerlevel,o.minPowerlevelSource)}`:"",o.failedPingsToSource!=null?`  failed pings ${t} \u2192 ${e}:      ${o.failedPingsToSource}/${we.healthCheckTestFrameCount}`:o.minPowerlevelTarget!=null?`  Node ${t} min. powerlevel w/o errors: ${(0,es.getEnumMemberName)(Za.Powerlevel,o.minPowerlevelTarget)}`:""].filter(a=>!!a).join(`
`)}we.formatRouteHealthCheckRound=pp;function Wk(e,t,r){return`
rating:                   ${r.rating} (${Bn(r.rating)})
no. of routing neighbors: ${r.results[r.results.length-1].numNeighbors}
 
Check rounds:
${r.results.map((n,o)=>pp(e,t,o+1,r.results.length,n)).join(`
 
`)}`.trim()}we.formatRouteHealthCheckSummary=Wk});var mp=D(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.healthCheckRatingToWord=Y.formatRouteHealthCheckSummary=Y.formatRouteHealthCheckRound=Y.formatLifelineHealthCheckSummary=Y.formatLifelineHealthCheckRound=Y.num2hex=Y.getEnumMemberName=Y.formatId=Y.buffer2hex=Y.rssiToString=Y.RouteProtocolDataRate=Y.ProtocolVersion=Y.ProtocolType=Y.Protocols=Y.protocolDataRateToString=Y.ProtocolDataRate=void 0;var sr=lt();Object.defineProperty(Y,"ProtocolDataRate",{enumerable:!0,get:function(){return sr.ProtocolDataRate}});Object.defineProperty(Y,"protocolDataRateToString",{enumerable:!0,get:function(){return sr.protocolDataRateToString}});Object.defineProperty(Y,"Protocols",{enumerable:!0,get:function(){return sr.Protocols}});Object.defineProperty(Y,"ProtocolType",{enumerable:!0,get:function(){return sr.ProtocolType}});Object.defineProperty(Y,"ProtocolVersion",{enumerable:!0,get:function(){return sr.ProtocolVersion}});Object.defineProperty(Y,"RouteProtocolDataRate",{enumerable:!0,get:function(){return sr.RouteProtocolDataRate}});Object.defineProperty(Y,"rssiToString",{enumerable:!0,get:function(){return sr.rssiToString}});var ui=or();Object.defineProperty(Y,"buffer2hex",{enumerable:!0,get:function(){return ui.buffer2hex}});Object.defineProperty(Y,"formatId",{enumerable:!0,get:function(){return ui.formatId}});Object.defineProperty(Y,"getEnumMemberName",{enumerable:!0,get:function(){return ui.getEnumMemberName}});Object.defineProperty(Y,"num2hex",{enumerable:!0,get:function(){return ui.num2hex}});var wn=gp();Object.defineProperty(Y,"formatLifelineHealthCheckRound",{enumerable:!0,get:function(){return wn.formatLifelineHealthCheckRound}});Object.defineProperty(Y,"formatLifelineHealthCheckSummary",{enumerable:!0,get:function(){return wn.formatLifelineHealthCheckSummary}});Object.defineProperty(Y,"formatRouteHealthCheckRound",{enumerable:!0,get:function(){return wn.formatRouteHealthCheckRound}});Object.defineProperty(Y,"formatRouteHealthCheckSummary",{enumerable:!0,get:function(){return wn.formatRouteHealthCheckSummary}});Object.defineProperty(Y,"healthCheckRatingToWord",{enumerable:!0,get:function(){return wn.healthCheckRatingToWord}})});var yp=D(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.ValueMetadata=Fr.Duration=void 0;var hp=lt();Object.defineProperty(Fr,"Duration",{enumerable:!0,get:function(){return hp.Duration}});Object.defineProperty(Fr,"ValueMetadata",{enumerable:!0,get:function(){return hp.ValueMetadata}})});var ts=D(Ze=>{"use strict";var Yk=Ze&&Ze.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xn=Ze&&Ze.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Yk(t,e,r)};Object.defineProperty(Ze,"__esModule",{value:!0});xn(ep(),Ze);xn(rp(),Ze);xn(sp(),Ze);xn(mp(),Ze);xn(yp(),Ze)});var xp=D(pi=>{"use strict";var Zk=ue(),eS=de();Object.defineProperty(pi,"__esModule",{value:!0});pi.default=void 0;var tS=eS(E()),rS=Zk(fe()),nS=(0,rS.default)(tS.createElement("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto");pi.default=nS});var X=y(E()),Ap=y(Fp());var Oi=y(E()),ag=U(e=>({tabpanel:{flex:1,position:"relative","& > *":{width:"100%",height:"100%"}}})),Vt=e=>{let{children:t,value:r,index:n,...o}=e,i=ag();return Oi.default.createElement("div",{className:i.tabpanel,role:"tabpanel",hidden:r!==n,...o},r===n&&Oi.default.createElement(ys,{p:3},t))};var Xt=y(E());var Hs=y(Ot()),se=y(E());var Z=y(E()),Ps=y(Ot());var Dn=y(Hp()),Cs=y(Up()),Ns=y(Kp()),mr=y(E()),sg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},Dt=e=>{let{options:t,selectedOption:r,noOptionsMessage:n,placeholder:o}=e,i=sg(e,["options","selectedOption","noOptionsMessage","placeholder"]),s=!(!!t&&t.length)&&!!n,l;return t!=null&&t.length&&(l=r),mr.createElement(Ns.default,Object.assign({value:l!=null?l:"",displayEmpty:!0,input:mr.createElement(Cs.default,{labelWidth:0}),margin:"dense"},i),mr.createElement(Dn.default,{value:"",disabled:!0},o!=null?o:""),t&&t.length&&t.map(({value:u,label:f})=>mr.createElement(Dn.default,{key:u,value:u},f)),s&&mr.createElement(Dn.default,{key:"__empty",value:"__empty",disabled:!0},n))};var En=y(pt()),qn=y(dt()),Rs=y(Pn()),Os=y(Ri()),Is=y(An()),Ms=y(jr());var vg=U(e=>({dropdown:{width:"100%"}})),Hr=gs(z)(({theme:e})=>({padding:e.spacing(1)})),Ii=e=>{let{translate:t}=L(),[r,n]=Z.default.useState(e.sourceEndpoint),[o,i]=Z.default.useState(e.group),[a,s]=Z.default.useState(e.nodeId),[l,u]=Z.default.useState(e.endpoint),[f,d]=Z.default.useState(!1),[m,h]=Z.default.useState(!1),[x,S]=Z.default.useState(!1),p=r!=null&&e.groups.get(r)||[];Z.default.useEffect(()=>{var T;h(r!==e.sourceEndpoint||o!==e.group||a!==e.nodeId||l!==e.endpoint);let _=!!p.find(ne=>ne.group===o),O=e.nodes.find(ne=>ne.nodeId===a),A=(T=O==null?void 0:O.endpointIndizes)!=null?T:[];d(_&&!!O&&(l==null||l===0||A.includes(l)))},[o,p,a,l]);let g=p.map(({group:_,label:O})=>({value:_,label:`${t("Group")} ${_}: ${O}`})),B=e.nodes.map(({nodeId:_})=>({value:_,label:`${t("Node")} ${(0,Ps.padStart)(_.toString(),3,"0")}`})),k=Z.default.useMemo(()=>{let _=[{value:0,label:t("Root device")}];for(let O of e.endpoints)O!==0&&_.push({value:O,label:`${t("Endpoint")} ${O}`});return _},[e.endpoints]),v=Z.default.useMemo(()=>{var A,T,ne;let _=(T=(A=e.nodes.find(xe=>xe.nodeId===a))==null?void 0:A.endpointIndizes)!=null?T:[];if(_.includes(0)||_.unshift(0),!!((ne=p.find(xe=>xe.group===o))!=null&&ne.multiChannel)){let xe=[{value:"none",label:t("Root device")}];for(let et of _)xe.push({value:et,label:et===0?t("Root endpoint"):`${t("Endpoint")} ${et}`});return xe}else return[]},[e.nodes,p,o,a]),R=e.sourceEndpoint==null&&e.group==null&&e.nodeId==null&&e.endpoint==null;async function M(){try{S(!0),await e.save(r,o,a,l),R&&I()}catch(_){alert(t("The association could not be saved!")),console.error(`The association could not be saved! Reason: ${Fe(_)}`),I()}finally{S(!1)}}function I(){n(e.sourceEndpoint),i(e.group),s(e.nodeId),u(e.endpoint)}async function P(){if(!!e.delete)try{S(!0),await e.delete()}catch(_){alert(t("The association could not be deleted!")),console.error(`The association could not be deleted! Reason: ${Fe(_)}`),I()}finally{S(!1)}}let F=p.find(_=>_.group===o),w=p.some(_=>_.multiChannel),N=vg();return Z.default.createElement(he,null,Z.default.createElement(Hr,null,Z.default.createElement(Dt,{className:N.dropdown,options:k,selectedOption:r!=null?r:"",placeholder:t("- select endpoint -"),onChange:_=>{n(_.target.value)}})),Z.default.createElement(Hr,null,Z.default.createElement(Dt,{className:N.dropdown,options:g,selectedOption:o,placeholder:t("- select group -"),onChange:_=>{i(_.target.value)}})),Z.default.createElement(Hr,null,Z.default.createElement(Dt,{className:N.dropdown,options:B,selectedOption:a,placeholder:t("- select node -"),onChange:_=>{s(_.target.value)}})),e.supportsMultiChannel&&Z.default.createElement(Hr,null,(F==null?void 0:F.multiChannel)&&w&&Z.default.createElement(Dt,{className:N.dropdown,options:v,selectedOption:l!=null?l:"none",placeholder:t("- select endpoint -"),onChange:_=>{let O=_.target.value;u(O==="none"?void 0:O)}})),Z.default.createElement(Hr,null,Z.default.createElement(_t,{variant:"contained",color:"primary",style:{flex:"1 0 auto"}},Z.default.createElement(En.default,{title:t("Save association")},Z.default.createElement(qn.default,{disabled:x||!f||!m,onClick:()=>M()},R?Z.default.createElement(Rs.default,null):Z.default.createElement(Os.default,null))),Z.default.createElement(En.default,{title:t("Undo changes")},Z.default.createElement(qn.default,{disabled:x||!m,onClick:()=>I()},Z.default.createElement(Is.default,null))),!R&&Z.default.createElement(En.default,{title:t("Delete association")},Z.default.createElement(qn.default,{disabled:x,onClick:()=>P()},Z.default.createElement(Ms.default,null))))))};var gt=y(E());var Ur=y(pt());var As=y(Vp()),Fs=y(Ds()),Es=y(Ts()),qs=y(Mi()),Tg=U(e=>({deviceIconAlive:{color:He[800]},deviceIconAsleep:{color:cs[500]},deviceIconDead:{color:wt[900]}})),Hn=e=>{let{status:t}=e,{translate:r}=L(),n=Tg(),o=r(t!=null?t:"unknown");switch(t){case"alive":case"awake":return gt.default.createElement(Ur.default,{title:o},gt.default.createElement(As.default,{className:n.deviceIconAlive}));case"asleep":return gt.default.createElement(Ur.default,{title:o},gt.default.createElement(qs.default,{className:n.deviceIconAsleep}));case"dead":return gt.default.createElement(Ur.default,{title:o},gt.default.createElement(Fs.default,{className:n.deviceIconDead}));default:return gt.default.createElement(Ur.default,{title:o},gt.default.createElement(Es.default,null))}};var Kr=y(E());var Ls=y(ft()),$r=e=>Kr.default.createElement(Ls.default,{variant:"body1",style:{textAlign:"center"}},e.children),Tt=()=>{let{translate:e}=L();return Kr.default.createElement($r,null,e("adapter not ready"))},zs=()=>{let{translate:e}=L();return Kr.default.createElement($r,null,e("No devices present"))},js=()=>{let{translate:e}=L();return Kr.default.createElement($r,null,e("Node is not ready"))};var Us=y(Lr());var Di=y(ft()),Ti=U(e=>({headline:{backgroundColor:e.palette.background.default,margin:e.spacing(-2),marginBottom:e.spacing(2),borderBottom:`1px solid ${e.palette.divider}`,padding:e.spacing(2)},table:{marginTop:e.spacing(-2)},nodeNumber:{"& > *":{verticalAlign:"middle"}},paper:{padding:e.spacing(2),backgroundColor:e.palette.background.paper,marginTop:e.spacing(4),"&:first-child":{margin:0}}}));function Ag(e){let{translate:t}=L(),{value:r,status:n}=e.device,o=r.native.id,i=r.common.name&&!r.common.name.startsWith("Node")?r.common.name:void 0,a=Ti();return se.default.createElement("div",{className:a.headline},se.default.createElement(Di.default,{variant:"h5",component:"h2",className:a.nodeNumber},se.default.createElement("span",null,t("Node")," ",(0,Hs.padStart)(o.toString(),3,"0")),"\xA0",se.default.createElement(Hn,{status:n})),i&&se.default.createElement(Di.default,{variant:"h6",component:"h3"},i))}function Fg(e){let{translate:t}=L(),{endpoints:r,value:n}=e.device,o=n.native.id,{sourceEndpoints:i,groups:a,supportsMultiChannel:s,hasAssociations:l,associations:u}=se.default.useMemo(()=>{let d=[],m=!1,h=!1,x=new Map,S=[];if(r){for(let[p,g]of r)g.associationGroups?(h||(h=Object.values(g.associationGroups).some(B=>!!B.multiChannel)),x.set(p,Object.entries(g.associationGroups).map(([B,k])=>({group:parseInt(B),...k})))):x.set(p,[]),g.associations&&(d.push(...Object.entries(g.associations).map(([B,k])=>k.map(v=>({sourceEndpoint:p,group:parseInt(B),...v}))).reduce((B,k)=>[...B,...k],[]).sort((B,k)=>{var v,R;return B.group-k.group||B.nodeId-k.nodeId||((v=B.endpoint)!=null?v:-1)-((R=k.endpoint)!=null?R:-1)})),m||(m=Object.keys(g.associations).length>0));h&&S.push(0),S.push(...r.keys())}return{sourceEndpoints:S,groups:x,supportsMultiChannel:h,hasAssociations:m,associations:d}},[r]),f=Ti();return se.default.createElement(Ct,{className:f.table},se.default.createElement(Pt,null,se.default.createElement(he,null,se.default.createElement(z,null,t("Source endpoint")),se.default.createElement(z,null,t("Group")),se.default.createElement(z,null,t("Target node")),s&&se.default.createElement(z,null,t("Target endpoint")),se.default.createElement(z,null,"\xA0"))),se.default.createElement(Nt,null,l?u.map(d=>{var m,h,x;return se.default.createElement(Ii,{key:`from${o}${(m=d.sourceEndpoint)!=null?m:-1}-to${d.group}-${d.nodeId}-${(h=d.endpoint)!=null?h:-1}`,endpoints:i!=null?i:[],groups:a,nodes:e.nodes.filter(S=>S.nodeId!==o),sourceEndpoint:(x=d.sourceEndpoint)!=null?x:0,group:d.group,nodeId:d.nodeId,endpoint:d.endpoint,supportsMultiChannel:s,save:(S,p,g,B)=>e.saveAssociation(o,d,{sourceEndpoint:S,group:p,nodeId:g,endpoint:B}),delete:()=>e.deleteAssociation(o,d)})}):se.default.createElement(se.default.Fragment,null),se.default.createElement(Ii,{endpoints:i!=null?i:[],groups:a,nodes:e.nodes.filter(d=>d.nodeId!==o),sourceEndpoint:void 0,group:void 0,nodeId:void 0,supportsMultiChannel:s,save:(d,m,h,x)=>e.saveAssociation(o,void 0,{sourceEndpoint:d,group:m,nodeId:h,endpoint:x})})))}var Ks=e=>{let{ready:t,endpoints:r}=e.device,n=!!r&&[...r.values()].some(i=>!!i.associationGroups),o=Ti();return t&&!n?se.default.createElement(se.default.Fragment,null):se.default.createElement(Us.default,{className:o.paper,elevation:2},se.default.createElement(Ag,{device:e.device}),t?se.default.createElement(Fg,{...e}):se.default.createElement(js,null))};var $s=y(zr()),Vs=e=>{let{alive:t,connected:r}=Mt(),n=Ee(),{devices:o,updateDevices:i}=e;async function a(d,m,h){m&&await s(d,m),await n.addAssociation(d,h),await i()}async function s(d,m){await n.removeAssociation(d,m),await i()}let l=o?Object.values(o).filter(Boolean):[],u=l.map(d=>({nodeId:d.value.native.id,endpointIndizes:d.value.native.endpointIndizes})),f=l.filter(d=>!d.value.native.isControllerNode);return!t||!r?Xt.default.createElement(Tt,null):o?f.length?Xt.default.createElement(Xt.default.Fragment,null,f.map((d,m)=>Xt.default.createElement(Ks,{key:m,device:d,nodes:u,saveAssociation:a,deleteAssociation:s}))):Xt.default.createElement(zs,null):Xt.default.createElement($s.default,null)};var Xc=y(zr());var be=y(E());var $n=y(dt()),At=y(E()),Qs=y(Pn()),Ws=y(Xs()),Ys=y(Gs());var Js=y(Ue());var Xg=U(e=>({root:{display:"flex",flexDirection:"row",gap:e.spacing(1)},redButton:{background:e.palette.error.main,"&:hover":{background:e.palette.error.dark}}})),Zs=e=>{let{translate:t}=L(),r=Xg();return At.default.createElement("div",{className:r.root},At.default.createElement($n.default,{variant:"contained",color:e.state===1?"secondary":"primary",startIcon:At.default.createElement(Qs.default,null),disabled:e.state!==0&&e.state!==1,onClick:e.beginInclusion},e.state!==1?t("Include device"):t("Inclusion active")),At.default.createElement($n.default,{variant:"contained",color:e.state===2?"secondary":"primary",startIcon:At.default.createElement(Ws.default,null),disabled:e.state!==0&&e.state!==2,onClick:e.beginExclusion},e.state!==2?t("Exclude device"):t("Exclusion active")),At.default.createElement($n.default,{variant:"contained",color:"primary",className:(0,Js.default)(e.state===3&&r.redButton),startIcon:At.default.createElement(Ys.default,null),disabled:e.state!==0&&e.state!==3,onClick:e.state!==3?e.healNetwork:e.cancelHealing},e.state!==3?t("Heal network"):t("Cancel healing")))};var rc=y(Lr());var Re=y(E());var Wl=y(ks());var Yl=y(pt()),Jl=y(el()),Zl=y(tl()),ec=y(rl());var ee=y(E());var Vr=y(dt());var ye=y(E());var cl=y(jr()),ul=y(Ai()),dl=y(Mi()),fl=y(nl());var $e=y(E());var ol=y(_i()),il=y(Ci()),al=y(wi()),sl=y(xi()),Fi=y(dt());var Ei=y(ft());var bm=U(e=>({root:{display:"flex",flexFlow:"column",maxWidth:400,gap:e.spacing(2)}})),ll=e=>{let{translate:t}=L(),r=bm(),[n,o]=$e.default.useState(e.region),i=$e.default.useMemo(()=>Object.entries(e.regions).map(([a,s])=>({value:a,label:s})),[e.regions]);return $e.default.createElement(al.default,{open:e.open,onClose:e.onCancel,maxWidth:!1},$e.default.createElement(il.default,{id:"alert-dialog-title"},t("Set RF Region")),$e.default.createElement(ol.default,{className:r.root},$e.default.createElement(Ei.default,{variant:"body1"},t("Select the correct region for where you are. Using a different region may be illegal.")),$e.default.createElement(Dt,{selectedOption:n,options:i,onChange:a=>o(parseInt(a.target.value))}),$e.default.createElement(Ei.default,{variant:"body2"},t("Note: Applying a different region might take a few seconds."))),$e.default.createElement(sl.default,null,$e.default.createElement(Fi.default,{disabled:e.region===n,onClick:()=>e.onConfirm(n),color:"primary"},t("OK")),$e.default.createElement(Fi.default,{onClick:e.onCancel,color:"primary"},t("Cancel"))))};var km=U(e=>({root:{padding:e.spacing(2,0),display:"grid",gridTemplateColumns:"minmax(auto, 300px) 1fr",alignItems:"center",columnGap:e.spacing(4),rowGap:e.spacing(2)},redButton:{background:e.palette.error.main,"&:hover":{background:e.palette.error.dark}}})),pl=e=>{var g;let{isBusy:t,setBusy:r}=e,{namespace:n}=Ke(),o=Ee(),{translate:i}=L(),{showModal:a,showNotification:s}=Rt(),[l,u]=ye.default.useState(!1),[f]=On(`${n}.info.rfRegion`,{subscribe:!1}),[d]=It({id:`${n}.info.rfRegion`}),m=ye.default.useCallback(B=>{t||(r(!0),o.setRFRegion(B).finally(()=>r(!1)))},[o,t,r]),h=ye.default.useCallback(()=>{t||(r(!0),o.softReset().finally(()=>r(!1)))},[o,t,r]),x=ye.default.useCallback(async()=>{if(!t)try{if(!await a(i("Re-interview all?"),i("clear cache procedure")))return;r(!0),await o.clearCache(),setTimeout(()=>{r(!1)},1e3)}catch(B){s(Fe(B),"error");return}},[o,t,a,s]),S=ye.default.useCallback(async()=>{if(!t)try{if(!await a(i("Factory reset?"),i("factory reset procedure")))return;r(!0),await o.hardReset(),r(!1),await a(i("Factory reset successful"),i("The adapter will now restart."))}catch(B){s(Fe(B),"error");return}},[o,t,a,s]),p=km();return ye.default.createElement("div",{className:p.root},ye.default.createElement(Vr.default,{disabled:t,variant:"contained",color:"primary",onClick:h,startIcon:ye.default.createElement(dl.default,null)},i("Soft reset")),ye.default.createElement(qr,{variant:"body2"},i("Restart the controller, e.g. when it hangs")),ye.default.createElement(Vr.default,{disabled:t,variant:"contained",color:"primary",onClick:x,startIcon:ye.default.createElement(ul.default,null)},i("Re-interview all")),ye.default.createElement(qr,{variant:"body2"},i("Forget all information about all nodes and re-interview them. Battery-powered nodes might need to be woken up manually.")),ye.default.createElement(Vr.default,{disabled:t||d==null,variant:"contained",color:"primary",onClick:()=>u(!0),startIcon:ye.default.createElement(fl.default,null)},i("Set RF Region")),ye.default.createElement(qr,{variant:"body2"},i("Configure the region and radio frequencies of the controller.")),ye.default.createElement(Vr.default,{className:p.redButton,disabled:t,variant:"contained",onClick:S,startIcon:ye.default.createElement(cl.default,null)},i("Factory reset")),ye.default.createElement(qr,{variant:"body2"},i("Wipes all configuration of the controller. All connected nodes will be orphaned and have to be reset and included into the new network before they can be used again.")),f&&d!=null&&ye.default.createElement(ll,{open:l,onCancel:()=>u(!1),onConfirm:B=>{m(B),u(!1)},region:d,regions:(g=f.common.states)!=null?g:{}}))};var hr=y(E()),ml=y(pt());var hl=y(ig()),yl=y(gl()),vl=y(Ue()),bl=U(e=>({root:{display:"grid",gridTemplateColumns:"repeat(4, 16px)",gridTemplateRows:"16px"},securityIcon:{fontSize:"16px",color:ps[200]},S2_AccessControl:{color:He[800]},S2_Authenticated:{color:Nn[900]},S2_Unauthenticated:{color:ls[500]},S0_Legacy:{color:ds[800]}})),Cm=e=>{let t=bl(),r=e.granted?hl.default:yl.default;return e.supported?hr.default.createElement(ml.default,{title:`${e.title}: ${e.granted?"\u2714":"\u2718"}`},hr.default.createElement(r,{className:(0,vl.default)(t.securityIcon,e.granted&&t[e.className])})):hr.default.createElement("span",null)},Nm=[["S2_AccessControl","S2 Access Control"],["S2_Authenticated","S2 Authenticated"],["S2_Unauthenticated","S2 Unauthenticated"],["S0_Legacy","S0 Legacy"]],kl=e=>{let t=bl(),{securityClasses:r}=e;return hr.default.createElement("div",{className:t.root},Nm.map(([n,o])=>hr.default.createElement(Cm,{key:n,title:o,className:n,supported:n in r,granted:r[n]===!0})))};var Se=y(E());var V=y(E()),Sl=y(pt()),Bl=y(Ue()),qi=U(e=>({tooltip:{border:`1px solid ${e.palette.divider}`,backgroundColor:e.palette.common.white,boxShadow:e.shadows[1],color:"rgba(0, 0, 0, 0.87)",fontSize:12},arrow:{"&::before":{border:`1px solid ${e.palette.divider}`,backgroundColor:e.palette.common.white,boxSizing:"border-box"}},root:{display:"grid",gridTemplateColumns:"auto auto",gridGap:e.spacing(0,1)},bad:{color:e.palette.error.main,fontWeight:"bold"}})),wl=e=>{let t=qi();return V.default.createElement(Sl.default,{arrow:!0,classes:{tooltip:t.tooltip,arrow:t.arrow},...e})},xl=e=>{var o;let t=qi(),{translate:r}=L(),n=(o=e.statistics)!=null?o:{commandsRX:0,commandsTX:0,commandsDroppedRX:0,commandsDroppedTX:0,timeoutResponse:0};return V.default.createElement(wl,{title:V.default.createElement("div",{className:t.root},V.default.createElement("b",null,r("sent"),":"),V.default.createElement("span",null,n.commandsTX,n.commandsDroppedTX>0&&V.default.createElement(V.default.Fragment,null," ",V.default.createElement("span",{className:t.bad},"(",n.commandsDroppedTX," ",r("dropped"),")"))),V.default.createElement("b",null,r("received"),":"),V.default.createElement("span",null,n.commandsRX,n.commandsDroppedRX>0&&V.default.createElement(V.default.Fragment,null," ",V.default.createElement("span",{className:t.bad},"(",n.commandsDroppedRX," ",r("dropped"),")"))),V.default.createElement("b",null,r("timeouts"),":"),V.default.createElement("span",{className:(0,Bl.default)(n.timeoutResponse>0?t.bad:void 0)},n.timeoutResponse))},e.children)},_l=e=>{var o;let t=qi(),{translate:r}=L(),n=(o=e.statistics)!=null?o:{CAN:0,NAK:0,messagesDroppedRX:0,messagesDroppedTX:0,messagesRX:0,messagesTX:0,timeoutACK:0,timeoutCallback:0,timeoutResponse:0};return V.default.createElement(wl,{title:V.default.createElement("div",{className:t.root},V.default.createElement("b",null,r("sent"),":"),V.default.createElement("span",null,n.messagesTX,n.messagesDroppedTX>0&&V.default.createElement(V.default.Fragment,null," ",V.default.createElement("span",{className:t.bad},"(",n.messagesDroppedTX," ",r("dropped"),")"))),V.default.createElement("b",null,r("received"),":"),V.default.createElement("span",null,n.messagesRX,n.messagesDroppedRX>0&&V.default.createElement(V.default.Fragment,null," ",V.default.createElement("span",{className:t.bad},"(",n.messagesDroppedRX," ",r("dropped"),")"))),V.default.createElement("b",null,r("timeouts"),":"),V.default.createElement("div",null,"ACK:"," ",V.default.createElement("span",{className:t.bad},n.timeoutACK),V.default.createElement("br",null),"RES:"," ",V.default.createElement("span",{className:t.bad},n.timeoutResponse),V.default.createElement("br",null),"CB:"," ",V.default.createElement("span",{className:t.bad},n.timeoutCallback)),V.default.createElement("b",null,r("collisions"),":"),V.default.createElement("span",null,n.CAN),V.default.createElement("b",null,r("corrupt"),":"),V.default.createElement("span",{className:t.bad},n.NAK))},e.children)};var Li=y(Ue());var Pl=U(e=>({root:{},arrow:{transition:"fill 0.5s ease-out, filter 0.5s ease-out"},lArrow:{marginLeft:"-24px"},error:{fill:wt[800],filter:`
			drop-shadow(0 0 10px ${wt[300]})
			drop-shadow(0 0 5px ${wt[300]})
			drop-shadow(0 0 1px rgba(255,255,255,0.1))
		`,transitionDuration:"0.05s"},active:{fill:He[800],filter:`
			drop-shadow(0 0 10px ${He[300]})
			drop-shadow(0 0 5px ${He[300]})
			drop-shadow(0 0 1px rgba(255,255,255,0.1))
		`,transitionDuration:"0.05s"}})),Cl=e=>{let t=Pl();return Se.default.createElement("svg",{className:(0,Li.default)("MuiSvgIcon-root",t.arrow,e.status&&t[e.status]),focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},Se.default.createElement("path",{d:"M9 3 5 6.99h3V14h2V6.99h3L9 3z"}))},Nl=e=>{let t=Pl();return Se.default.createElement("svg",{className:(0,Li.default)("MuiSvgIcon-root",t.arrow,t.lArrow,e.status&&t[e.status]),focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},Se.default.createElement("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3z"}))},Rl=e=>{let[t,r]=Se.default.useState(),[n,o]=Se.default.useState(),[i,a]=Se.default.useState();return Se.default.useEffect(()=>{if(t!=null&&e.statistics!=null)if(e.type==="controller"){let s=t,l=e.statistics;s.NAK<l.NAK||s.messagesDroppedTX<l.messagesDroppedTX||s.timeoutACK<l.timeoutACK||s.timeoutResponse<l.timeoutResponse||s.timeoutCallback<l.timeoutCallback?o("error"):s.messagesTX<l.messagesTX&&o("active"),s.messagesDroppedRX<l.messagesDroppedRX?a("error"):s.messagesRX<l.messagesRX&&a("active")}else{let s=t,l=e.statistics;s.commandsDroppedTX<l.commandsDroppedTX||s.timeoutResponse<l.timeoutResponse?o("error"):s.commandsTX<l.commandsTX&&o("active"),s.commandsDroppedRX<l.commandsDroppedRX?a("error"):s.commandsRX<l.commandsRX&&a("active")}r(e.statistics)},[e.statistics,o,a,t]),Se.default.useEffect(()=>{let s=setTimeout(()=>{o(void 0),a(void 0)},500);return()=>clearTimeout(s)},[o,a,e.statistics]),e.type==="controller"?Se.default.createElement(_l,{statistics:e.statistics},Se.default.createElement("span",null,Se.default.createElement(Cl,{status:n}),Se.default.createElement(Nl,{status:i}))):Se.default.createElement(xl,{statistics:e.statistics},Se.default.createElement("span",null,Se.default.createElement(Cl,{status:n}),Se.default.createElement(Nl,{status:i})))};var mt=y(E());var Tl=y(Ol()),Al=y(Il()),Fl=y(Ml()),El=y(Dl()),Xr=y(pt());var Gm=U(e=>({healIconPending:{color:Nn[500],animation:"$rotation 1.5s infinite ease-in-out",animationFillMode:"forwards"},healIconFailed:{color:wt[500]},healIconSkipped:{color:fs[800]},healIconDone:{color:He[900]},"@keyframes rotation":{"0%":{transform:"rotate(0deg)"},"95%":{transform:"rotate(720deg)",animationFillMode:"none"},"95.1%":{transform:"rotate(0deg)"}}})),ql=e=>{let{status:t}=e,{translate:r}=L(),n=Gm();switch(t){case"done":return mt.default.createElement(Xr.default,{title:r("done")},mt.default.createElement(Tl.default,{className:n.healIconDone}));case"skipped":return mt.default.createElement(Xr.default,{title:r("skipped")},mt.default.createElement(Al.default,{className:n.healIconSkipped}));case"failed":return mt.default.createElement(Xr.default,{title:r("failed")},mt.default.createElement(Fl.default,{className:n.healIconFailed}));case"pending":return mt.default.createElement(Xr.default,{title:r("pending")},mt.default.createElement(El.default,{className:n.healIconPending}))}throw new Error("Unknown heal status")};var Gt=y(dt());var Gr=y(pt()),H=y(E());var Hl=y(Xp());var Ul=y(zp()),Kl=y(Ai());var io=y(ft()),$l=y(Ue()),Vl=y(Ll()),Xl=y(zl()),Gl=y(jl()),u1=U(e=>({root:{padding:e.spacing(2,0),display:"grid",gridTemplateColumns:"minmax(auto, 300px) 1fr",alignItems:"center",columnGap:e.spacing(4),rowGap:e.spacing(2)},firmwareUpdate:{gridColumn:"1 / span 2",display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing(4)},firmwareUpdateMessage:{gridColumn:"1 / span 2"},warning:{color:e.palette.warning.main},redButton:{background:e.palette.error.main,"&:hover":{background:e.palette.error.dark}}})),Ql=e=>{let[t,r]=H.default.useState(),[n,o]=H.default.useState(!1),[i,a]=H.default.useState(),[s,l]=H.default.useState(),u=H.default.useRef(),f=Ee(),{nodeId:d,isBusy:m,setBusy:h,supportsFirmwareUpdate:x}=e,{translate:S}=L(),{showNotification:p,showModal:g}=Rt(),B=e.status!=="alive"&&e.status!=="awake";async function k(){if(!!await g(S("Remove node?"),S("Do you really want to remove this node from the network?"))){h(!0);try{await f.removeFailedNode(d)}catch(O){alert(O)}finally{h(!1)}}}async function v(){await g(S("Replace node?"),S("Do you really want to replace this node?"))&&e.replaceFailedNode()}async function R(){h(!0);try{await f.refreshNodeInfo(d)}catch(_){alert(_)}finally{h(!1)}}let M=()=>{var _;(_=u.current)==null||_.click()},I=async _=>{var O;if((O=_.target.files)!=null&&O.length){let A=_.target.files[0],T=new Uint8Array(await A.arrayBuffer());r({name:A.name,data:T})}};async function P(){if(x&&(t==null?void 0:t.data)){h(!0);try{o(!0),a({type:"progress",sentFragments:0,totalFragments:1}),await f.beginFirmwareUpdate(d,t.name,Array.from(t.data))}catch(_){o(!1),alert(_)}finally{h(!1),l(void 0)}}}async function F(){h(!0);try{await f.abortFirmwareUpdate(d)}catch(_){alert(_)}finally{h(!1),o(!1)}}Mn(_=>{if(_.type==="firmwareUpdate"){let O=_.progress;if(a(O),O.type==="done"){let A=O.status>=253;if(!A)p(S("firmware update failed"),"error"),l(void 0);else{let T=S("firmware update successful");A&&(O.waitTime?T+=" "+S("firmware update wait time").replace("{0}",O.waitTime.toString()):T+=" "+S("firmware update no wait time"),T+=" "+S("firmware update wake up")),l(T)}r(void 0),o(!1),setTimeout(()=>{a(void 0)},1e4)}else o(!0)}});let w=(i==null?void 0:i.type)==="progress"&&typeof i.totalFragments=="number"&&typeof i.sentFragments=="number"?Math.round(i.sentFragments/i.totalFragments*1e4)/100:Number.NaN;H.default.useEffect(()=>{(i==null?void 0:i.type)!=="done"&&(e.status==="asleep"&&n?l(S("wake up device")):l(void 0))},[e.status,n,i]);let N=u1();return H.default.createElement("div",{className:N.root},H.default.createElement(Gt.default,{disabled:m,variant:"contained",color:"primary",startIcon:H.default.createElement(Kl.default,null),onClick:()=>R(),fullWidth:!0},S("Refresh node info")),H.default.createElement(io.default,{variant:"body2"},S("Forget all information about this node and re-interview it. Battery-powered nodes might need to be woken up manually.")),H.default.createElement(Gr.default,{title:B?"":S("This is not a failed node")},H.default.createElement("span",null,H.default.createElement(Gt.default,{disabled:!B||m,variant:"contained",className:N.redButton,onClick:k,startIcon:H.default.createElement(Xl.default,null),fullWidth:!0},S("Remove failed node")))),H.default.createElement(io.default,{variant:"body2"},S("Remove this node from the network."),H.default.createElement("br",null),H.default.createElement("span",{className:N.warning},S("WARNING: Only do this if you no longer have physical access."))),H.default.createElement(Gr.default,{title:B?"":S("This is not a failed node")},H.default.createElement("span",null,H.default.createElement(Gt.default,{disabled:!B||m,variant:"contained",className:N.redButton,onClick:v,startIcon:H.default.createElement(Gl.default,null),fullWidth:!0},S("Replace failed node")))),H.default.createElement(io.default,{variant:"body2"},S("Replace this node with a different one, keeping the node ID."),H.default.createElement("br",null),H.default.createElement("span",{className:N.warning},S("WARNING: Make sure that the node is reset before attempting this."))),x&&H.default.createElement(H.default.Fragment,null,H.default.createElement("div",{className:N.firmwareUpdate},H.default.createElement(Gt.default,{disabled:n||m,variant:"contained",color:"primary",onClick:()=>M(),style:{flex:"1 0 auto"},startIcon:H.default.createElement(Vl.default,null)},S("Update Firmware")),H.default.createElement("input",{type:"file",hidden:!0,id:"firmwareFile",accept:".exe,.ex_,.ota,.otz,.hex,.hec,.gbl,.bin",ref:_=>{_&&(u.current=_)},onChange:I}),n?H.default.createElement(H.default.Fragment,null,H.default.createElement("div",{className:"progress",style:{margin:"0 1em",flex:"1 1 100%"}},Number.isNaN(w)?H.default.createElement(Bi,null):H.default.createElement(Bi,{variant:"determinate",value:w})),!Number.isNaN(w)&&H.default.createElement("div",{style:{whiteSpace:"nowrap",marginRight:"1em"}},w.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," %")):H.default.createElement("span",{style:{flex:"1 1 100%",textAlign:"center",padding:"0 1em",wordBreak:"break-all"}},t?`${t.name} (${t.data.byteLength} bytes)`:S("no file selected")),H.default.createElement(_t,{variant:"contained",color:"primary",style:{flex:"1 0 auto"}},H.default.createElement(Gr.default,{title:S("start firmware update")},H.default.createElement(Gt.default,{disabled:n||m||!(t!=null&&t.data),onClick:()=>P()},H.default.createElement(Hl.default,null))),H.default.createElement(Gr.default,{title:S("abort firmware update")},H.default.createElement(Gt.default,{disabled:!n||m,onClick:()=>F()},H.default.createElement(Ul.default,null))))),s?H.default.createElement("div",{className:N.firmwareUpdateMessage},s):H.default.createElement("div",{className:(0,$l.default)(N.firmwareUpdateMessage,N.warning)},S("firmware update warning"))))};var d1=U(e=>({mainRow:{"& > *":{border:0}},controllerIcon:{fontSize:"16px",margin:"7px",color:e.palette.text.secondary},idCell:{display:"flex",flexFlow:"row nowrap",alignItems:"center"},expanderCell:{paddingBottom:0,paddingTop:0,background:e.palette.background.default}})),tc=e=>{var B,k;let{healStatus:t,device:r}=e,{value:n,status:o}=r,i=n.native.id,a=!!n.native.supportsFirmwareUpdate,{secure:s,securityClasses:l,isControllerNode:u}=n.native,[f,d]=ee.default.useState(u),m=d1(),{translate:h}=L(),{namespace:x}=Ke(),[S]=It({id:u?`${x}.info.statistics`:`${x}.${xs(i)}.info.statistics`}),[p,g]=ee.default.useState();return ee.default.useEffect(()=>{if(S)try{let v=JSON.parse(S);g(v)}catch(v){console.error(v)}},[S]),ee.default.createElement(ee.default.Fragment,null,ee.default.createElement(he,{hover:!0,className:m.mainRow},ee.default.createElement(z,{className:m.idCell},ee.default.createElement(Wl.default,{"aria-label":"expand row",size:"small",onClick:()=>d(!f)},f?ee.default.createElement(ec.default,null):ee.default.createElement(Zl.default,null)),ee.default.createElement("span",{style:{marginLeft:"auto"}},i)),ee.default.createElement(z,null,n.common.name),ee.default.createElement(z,null,(k=(B=n.native.type.specific)!=null?B:n.native.type.generic)!=null?k:h("unknown")),ee.default.createElement(z,null,s&&l&&ee.default.createElement(kl,{securityClasses:l})),ee.default.createElement(z,null,u?ee.default.createElement(Yl.default,{title:h("Controller node")},ee.default.createElement(Jl.default,null)):ee.default.createElement(ee.default.Fragment,null,ee.default.createElement(Hn,{status:o}),!!t&&ee.default.createElement(ee.default.Fragment,null," ",ee.default.createElement(ql,{status:e.healStatus})))),ee.default.createElement(z,null,ee.default.createElement(Rl,{type:u?"controller":"node",statistics:p}))),ee.default.createElement(he,null,ee.default.createElement(z,{colSpan:6,className:m.expanderCell},ee.default.createElement(ms,{in:f,timeout:"auto",unmountOnExit:!0},u?ee.default.createElement(pl,{isBusy:e.isBusy,setBusy:e.setBusy}):ee.default.createElement(Ql,{nodeId:i,status:o,isBusy:e.isBusy,setBusy:e.setBusy,supportsFirmwareUpdate:a,replaceFailedNode:e.replaceFailedNode})))))};var f1=U(e=>({root:{width:"100%",marginTop:e.spacing(2)},container:{overflowY:"auto"},empty:{textAlign:"center",fontStyle:"italic"}})),nc=e=>{let{translate:t}=L(),r=f1(),{devices:n,healingNetwork:o,networkHealProgress:i}=e;return Re.default.createElement(rc.default,{className:r.root,elevation:2},Re.default.createElement(gr,{className:r.container},Re.default.createElement(Ct,null,Re.default.createElement(Pt,null,Re.default.createElement(he,null,Re.default.createElement(z,{align:"right"},"#"),Re.default.createElement(z,null,t("Name")),Re.default.createElement(z,null,t("Type")),Re.default.createElement(z,null,t("Security")),Re.default.createElement(z,null,t("Status")),Re.default.createElement(z,null,t("Statistics")))),Re.default.createElement(Nt,null,n.length?n.map(a=>{let s=a.value.native.id;return Re.default.createElement(tc,{key:`device-${s}`,isBusy:e.isBusy,setBusy:e.setBusy,device:a,healStatus:o?i[s]:void 0,replaceFailedNode:()=>e.replaceFailedNode(s)})}):Re.default.createElement(he,null,Re.default.createElement(z,{colSpan:6,className:r.empty},t("No devices present")))))))};var ve=y(dt()),Hc=y(wi()),ot=y(xi()),it=y(_i()),Uc=y(Ci()),Kc=y(zr());var le=y(ft());var b=y(E()),ho=y(Lp()),Xi=y(jp());var yo=y(Ue()),$c=y(Pi()),Wt=y($p()),Yt=y(Ni());var qe=y(E());var yc=y(Ue());var vc=y(Lr());var oc=y(E()),ic=y($t()),ac=(0,ic.createSvgIcon)(oc.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined");var sc=y(E()),lc=y($t()),cc=(0,lc.createSvgIcon)(sc.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined");var uc=y(E()),dc=y($t()),fc=(0,dc.createSvgIcon)(uc.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");var pc=y(E()),gc=y($t()),mc=(0,gc.createSvgIcon)(pc.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var bc=y(ks()),kc=y($t()),p1=function(t){var r=t.palette.type==="light"?ki:Si,n=t.palette.type==="light"?Si:ki;return{root:xt({},t.typography.body2,{borderRadius:t.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:r(t.palette.success.main,.6),backgroundColor:n(t.palette.success.main,.9),"& $icon":{color:t.palette.success.main}},standardInfo:{color:r(t.palette.info.main,.6),backgroundColor:n(t.palette.info.main,.9),"& $icon":{color:t.palette.info.main}},standardWarning:{color:r(t.palette.warning.main,.6),backgroundColor:n(t.palette.warning.main,.9),"& $icon":{color:t.palette.warning.main}},standardError:{color:r(t.palette.error.main,.6),backgroundColor:n(t.palette.error.main,.9),"& $icon":{color:t.palette.error.main}},outlinedSuccess:{color:r(t.palette.success.main,.6),border:"1px solid ".concat(t.palette.success.main),"& $icon":{color:t.palette.success.main}},outlinedInfo:{color:r(t.palette.info.main,.6),border:"1px solid ".concat(t.palette.info.main),"& $icon":{color:t.palette.info.main}},outlinedWarning:{color:r(t.palette.warning.main,.6),border:"1px solid ".concat(t.palette.warning.main),"& $icon":{color:t.palette.warning.main}},outlinedError:{color:r(t.palette.error.main,.6),border:"1px solid ".concat(t.palette.error.main),"& $icon":{color:t.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.success.main},filledInfo:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.info.main},filledWarning:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.warning.main},filledError:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},hc={success:qe.createElement(ac,{fontSize:"inherit"}),warning:qe.createElement(cc,{fontSize:"inherit"}),error:qe.createElement(fc,{fontSize:"inherit"}),info:qe.createElement(mc,{fontSize:"inherit"})},g1=qe.createElement(Bs,{fontSize:"small"}),m1=qe.forwardRef(function(t,r){var n=t.action,o=t.children,i=t.classes,a=t.className,s=t.closeText,l=s===void 0?"Close":s,u=t.color,f=t.icon,d=t.iconMapping,m=d===void 0?hc:d,h=t.onClose,x=t.role,S=x===void 0?"alert":x,p=t.severity,g=p===void 0?"success":p,B=t.variant,k=B===void 0?"standard":B,v=fr(t,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return qe.createElement(vc.default,xt({role:S,square:!0,elevation:0,className:(0,yc.default)(i.root,i["".concat(k).concat((0,kc.capitalize)(u||g))],a),ref:r},v),f!==!1?qe.createElement("div",{className:i.icon},f||m[g]||hc[g]):null,qe.createElement("div",{className:i.message},o),n!=null?qe.createElement("div",{className:i.action},n):null,n==null&&h?qe.createElement("div",{className:i.action},qe.createElement(bc.default,{size:"small","aria-label":l,title:l,color:"inherit",onClick:h},g1)):null)}),Ft=pr(p1,{name:"MuiAlert"})(m1);var Qr=y(E());var Sc=y(Ue());var Bc=y(qp()),wc=y($t()),h1=function(t){return{root:xt({},t.typography.button,{boxSizing:"border-box",borderRadius:t.shape.borderRadius,padding:11,border:"1px solid ".concat(Ut(t.palette.action.active,.12)),color:Ut(t.palette.action.active,.38),"&$selected":{color:t.palette.action.active,backgroundColor:Ut(t.palette.action.active,.12),"&:hover":{backgroundColor:Ut(t.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:Ut(t.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:Ut(t.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:t.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:t.typography.pxToRem(15)}}},y1=Qr.forwardRef(function(t,r){var n=t.children,o=t.classes,i=t.className,a=t.disabled,s=a===void 0?!1:a,l=t.disableFocusRipple,u=l===void 0?!1:l,f=t.onChange,d=t.onClick,m=t.selected,h=t.size,x=h===void 0?"medium":h,S=t.value,p=fr(t,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]),g=function(k){d&&(d(k,S),k.isDefaultPrevented())||f&&f(k,S)};return Qr.createElement(Bc.default,xt({className:(0,Sc.default)(o.root,i,s&&o.disabled,m&&o.selected,x!=="medium"&&o["size".concat((0,wc.capitalize)(x))]),disabled:s,focusRipple:!u,ref:r,onClick:g,onChange:f,value:S,"aria-pressed":m},p),Qr.createElement("span",{className:o.label},n))}),ht=pr(h1,{name:"MuiToggleButton"})(y1);var tt=y(E()),$w=y(Ep());var ji=y(Ue());function zi(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}var xc=y($t()),v1=function(t){return{root:{display:"inline-flex",borderRadius:t.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},b1=tt.forwardRef(function(t,r){var n=t.children,o=t.classes,i=t.className,a=t.exclusive,s=a===void 0?!1:a,l=t.onChange,u=t.orientation,f=u===void 0?"horizontal":u,d=t.size,m=d===void 0?"medium":d,h=t.value,x=fr(t,["children","classes","className","exclusive","onChange","orientation","size","value"]),S=function(B,k){if(!!l){var v=h&&h.indexOf(k),R;h&&v>=0?(R=h.slice(),R.splice(v,1)):R=h?h.concat(k):[k],l(B,R)}},p=function(B,k){!l||l(B,h===k?null:k)};return tt.createElement("div",xt({role:"group",className:(0,ji.default)(o.root,i,f==="vertical"&&o.vertical),ref:r},x),tt.Children.map(n,function(g){return tt.isValidElement(g)?tt.cloneElement(g,{className:(0,ji.default)(o.grouped,o["grouped".concat((0,xc.capitalize)(f))],g.props.className),onChange:s?p:S,selected:g.props.selected===void 0?zi(g.props.value,h):g.props.selected,size:g.props.size||m}):null}))}),Wr=pr(v1,{name:"MuiToggleButtonGroup"})(b1);var Lc=y(_c()),zc=y(Cc());var q=y(E());var yr=y(E());function Nc(e,t){if(typeof performance=="undefined"||typeof window=="undefined")return;let r=(0,yr.useRef)(),n=(0,yr.useRef)(performance.now()),o=(0,yr.useRef)(performance.now()),i=()=>{let a=performance.now(),s=a-o.current,l=a-n.current;e({totalMs:s,deltaMs:l}),n.current=a,r.current=requestAnimationFrame(i)};(0,yr.useEffect)(()=>(r.current=requestAnimationFrame(i),()=>cancelAnimationFrame(r.current)),t)}var nt=class{constructor(t,r){this.width=r,this.height=t.length/r,this.data=t}static createEmpty(t,r){return new nt(new Uint8ClampedArray(t*r),t)}get(t,r){return t<0||t>=this.width||r<0||r>=this.height?!1:!!this.data[r*this.width+t]}set(t,r,n){this.data[r*this.width+t]=n?1:0}setRegion(t,r,n,o,i){for(let a=r;a<r+o;a++)for(let s=t;s<t+n;s++)this.set(s,a,!!i)}},rt=8,R1=24;function Pc(e,t,r){return e<t?t:e>r?r:e}var uo=class{constructor(t,r,n){this.width=t;let o=t*r;if(n&&n.length!==o)throw new Error("Wrong buffer size");this.data=n||new Uint8ClampedArray(o)}get(t,r){return this.data[r*this.width+t]}set(t,r,n){this.data[r*this.width+t]=n}};function O1(e,t,r,n,o,i){let a=t*r;if(e.length!==a*4)throw new Error("Malformed data passed to binarizer.");let s=0,l;i&&(l=new Uint8ClampedArray(e.buffer,s,a),s+=a);let u=new uo(t,r,l);if(o.useIntegerApproximation)for(let g=0;g<r;g++)for(let B=0;B<t;B++){let k=(g*t+B)*4,v=e[k],R=e[k+1],M=e[k+2];u.set(B,g,o.red*v+o.green*R+o.blue*M+128>>8)}else for(let g=0;g<r;g++)for(let B=0;B<t;B++){let k=(g*t+B)*4,v=e[k],R=e[k+1],M=e[k+2];u.set(B,g,o.red*v+o.green*R+o.blue*M)}let f=Math.ceil(t/rt),d=Math.ceil(r/rt),m=f*d,h;i&&(h=new Uint8ClampedArray(e.buffer,s,m),s+=m);let x=new uo(f,d,h);for(let g=0;g<d;g++)for(let B=0;B<f;B++){let k=1/0,v=0;for(let I=0;I<rt;I++)for(let P=0;P<rt;P++){let F=u.get(B*rt+P,g*rt+I);k=Math.min(k,F),v=Math.max(v,F)}let R=(k+v)/2;if(R=Math.min(255,R*1.11),v-k<=R1&&(R=k/2,g>0&&B>0)){let I=(x.get(B,g-1)+2*x.get(B-1,g)+x.get(B-1,g-1))/4;k<I&&(R=I)}x.set(B,g,R)}let S;if(i){let g=new Uint8ClampedArray(e.buffer,s,a);s+=a,S=new nt(g,t)}else S=nt.createEmpty(t,r);let p=null;if(n)if(i){let g=new Uint8ClampedArray(e.buffer,s,a);p=new nt(g,t)}else p=nt.createEmpty(t,r);for(let g=0;g<d;g++)for(let B=0;B<f;B++){let k=Pc(B,2,f-3),v=Pc(g,2,d-3),R=0;for(let I=-2;I<=2;I++)for(let P=-2;P<=2;P++)R+=x.get(k+I,v+P);let M=R/25;for(let I=0;I<rt;I++)for(let P=0;P<rt;P++){let F=B*rt+I,w=g*rt+P,N=u.get(F,w);S.set(F,w,N<=M),n&&p.set(F,w,!(N<=M))}}return n?{binarized:S,inverted:p}:{binarized:S}}var Ui=class{constructor(t){this.byteOffset=0,this.bitOffset=0,this.bytes=t}readBits(t){if(t<1||t>32||t>this.available())throw new Error("Cannot read "+t.toString()+" bits");let r=0;if(this.bitOffset>0){let n=8-this.bitOffset,o=t<n?t:n,i=n-o,a=255>>8-o<<i;r=(this.bytes[this.byteOffset]&a)>>i,t-=o,this.bitOffset+=o,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(t>0){for(;t>=8;)r=r<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,t-=8;if(t>0){let n=8-t,o=255>>n<<n;r=r<<t|(this.bytes[this.byteOffset]&o)>>n,this.bitOffset+=t}}return r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}},Qe;(function(e){e.Numeric="numeric",e.Alphanumeric="alphanumeric",e.Byte="byte",e.Kanji="kanji",e.ECI="eci",e.StructuredAppend="structuredappend"})(Qe||(Qe={}));var yt;(function(e){e[e.Terminator=0]="Terminator",e[e.Numeric=1]="Numeric",e[e.Alphanumeric=2]="Alphanumeric",e[e.Byte=4]="Byte",e[e.Kanji=8]="Kanji",e[e.ECI=7]="ECI",e[e.StructuredAppend=3]="StructuredAppend"})(yt||(yt={}));function I1(e,t){let r=[],n="",o=[10,12,14][t],i=e.readBits(o);for(;i>=3;){let a=e.readBits(10);if(a>=1e3)throw new Error("Invalid numeric value above 999");let s=Math.floor(a/100),l=Math.floor(a/10)%10,u=a%10;r.push(48+s,48+l,48+u),n+=s.toString()+l.toString()+u.toString(),i-=3}if(i===2){let a=e.readBits(7);if(a>=100)throw new Error("Invalid numeric value above 99");let s=Math.floor(a/10),l=a%10;r.push(48+s,48+l),n+=s.toString()+l.toString()}else if(i===1){let a=e.readBits(4);if(a>=10)throw new Error("Invalid numeric value above 9");r.push(48+a),n+=a.toString()}return{bytes:r,text:n}}var vr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function M1(e,t){let r=[],n="",o=[9,11,13][t],i=e.readBits(o);for(;i>=2;){let a=e.readBits(11),s=Math.floor(a/45),l=a%45;r.push(vr[s].charCodeAt(0),vr[l].charCodeAt(0)),n+=vr[s]+vr[l],i-=2}if(i===1){let a=e.readBits(6);r.push(vr[a].charCodeAt(0)),n+=vr[a]}return{bytes:r,text:n}}function D1(e,t){let r=[],n="",o=[8,16,16][t],i=e.readBits(o);for(let a=0;a<i;a++){let s=e.readBits(8);r.push(s)}try{n+=decodeURIComponent(r.map(a=>`%${("0"+a.toString(16)).substr(-2)}`).join(""))}catch(a){}return{bytes:r,text:n}}function T1(e,t){let r=[],n=[8,10,12][t],o=e.readBits(n);for(let a=0;a<o;a++){let s=e.readBits(13),l=Math.floor(s/192)<<8|s%192;l<7936?l+=33088:l+=49472,r.push(l>>8,l&255)}let i=new TextDecoder("shift-jis").decode(Uint8Array.from(r));return{bytes:r,text:i}}function A1(e,t){let r=new Ui(e),n=t<=9?0:t<=26?1:2,o={text:"",bytes:[],chunks:[],version:t};for(;r.available()>=4;){let i=r.readBits(4);if(i===yt.Terminator)return o;if(i===yt.ECI)r.readBits(1)===0?o.chunks.push({type:Qe.ECI,assignmentNumber:r.readBits(7)}):r.readBits(1)===0?o.chunks.push({type:Qe.ECI,assignmentNumber:r.readBits(14)}):r.readBits(1)===0?o.chunks.push({type:Qe.ECI,assignmentNumber:r.readBits(21)}):o.chunks.push({type:Qe.ECI,assignmentNumber:-1});else if(i===yt.Numeric){let a=I1(r,n);o.text+=a.text,o.bytes.push(...a.bytes),o.chunks.push({type:Qe.Numeric,text:a.text})}else if(i===yt.Alphanumeric){let a=M1(r,n);o.text+=a.text,o.bytes.push(...a.bytes),o.chunks.push({type:Qe.Alphanumeric,text:a.text})}else if(i===yt.Byte){let a=D1(r,n);o.text+=a.text,o.bytes.push(...a.bytes),o.chunks.push({type:Qe.Byte,bytes:a.bytes,text:a.text})}else if(i===yt.Kanji){let a=T1(r,n);o.text+=a.text,o.bytes.push(...a.bytes),o.chunks.push({type:Qe.Kanji,bytes:a.bytes,text:a.text})}else i===yt.StructuredAppend&&o.chunks.push({type:Qe.StructuredAppend,currentSequence:r.readBits(4),totalSequence:r.readBits(4),parity:r.readBits(8)})}if(r.available()===0||r.readBits(r.available())===0)return o}var Ve=class{constructor(t,r){if(r.length===0)throw new Error("No coefficients.");this.field=t;let n=r.length;if(n>1&&r[0]===0){let o=1;for(;o<n&&r[o]===0;)o++;if(o===n)this.coefficients=t.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(n-o);for(let i=0;i<this.coefficients.length;i++)this.coefficients[i]=r[o+i]}}else this.coefficients=r}degree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}addOrSubtract(t){if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,n=t.coefficients;r.length>n.length&&([r,n]=[n,r]);let o=new Uint8ClampedArray(n.length),i=n.length-r.length;for(let a=0;a<i;a++)o[a]=n[a];for(let a=i;a<n.length;a++)o[a]=br(r[a-i],n[a]);return new Ve(this.field,o)}multiply(t){if(t===0)return this.field.zero;if(t===1)return this;let r=this.coefficients.length,n=new Uint8ClampedArray(r);for(let o=0;o<r;o++)n[o]=this.field.multiply(this.coefficients[o],t);return new Ve(this.field,n)}multiplyPoly(t){if(this.isZero()||t.isZero())return this.field.zero;let r=this.coefficients,n=r.length,o=t.coefficients,i=o.length,a=new Uint8ClampedArray(n+i-1);for(let s=0;s<n;s++){let l=r[s];for(let u=0;u<i;u++)a[s+u]=br(a[s+u],this.field.multiply(l,o[u]))}return new Ve(this.field,a)}multiplyByMonomial(t,r){if(t<0)throw new Error("Invalid degree less than 0");if(r===0)return this.field.zero;let n=this.coefficients.length,o=new Uint8ClampedArray(n+t);for(let i=0;i<n;i++)o[i]=this.field.multiply(this.coefficients[i],r);return new Ve(this.field,o)}evaluateAt(t){let r=0;if(t===0)return this.getCoefficient(0);let n=this.coefficients.length;if(t===1)return this.coefficients.forEach(o=>{r=br(r,o)}),r;r=this.coefficients[0];for(let o=1;o<n;o++)r=br(this.field.multiply(t,r),this.coefficients[o]);return r}};function br(e,t){return e^t}var Ki=class{constructor(t,r,n){this.primitive=t,this.size=r,this.generatorBase=n,this.expTable=new Array(this.size),this.logTable=new Array(this.size);let o=1;for(let i=0;i<this.size;i++)this.expTable[i]=o,o=o*2,o>=this.size&&(o=(o^this.primitive)&this.size-1);for(let i=0;i<this.size-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new Ve(this,Uint8ClampedArray.from([0])),this.one=new Ve(this,Uint8ClampedArray.from([1]))}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}inverse(t){if(t===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[t]-1]}buildMonomial(t,r){if(t<0)throw new Error("Invalid monomial degree less than 0");if(r===0)return this.zero;let n=new Uint8ClampedArray(t+1);return n[0]=r,new Ve(this,n)}log(t){if(t===0)throw new Error("Can't take log(0)");return this.logTable[t]}exp(t){return this.expTable[t]}};function F1(e,t,r,n){t.degree()<r.degree()&&([t,r]=[r,t]);let o=t,i=r,a=e.zero,s=e.one;for(;i.degree()>=n/2;){let f=o,d=a;if(o=i,a=s,o.isZero())return null;i=f;let m=e.zero,h=o.getCoefficient(o.degree()),x=e.inverse(h);for(;i.degree()>=o.degree()&&!i.isZero();){let S=i.degree()-o.degree(),p=e.multiply(i.getCoefficient(i.degree()),x);m=m.addOrSubtract(e.buildMonomial(S,p)),i=i.addOrSubtract(o.multiplyByMonomial(S,p))}if(s=m.multiplyPoly(a).addOrSubtract(d),i.degree()>=o.degree())return null}let l=s.getCoefficient(0);if(l===0)return null;let u=e.inverse(l);return[s.multiply(u),i.multiply(u)]}function E1(e,t){let r=t.degree();if(r===1)return[t.getCoefficient(1)];let n=new Array(r),o=0;for(let i=1;i<e.size&&o<r;i++)t.evaluateAt(i)===0&&(n[o]=e.inverse(i),o++);return o!==r?null:n}function q1(e,t,r){let n=r.length,o=new Array(n);for(let i=0;i<n;i++){let a=e.inverse(r[i]),s=1;for(let l=0;l<n;l++)i!==l&&(s=e.multiply(s,br(1,e.multiply(r[l],a))));o[i]=e.multiply(t.evaluateAt(a),e.inverse(s)),e.generatorBase!==0&&(o[i]=e.multiply(o[i],a))}return o}function L1(e,t){let r=new Uint8ClampedArray(e.length);r.set(e);let n=new Ki(285,256,0),o=new Ve(n,r),i=new Uint8ClampedArray(t),a=!1;for(let d=0;d<t;d++){let m=o.evaluateAt(n.exp(d+n.generatorBase));i[i.length-1-d]=m,m!==0&&(a=!0)}if(!a)return r;let s=new Ve(n,i),l=F1(n,n.buildMonomial(t,1),s,t);if(l===null)return null;let u=E1(n,l[0]);if(u==null)return null;let f=q1(n,l[1],u);for(let d=0;d<u.length;d++){let m=r.length-1-n.log(u[d]);if(m<0)return null;r[m]=br(r[m],f[d])}return r}var Rc=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function fo(e,t){let r=e^t,n=0;for(;r;)n++,r&=r-1;return n}function Qt(e,t){return t<<1|e}var z1=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],j1=[e=>(e.y+e.x)%2===0,e=>e.y%2===0,e=>e.x%3===0,e=>(e.y+e.x)%3===0,e=>(Math.floor(e.y/2)+Math.floor(e.x/3))%2===0,e=>e.x*e.y%2+e.x*e.y%3===0,e=>(e.y*e.x%2+e.y*e.x%3)%2===0,e=>((e.y+e.x)%2+e.y*e.x%3)%2===0];function H1(e){let t=17+4*e.versionNumber,r=nt.createEmpty(t,t);r.setRegion(0,0,9,9,!0),r.setRegion(t-8,0,8,9,!0),r.setRegion(0,t-8,9,8,!0);for(let n of e.alignmentPatternCenters)for(let o of e.alignmentPatternCenters)n===6&&o===6||n===6&&o===t-7||n===t-7&&o===6||r.setRegion(n-2,o-2,5,5,!0);return r.setRegion(6,9,1,t-17,!0),r.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(r.setRegion(t-11,0,3,6,!0),r.setRegion(0,t-11,6,3,!0)),r}function U1(e,t,r){let n=j1[r.dataMask],o=e.height,i=H1(t),a=[],s=0,l=0,u=!0;for(let f=o-1;f>0;f-=2){f===6&&f--;for(let d=0;d<o;d++){let m=u?o-1-d:d;for(let h=0;h<2;h++){let x=f-h;if(!i.get(x,m)){l++;let S=e.get(x,m);n({y:m,x})&&(S=!S),s=Qt(S,s),l===8&&(a.push(s),l=0,s=0)}}}u=!u}return a}function K1(e){let t=e.height,r=Math.floor((t-17)/4);if(r<=6)return Rc[r-1];let n=0;for(let s=5;s>=0;s--)for(let l=t-9;l>=t-11;l--)n=Qt(e.get(l,s),n);let o=0;for(let s=5;s>=0;s--)for(let l=t-9;l>=t-11;l--)o=Qt(e.get(s,l),o);let i=1/0,a;for(let s of Rc){if(s.infoBits===n||s.infoBits===o)return s;let l=fo(n,s.infoBits);l<i&&(a=s,i=l),l=fo(o,s.infoBits),l<i&&(a=s,i=l)}if(i<=3)return a}function $1(e){let t=0;for(let a=0;a<=8;a++)a!==6&&(t=Qt(e.get(a,8),t));for(let a=7;a>=0;a--)a!==6&&(t=Qt(e.get(8,a),t));let r=e.height,n=0;for(let a=r-1;a>=r-7;a--)n=Qt(e.get(8,a),n);for(let a=r-8;a<r;a++)n=Qt(e.get(a,8),n);let o=1/0,i=null;for(let{bits:a,formatInfo:s}of z1){if(a===t||a===n)return s;let l=fo(t,a);l<o&&(i=s,o=l),t!==n&&(l=fo(n,a),l<o&&(i=s,o=l))}return o<=3?i:null}function V1(e,t,r){let n=t.errorCorrectionLevels[r],o=[],i=0;if(n.ecBlocks.forEach(s=>{for(let l=0;l<s.numBlocks;l++)o.push({numDataCodewords:s.dataCodewordsPerBlock,codewords:[]}),i+=s.dataCodewordsPerBlock+n.ecCodewordsPerBlock}),e.length<i)return null;e=e.slice(0,i);let a=n.ecBlocks[0].dataCodewordsPerBlock;for(let s=0;s<a;s++)for(let l of o)l.codewords.push(e.shift());if(n.ecBlocks.length>1){let s=n.ecBlocks[0].numBlocks,l=n.ecBlocks[1].numBlocks;for(let u=0;u<l;u++)o[s+u].codewords.push(e.shift())}for(;e.length>0;)for(let s of o)s.codewords.push(e.shift());return o}function Oc(e){let t=K1(e);if(!t)return null;let r=$1(e);if(!r)return null;let n=U1(e,t,r),o=V1(n,t,r.errorCorrectionLevel);if(!o)return null;let i=o.reduce((l,u)=>l+u.numDataCodewords,0),a=new Uint8ClampedArray(i),s=0;for(let l of o){let u=L1(l.codewords,l.codewords.length-l.numDataCodewords);if(!u)return null;for(let f=0;f<l.numDataCodewords;f++)a[s++]=u[f]}try{return A1(a,t.versionNumber)}catch(l){return null}}function X1(e){if(e==null)return null;let t=Oc(e);if(t)return t;for(let r=0;r<e.width;r++)for(let n=r+1;n<e.height;n++)e.get(r,n)!==e.get(n,r)&&(e.set(r,n,!e.get(r,n)),e.set(n,r,!e.get(n,r)));return Oc(e)}function Ec(e,t,r,n){let o=e.x-t.x+r.x-n.x,i=e.y-t.y+r.y-n.y;if(o===0&&i===0)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:r.x-t.x,a22:r.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};{let a=t.x-r.x,s=n.x-r.x,l=t.y-r.y,u=n.y-r.y,f=a*u-s*l,d=(o*u-s*i)/f,m=(a*i-o*l)/f;return{a11:t.x-e.x+d*t.x,a12:t.y-e.y+d*t.y,a13:d,a21:n.x-e.x+m*n.x,a22:n.y-e.y+m*n.y,a23:m,a31:e.x,a32:e.y,a33:1}}}function G1(e,t,r,n){let o=Ec(e,t,r,n);return{a11:o.a22*o.a33-o.a23*o.a32,a12:o.a13*o.a32-o.a12*o.a33,a13:o.a12*o.a23-o.a13*o.a22,a21:o.a23*o.a31-o.a21*o.a33,a22:o.a11*o.a33-o.a13*o.a31,a23:o.a13*o.a21-o.a11*o.a23,a31:o.a21*o.a32-o.a22*o.a31,a32:o.a12*o.a31-o.a11*o.a32,a33:o.a11*o.a22-o.a12*o.a21}}function Q1(e,t){return{a11:e.a11*t.a11+e.a21*t.a12+e.a31*t.a13,a12:e.a12*t.a11+e.a22*t.a12+e.a32*t.a13,a13:e.a13*t.a11+e.a23*t.a12+e.a33*t.a13,a21:e.a11*t.a21+e.a21*t.a22+e.a31*t.a23,a22:e.a12*t.a21+e.a22*t.a22+e.a32*t.a23,a23:e.a13*t.a21+e.a23*t.a22+e.a33*t.a23,a31:e.a11*t.a31+e.a21*t.a32+e.a31*t.a33,a32:e.a12*t.a31+e.a22*t.a32+e.a32*t.a33,a33:e.a13*t.a31+e.a23*t.a32+e.a33*t.a33}}function W1(e,t){let r=G1({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),n=Ec(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),o=Q1(n,r),i=nt.createEmpty(t.dimension,t.dimension),a=(s,l)=>{let u=o.a13*s+o.a23*l+o.a33;return{x:(o.a11*s+o.a21*l+o.a31)/u,y:(o.a12*s+o.a22*l+o.a32)/u}};for(let s=0;s<t.dimension;s++)for(let l=0;l<t.dimension;l++){let u=l+.5,f=s+.5,d=a(u,f);i.set(l,s,e.get(Math.floor(d.x),Math.floor(d.y)))}return{matrix:i,mappingFunction:a}}var Y1=5,Ic=.5,Mc=1.5,bt=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function vt(e){return e.reduce((t,r)=>t+r)}function J1(e,t,r){let n=bt(e,t),o=bt(t,r),i=bt(e,r),a,s,l;return o>=n&&o>=i?[a,s,l]=[t,e,r]:i>=o&&i>=n?[a,s,l]=[e,t,r]:[a,s,l]=[e,r,t],(l.x-s.x)*(a.y-s.y)-(l.y-s.y)*(a.x-s.x)<0&&([a,l]=[l,a]),{bottomLeft:a,topLeft:s,topRight:l}}function Z1(e,t,r,n){let o=(vt(Et(e,r,n,5))/7+vt(Et(e,t,n,5))/7+vt(Et(r,e,n,5))/7+vt(Et(t,e,n,5))/7)/4;if(o<1)throw new Error("Invalid module size");let i=Math.round(bt(e,t)/o),a=Math.round(bt(e,r)/o),s=Math.floor((i+a)/2)+7;switch(s%4){case 0:s++;break;case 2:s--;break}return{dimension:s,moduleSize:o}}function Dc(e,t,r,n){let o=[{x:Math.floor(e.x),y:Math.floor(e.y)}],i=Math.abs(t.y-e.y)>Math.abs(t.x-e.x),a,s,l,u;i?(a=Math.floor(e.y),s=Math.floor(e.x),l=Math.floor(t.y),u=Math.floor(t.x)):(a=Math.floor(e.x),s=Math.floor(e.y),l=Math.floor(t.x),u=Math.floor(t.y));let f=Math.abs(l-a),d=Math.abs(u-s),m=Math.floor(-f/2),h=a<l?1:-1,x=s<u?1:-1,S=!0;for(let g=a,B=s;g!==l+h;g+=h){let k=i?B:g,v=i?g:B;if(r.get(k,v)!==S&&(S=!S,o.push({x:k,y:v}),o.length===n+1))break;if(m+=d,m>0){if(B===u)break;B+=x,m-=f}}let p=[];for(let g=0;g<n;g++)o[g]&&o[g+1]?p.push(bt(o[g],o[g+1])):p.push(0);return p}function Et(e,t,r,n){let o=t.y-e.y,i=t.x-e.x,a=Dc(e,t,r,Math.ceil(n/2)),s=Dc(e,{x:e.x-i,y:e.y-o},r,Math.ceil(n/2)),l=a.shift()+s.shift()-1;return s.concat(l).concat(...a)}function co(e,t){let r=vt(e)/vt(t),n=0;return t.forEach((o,i)=>{n+=Math.pow(e[i]-o*r,2)}),{averageSize:r,error:n}}function qc(e,t,r){try{let n=Et(e,{x:-1,y:e.y},r,t.length),o=Et(e,{x:e.x,y:-1},r,t.length),i={x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},a=Et(e,i,r,t.length),s={x:Math.min(r.width,e.x+e.y)+1,y:Math.min(r.height,e.y+e.x)+1},l=Et(e,s,r,t.length),u=co(n,t),f=co(o,t),d=co(a,t),m=co(l,t),h=Math.sqrt(u.error*u.error+f.error*f.error+d.error*d.error+m.error*m.error),x=(u.averageSize+f.averageSize+d.averageSize+m.averageSize)/4,S=(Math.pow(u.averageSize-x,2)+Math.pow(f.averageSize-x,2)+Math.pow(d.averageSize-x,2)+Math.pow(m.averageSize-x,2))/x;return h+S}catch(n){return 1/0}}function Hi(e,t){let r=Math.round(t.x);for(;e.get(r,Math.round(t.y));)r--;let n=Math.round(t.x);for(;e.get(n,Math.round(t.y));)n++;let o=(r+n)/2,i=Math.round(t.y);for(;e.get(Math.round(o),i);)i--;let a=Math.round(t.y);for(;e.get(Math.round(o),a);)a++;let s=(i+a)/2;return{x:o,y:s}}function eh(e){let t=[],r=[],n=[],o=[];for(let g=0;g<=e.height;g++){let B=0,k=!1,v=[0,0,0,0,0];for(let R=-1;R<=e.width;R++){let M=e.get(R,g);if(M===k)B++;else{v=[v[1],v[2],v[3],v[4],B],B=1,k=M;let I=vt(v)/7,P=Math.abs(v[0]-I)<I&&Math.abs(v[1]-I)<I&&Math.abs(v[2]-3*I)<3*I&&Math.abs(v[3]-I)<I&&Math.abs(v[4]-I)<I&&!M,F=vt(v.slice(-3))/3,w=Math.abs(v[2]-F)<F&&Math.abs(v[3]-F)<F&&Math.abs(v[4]-F)<F&&M;if(P){let N=R-v[3]-v[4],_=N-v[2],O={startX:_,endX:N,y:g},A=r.filter(T=>_>=T.bottom.startX&&_<=T.bottom.endX||N>=T.bottom.startX&&_<=T.bottom.endX||_<=T.bottom.startX&&N>=T.bottom.endX&&v[2]/(T.bottom.endX-T.bottom.startX)<Mc&&v[2]/(T.bottom.endX-T.bottom.startX)>Ic);A.length>0?A[0].bottom=O:r.push({top:O,bottom:O})}if(w){let N=R-v[4],_=N-v[3],O={startX:_,y:g,endX:N},A=o.filter(T=>_>=T.bottom.startX&&_<=T.bottom.endX||N>=T.bottom.startX&&_<=T.bottom.endX||_<=T.bottom.startX&&N>=T.bottom.endX&&v[2]/(T.bottom.endX-T.bottom.startX)<Mc&&v[2]/(T.bottom.endX-T.bottom.startX)>Ic);A.length>0?A[0].bottom=O:o.push({top:O,bottom:O})}}}t.push(...r.filter(R=>R.bottom.y!==g&&R.bottom.y-R.top.y>=2)),r=r.filter(R=>R.bottom.y===g),n.push(...o.filter(R=>R.bottom.y!==g)),o=o.filter(R=>R.bottom.y===g)}t.push(...r.filter(g=>g.bottom.y-g.top.y>=2)),n.push(...o);let i=[];for(let g of t){if(g.bottom.y-g.top.y<2)continue;let B=(g.top.startX+g.top.endX+g.bottom.startX+g.bottom.endX)/4,k=(g.top.y+g.bottom.y+1)/2;if(!e.get(Math.round(B),Math.round(k)))continue;let v=[g.top.endX-g.top.startX,g.bottom.endX-g.bottom.startX,g.bottom.y-g.top.y+1],R=vt(v)/v.length,M=qc({x:Math.round(B),y:Math.round(k)},[1,1,3,1,1],e);i.push({score:M,x:B,y:k,size:R})}if(i.length<3)return null;i.sort((g,B)=>g.score-B.score);let a=[];for(let g=0;g<Math.min(i.length,Y1);++g){let B=i[g],k=[];for(let v of i)v!==B&&k.push(Object.assign(Object.assign({},v),{score:v.score+Math.pow(v.size-B.size,2)/B.size}));k.sort((v,R)=>v.score-R.score),a.push({points:[B,k[0],k[1]],score:B.score+k[0].score+k[1].score})}a.sort((g,B)=>g.score-B.score);let s=a[0],{topRight:l,topLeft:u,bottomLeft:f}=J1(...s.points),d=Tc(e,n,l,u,f),m=[];d&&m.push({alignmentPattern:{x:d.alignmentPattern.x,y:d.alignmentPattern.y},bottomLeft:{x:f.x,y:f.y},dimension:d.dimension,topLeft:{x:u.x,y:u.y},topRight:{x:l.x,y:l.y}});let h=Hi(e,l),x=Hi(e,u),S=Hi(e,f),p=Tc(e,n,h,x,S);return p&&m.push({alignmentPattern:{x:p.alignmentPattern.x,y:p.alignmentPattern.y},bottomLeft:{x:S.x,y:S.y},topLeft:{x:x.x,y:x.y},topRight:{x:h.x,y:h.y},dimension:p.dimension}),m.length===0?null:m}function Tc(e,t,r,n,o){let i,a;try{({dimension:i,moduleSize:a}=Z1(n,r,o,e))}catch(h){return null}let s={x:r.x-n.x+o.x,y:r.y-n.y+o.y},l=(bt(n,o)+bt(n,r))/2/a,u=1-3/l,f={x:n.x+u*(s.x-n.x),y:n.y+u*(s.y-n.y)},d=t.map(h=>{let x=(h.top.startX+h.top.endX+h.bottom.startX+h.bottom.endX)/4,S=(h.top.y+h.bottom.y+1)/2;if(!e.get(Math.floor(x),Math.floor(S)))return;let g=qc({x:Math.floor(x),y:Math.floor(S)},[1,1,1],e)+bt({x,y:S},f);return{x,y:S,score:g}}).filter(h=>!!h).sort((h,x)=>h.score-x.score);return{alignmentPattern:l>=15&&d.length?d[0]:f,dimension:i}}function Ac(e){let t=eh(e);if(!t)return null;for(let r of t){let n=W1(e,r),o=X1(n.matrix);if(o)return{binaryData:o.bytes,data:o.text,chunks:o.chunks,version:o.version,location:{topRightCorner:n.mappingFunction(r.dimension,0),topLeftCorner:n.mappingFunction(0,0),bottomRightCorner:n.mappingFunction(r.dimension,r.dimension),bottomLeftCorner:n.mappingFunction(0,r.dimension),topRightFinderPattern:r.topRight,topLeftFinderPattern:r.topLeft,bottomLeftFinderPattern:r.bottomLeft,bottomRightAlignmentPattern:r.alignmentPattern},matrix:n.matrix}}return null}var th={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function Fc(e,t){Object.keys(t).forEach(r=>{e[r]=t[r]})}function Yr(e,t,r,n={}){let o=Object.create(null);Fc(o,th),Fc(o,n);let i=o.inversionAttempts==="onlyInvert"||o.inversionAttempts==="invertFirst",a=o.inversionAttempts==="attemptBoth"||i,{binarized:s,inverted:l}=O1(e,t,r,a,o.greyScaleWeights,o.canOverwriteImage),u=Ac(i?l:s);return!u&&(o.inversionAttempts==="attemptBoth"||o.inversionAttempts==="invertFirst")&&(u=Ac(i?s:l)),u}Yr.default=Yr;var go=y(ft()),jc=y(Ue()),$i=U(e=>({root:{width:"auto",display:"inline-grid",gridTemplateColumns:"1fr auto",gridTemplateRows:"auto auto",gridGap:e.spacing(1),alignItems:"center"},container:{flex:0,width:400,height:400,display:"grid",overflow:"hidden",cursor:"pointer","& > *":{width:400,height:400,gridRow:1,gridColumn:1},"& img":{maxWidth:"100%"}},hoverOK:{border:`4px solid ${e.palette.divider}`,borderStyle:"dashed",borderRadius:"8px"},hoverNOK:{cursor:"not-allowed"},label:{textAlign:"center",alignSelf:"center",lineHeight:"unset",height:"auto"}}));function po(e,t,r,n,o,i){e.beginPath();let a={x:t.x+(r.x-t.x)*(1-o),y:t.y+(r.y-t.y)*(1-o)},s={x:n.x+(r.x-n.x)*(1-o),y:n.y+(r.y-n.y)*(1-o)};e.moveTo(a.x,a.y),e.lineTo(r.x,r.y),e.lineTo(s.x,s.y),e.lineWidth=4,e.strokeStyle=i,e.stroke()}var rh=e=>{let{detectionAreaSize:t=100}=e,r=$i(),{translate:n}=L(),[o,i]=q.default.useState(!1),[a,s]=q.default.useState(!1),l=q.default.useRef(),u=q.default.useRef(null),f=q.default.useRef(),d=q.default.useRef(null),m=q.default.useRef(),[h,x]=q.default.useState();return q.default.useEffect(()=>{h&&e.onDetect(h)},[h]),q.default.useEffect(()=>{var S;!u.current||(f.current=(S=u.current.getContext("2d"))!=null?S:void 0)},[u.current]),q.default.useEffect(()=>{var S;!d.current||(m.current=(S=d.current.getContext("2d"))!=null?S:void 0)},[d.current]),Nc(()=>{if(!o||!l.current||!u.current||!f.current||!d.current||!m.current)return;let S=l.current,p=u.current,g=f.current,B=d.current,k=m.current;if(S.readyState===S.HAVE_ENOUGH_DATA){let v=Math.min(S.videoWidth,S.videoHeight),R=t/v;p.height=v,p.width=v;let[M,I]=[(S.videoWidth-v)/2,(S.videoHeight-v)/2];g.drawImage(S,M,I,v,v,0,0,p.width,p.height),g.beginPath(),g.fillStyle="rgba(255,255,255,0.15)",g.rect((v-t)/2,(v-t)/2,t,t),g.fill();let P=[{x:(v-t)/2,y:(v-t)/2},{x:(v+t)/2,y:(v-t)/2},{x:(v+t)/2,y:(v+t)/2},{x:(v-t)/2,y:(v+t)/2}];for(let O=0;O<P.length;O++){let A=P[O],T=P[(O-1+P.length)%P.length],ne=P[(O+1)%P.length];po(g,T,A,ne,.2,"rgba(255,255,255,0.5)")}B.height=v,B.width=v;let[F,w]=[(S.videoWidth-t)/2,(S.videoHeight-t)/2];k.drawImage(S,F,w,t,t,0,0,B.width,B.height);let N=k.getImageData(0,0,B.width,B.height),_=Yr(N.data,N.width,N.height,{inversionAttempts:"dontInvert"});if(_){x(_.data);let O=[_.location.topLeftCorner,_.location.topRightCorner,_.location.bottomRightCorner,_.location.bottomLeftCorner].map(A=>({x:A.x*R+(v-t)/2,y:A.y*R+(v-t)/2}));for(let A=0;A<O.length;A++){let T=O[A],ne=O[(A-1+O.length)%O.length],xe=O[(A+1)%O.length];po(g,ne,T,xe,.2,"green")}}else x(void 0)}},[o,po,l.current,u.current,f.current,d.current,m.current,t]),q.default.useEffect(()=>{l.current=document.createElement("video");let S;return(async()=>{try{S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})}catch(p){s(!0);return}!l.current||(l.current.srcObject=S,l.current.setAttribute("playsinline","true"),l.current.play(),i(!0))})(),()=>{S==null||S.getTracks().forEach(p=>p.stop()),l.current=void 0}},[]),q.default.createElement("div",{className:r.container},q.default.createElement(go.default,{variant:"body2",className:r.label},n(a?"failed to open camera":"opening camera...")),q.default.createElement("canvas",{ref:u}),q.default.createElement("canvas",{hidden:!0,ref:d}))},nh=e=>{let t=$i(),{translate:r}=L(),n=q.default.useRef(null),o=q.default.useRef(null),i=q.default.useCallback(()=>{var P;(P=n.current)==null||P.click()},[n.current]),[a,s]=q.default.useState(),l=q.default.useCallback(P=>{var w;let F=(w=P.target.files)==null?void 0:w[0];!F||s(URL.createObjectURL(F))},[s]),[u,f]=q.default.useState(!1),[d,m]=q.default.useState("idle"),h=q.default.useCallback(P=>{var F;if(P.preventDefault(),((F=P.dataTransfer.items)==null?void 0:F.length)===1){let w=P.dataTransfer.items[0];if(w.kind==="file"&&w.type.startsWith("image/")){P.dataTransfer.dropEffect="copy",m("ok");return}}P.dataTransfer.dropEffect="none",m("nok")},[m]),x=q.default.useCallback(P=>{P.preventDefault(),m("idle")},[m]),S=q.default.useCallback(P=>{if(P.preventDefault(),d!=="ok")return;m("idle");let F=new FileReader;F.onloadend=()=>{s(F.result)},F.readAsDataURL(P.dataTransfer.files[0])},[d,o.current]),p=q.default.useRef(null),g=q.default.useRef(),B=q.default.useRef(null),k=q.default.useRef(),[v,R]=q.default.useState();q.default.useEffect(()=>{v&&e.onDetect(v)},[v]),q.default.useEffect(()=>{var P;!p.current||(g.current=(P=p.current.getContext("2d"))!=null?P:void 0)},[p.current]),q.default.useEffect(()=>{var P;!B.current||(k.current=(P=B.current.getContext("2d"))!=null?P:void 0)},[B.current]);let M=q.default.useCallback(()=>{if(!o.current||!p.current||!g.current||!B.current||!k.current)return;f(!1);let P=p.current,F=g.current,w=B.current,N=k.current;P.width=o.current.width,P.height=o.current.height,F.drawImage(o.current,0,0,P.width,P.height),w.width=P.width*2,w.height=P.height*2,N.drawImage(o.current,0,0,w.width,w.height);let _=P.width/w.width,O=N.getImageData(0,0,w.width,w.height);setTimeout(()=>{let A=Yr(O.data,O.width,O.height,{inversionAttempts:"dontInvert"});if(A){R(A.data);let T=[A.location.topLeftCorner,A.location.topRightCorner,A.location.bottomRightCorner,A.location.bottomLeftCorner].map(ne=>({x:ne.x*_,y:ne.y*_}));for(let ne=0;ne<T.length;ne++){let xe=T[ne],et=T[(ne-1+T.length)%T.length],dr=T[(ne+1)%T.length];po(F,et,xe,dr,.2,"green")}}else R(void 0)},0)},[p.current,g.current,o.current,f]),I=q.default.useCallback(()=>{f(!0)},[f]);return q.default.createElement("div",{className:(0,jc.default)(t.container,d==="ok"?t.hoverOK:d==="nok"?t.hoverNOK:void 0),onClick:i,onDragOverCapture:h,onDragLeave:x,onDropCapture:S},q.default.createElement(go.default,{variant:"body2",className:t.label},u?r("Failed to open image file"):q.default.createElement(q.default.Fragment,null,r("Click here to select image with QR code"),q.default.createElement("br",null),r("Or drag an image file here"))),a&&q.default.createElement("img",{ref:o,src:a,onLoad:M,onError:I}),q.default.createElement("input",{type:"file",accept:"image/*",hidden:!0,ref:n,onChange:l}),q.default.createElement("canvas",{ref:p}),q.default.createElement("canvas",{hidden:!0,ref:B}))},mo=e=>{let t=$i(),{translate:r}=L(),[n,o]=q.default.useState("image"),i=(a,s)=>{s&&o(s)};return q.default.createElement("div",{className:t.root},q.default.createElement(go.default,{variant:"body1"},r("Select QR code source"),":"),q.default.createElement(Wr,{value:n,exclusive:!0,onChange:i},q.default.createElement(ht,{value:"video"},q.default.createElement(zc.default,null)),q.default.createElement(ht,{value:"image"},q.default.createElement(Lc.default,null))),q.default.createElement("div",{style:{gridColumn:"1 / span 2"}},n==="video"?q.default.createElement(rh,{...e}):q.default.createElement(nh,{...e})))};var kt=U(e=>({strategyRoot:{},strategyGridHeadline:{marginTop:e.spacing(4)},strategyGrid:{marginTop:e.spacing(1),display:"grid",gridTemplateColumns:"auto 400px",gridGap:e.spacing(2),alignItems:"center"},strategyList:{...e.typography.body2},scanQRCodeRoot:{display:"flex",flexFlow:"column nowrap",gap:e.spacing(1),maxWidth:"600px"},waitMessageRoot:{display:"grid",gridTemplateColumns:"minmax(auto, 10ch) 1fr",gridGap:e.spacing(4),alignItems:"center",overflow:"hidden"},grantRoot:{display:"flex",flexFlow:"column nowrap",gap:e.spacing(1),maxWidth:"600px"},grantHeadline:{marginTop:e.spacing(-1),marginBottom:e.spacing(1)},grantCSA:{marginTop:e.spacing(2)},validateDSKRoot:{maxWidth:"600px"},validateDSKGrid:{marginTop:e.spacing(1),display:"grid",width:"100%",gridTemplateColumns:"minmax(auto, 10ch) 1fr",gridGap:e.spacing(1),alignItems:"center",textAlign:"center"},resultRoot:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto auto auto",alignItems:"center"},resultIcon:{marginRight:e.spacing(4),fontSize:"64px",gridRow:"1 / span 3",gridColumn:1},resultIconOK:{color:He[500]},resultIconLowSecurity:{color:us[700]}}));var oh=e=>{let{translate:t}=L(),r=kt(),[n,o]=b.default.useState(!1),i=t(n?"Security S2 when supported, Security S0 as a fallback, no encryption otherwise.":"Security S2 when supported, Security S0 only when necessary, no encryption otherwise."),{namespace:a}=Ke(),[s]=On(`system.adapter.${a}`,{subscribe:!1}),l=s==null?void 0:s.native,u=l&&(!l.networkKey_S0||!l.networkKey_S2_AccessControl||!l.networkKey_S2_Authenticated||!l.networkKey_S2_Unauthenticated);return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:r.strategyRoot},b.default.createElement(le.default,{variant:"body2"},t("Z-Wave supports the following security mechanisms:")),b.default.createElement("ul",{className:r.strategyList,style:{marginTop:"0.5em"}},b.default.createElement("li",null,b.default.createElement("b",null,"Security S2")," \u2013 ",t("fast and secure")," ",b.default.createElement("b",null,t("(recommended)"))),b.default.createElement("li",null,b.default.createElement("b",null,"Security S0")," \u2013"," ",t("secure, but slow due to a lot of overhead")," ",b.default.createElement("b",null,t("(use only when necessary)"))),b.default.createElement("li",null,t("No encryption"))),u&&b.default.createElement(Ft,{severity:"warning"},t("At least one network key is not yet configured. This can cause problems during secure inclusion.")),b.default.createElement(le.default,{variant:"body1",className:r.strategyGridHeadline},t("Please choose an inclusion strategy"),":"),b.default.createElement("div",{className:r.strategyGrid},b.default.createElement("div",{style:{gridRow:1,display:"flex",flexFlow:"column"}},b.default.createElement(ve.default,{variant:"contained",color:"primary",onClick:()=>e.selectStrategy(0,n)},t("Default (secure)")),b.default.createElement(Wt.default,{label:t("Prefer S0 over no encryption"),control:b.default.createElement(Yt.default,{checked:n,onChange:(f,d)=>o(d)})})),b.default.createElement(le.default,{variant:"caption",style:{alignSelf:"flex-start"}},i,b.default.createElement("br",null),t("Requires user interaction during the inclusion.")),b.default.createElement(ve.default,{variant:"contained",color:"secondary",style:{gridRow:2},onClick:()=>e.selectStrategy(-1)},t("Scan QR Code")),b.default.createElement(ve.default,{variant:"contained",color:"secondary",style:{gridRow:3},onClick:()=>e.selectStrategy(3)},t("Security S0")),b.default.createElement(le.default,{style:{gridRow:3},variant:"caption"},t("Only use S0, even if S2 is available. Allows including devices that require security but don't behave correctly during S2 inclusion.")),b.default.createElement(ve.default,{variant:"contained",color:"default",style:{gridRow:4},onClick:()=>e.selectStrategy(2)},t("No encryption")))),b.default.createElement(ot.default,null,b.default.createElement(ve.default,{variant:"contained",onClick:e.onCancel,color:"primary"},t("Cancel"))))},ih=e=>{let{translate:t}=L(),r=kt();return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:r.strategyRoot},b.default.createElement(le.default,{variant:"body1",className:r.strategyGridHeadline},t("Please choose a replacement strategy"),":"),b.default.createElement("div",{className:r.strategyGrid},b.default.createElement(ve.default,{variant:"contained",color:"primary",style:{gridRow:1},onClick:()=>e.selectStrategy(4)},t("Security S2")),b.default.createElement(le.default,{variant:"caption",style:{alignSelf:"flex-start"}},t("fast and secure"),b.default.createElement("br",null),t("(recommended)")),b.default.createElement(ve.default,{variant:"contained",color:"secondary",style:{gridRow:2},disabled:!0,onClick:()=>e.selectStrategy(3)},t("Security S0")),b.default.createElement(le.default,{variant:"caption"},t("secure, but slow due to a lot of overhead"),b.default.createElement("br",null),t("(use only when necessary)")),b.default.createElement(ve.default,{variant:"contained",color:"default",style:{gridRow:3},onClick:()=>e.selectStrategy(2)},t("No encryption")))),b.default.createElement(ot.default,null,b.default.createElement(ve.default,{variant:"contained",onClick:e.onCancel,color:"primary"},t("Cancel"))))},ah=e=>{let t=kt(),{translate:r}=L(),[n,o]=b.default.useState(!1),i=b.default.useCallback(a=>{n||(o(!0),setTimeout(()=>{e.onScan(a)},500))},[n,o,e.onScan]);return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:t.scanQRCodeRoot},b.default.createElement(mo,{onDetect:i})),b.default.createElement(ot.default,null,e.onCancel&&b.default.createElement(ve.default,{variant:"contained",onClick:e.onCancel,color:"primary"},r("Cancel"))))},Vi=e=>{let t=kt(),{translate:r}=L();return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:t.waitMessageRoot},b.default.createElement(Kc.default,{size:48}),b.default.createElement(le.default,{variant:"body1"},e.message)),b.default.createElement(ot.default,null,e.onCancel&&b.default.createElement(ve.default,{variant:"contained",onClick:e.onCancel,color:"primary"},r("Cancel"))))},sh=e=>{let{translate:t}=L(),r=kt(),n=e.request,o=n.securityClasses.includes(2),i=n.securityClasses.includes(1),a=n.securityClasses.includes(0),s=n.securityClasses.includes(7),l=n.clientSideAuth,[u,f]=b.default.useState(o),[d,m]=b.default.useState(i),[h,x]=b.default.useState(a),[S,p]=b.default.useState(s),[g,B]=b.default.useState(l),k=()=>{let v=[];u&&v.push(2),d&&v.push(1),h&&v.push(0),S&&v.push(7);let R={securityClasses:v,clientSideAuth:g};e.grantSecurityClasses(R)};return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:r.grantRoot},b.default.createElement(le.default,{variant:"body1"},t("Please choose which of the following security classes to grant to the new node.")),b.default.createElement(le.default,{variant:"caption",className:r.grantHeadline},t("At least one must be granted or the key exchange will be canceled.")),b.default.createElement(Wt.default,{label:b.default.createElement(b.default.Fragment,null,b.default.createElement("b",null,"S2 Access Control",!o&&b.default.createElement(b.default.Fragment,null," (",t("not requested"),")")),b.default.createElement("br",null),b.default.createElement(le.default,{variant:"caption"},t("Example:")," ",t("Door locks, garage doors"),", ...")),disabled:!o,control:b.default.createElement(Yt.default,{checked:u,onChange:(v,R)=>f(R)})}),b.default.createElement(Wt.default,{label:b.default.createElement(b.default.Fragment,null,b.default.createElement("b",null,"S2 Authenticated",!i&&b.default.createElement(b.default.Fragment,null," (",t("not requested"),")")),b.default.createElement("br",null),b.default.createElement(le.default,{variant:"caption"},t("Example:")," ",t("Lighting, sensors, security systems"),", ...")),disabled:!i,control:b.default.createElement(Yt.default,{checked:d,onChange:(v,R)=>m(R)})}),b.default.createElement(Wt.default,{label:b.default.createElement(b.default.Fragment,null,b.default.createElement("b",null,"S2 Unauthenticated",!a&&b.default.createElement(b.default.Fragment,null," (",t("not requested"),")")),b.default.createElement("br",null),b.default.createElement(le.default,{variant:"caption"},t("Like S2 Authenticated, but without verification that the correct device is included"))),disabled:!a,control:b.default.createElement(Yt.default,{checked:h,onChange:(v,R)=>x(R)})}),b.default.createElement(Wt.default,{label:b.default.createElement(b.default.Fragment,null,b.default.createElement("b",null,"S0 Legacy",!s&&b.default.createElement(b.default.Fragment,null," (",t("not requested"),")")),b.default.createElement("br",null),b.default.createElement(le.default,{variant:"caption"},t("Example:")," ",t("Legacy door locks without S2 support"))),disabled:!s,control:b.default.createElement(Yt.default,{checked:S,onChange:(v,R)=>p(R)})}),b.default.createElement(Wt.default,{className:r.grantCSA,label:b.default.createElement(b.default.Fragment,null,b.default.createElement("b",null,"Client Side Authentication",!l&&b.default.createElement(b.default.Fragment,null," (",t("not requested"),")")),b.default.createElement("br",null),b.default.createElement(le.default,{variant:"caption"},t("For devices without a DSK. Authentication of the inclusion happens on the device instead of in ioBroker."))),disabled:!l,control:b.default.createElement(Yt.default,{checked:g,onChange:(v,R)=>B(R)})})),b.default.createElement(ot.default,null,b.default.createElement(ve.default,{variant:"contained",onClick:k,color:"primary"},t("OK")),b.default.createElement(ve.default,{variant:"contained",onClick:e.onCancel,color:"primary"},t("Cancel"))))},lh=e=>{let{translate:t}=L(),[r,n]=b.default.useState(""),[o,i]=b.default.useState(!1),a=f=>{let d=f.target.value.replace(/[^0-9]/g,"");n(d),i(!1)},s=()=>{r.length!==5&&i(!0)},l=()=>{r.length===5&&e.setPIN(r)},u=kt();return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:u.validateDSKRoot},b.default.createElement(le.default,{variant:"body1",className:u.strategyGridHeadline},t("Please enter the 5-digit PIN for your device and verify that the rest of the device-specific key (DSK) matches the one on your device or the manual.")),b.default.createElement("div",{className:u.validateDSKGrid},b.default.createElement($c.default,{autoFocus:!0,variant:"outlined",margin:"dense",inputProps:{maxLength:5,style:{textAlign:"center"}},value:r,error:!!o,onChange:a,onBlur:s,onKeyDown:f=>{f.key==="Enter"&&l(),f.key==="Escape"&&e.onCancel()}}),b.default.createElement(le.default,{variant:"body1"},e.dsk),b.default.createElement(le.default,{variant:"caption"},"PIN"),b.default.createElement(le.default,{variant:"caption"},"DSK"))),b.default.createElement(ot.default,null,b.default.createElement(ve.default,{disabled:r.length!==5,onClick:l,color:"primary"},t("OK")),b.default.createElement(ve.default,{variant:"contained",onClick:e.onCancel,color:"primary"},t("Cancel"))))},ch=e=>{var s;let{translate:t}=L(),r=kt(),n=e.lowSecurity?Xi.default:ho.default,o=e.lowSecurity?t("Node %s was added insecurely!",e.nodeId.toString()):t("Node %s was added successfully!",e.nodeId.toString()),i=e.lowSecurity?t("There was an error during secure inclusion. To try again, exclude the node first."):t("Security class: %s",(s=e.securityClass)!=null?s:t("None")),a=t("The device is now being interviewed. It might take a while to show up.");return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:r.resultRoot},b.default.createElement(n,{className:(0,yo.default)(r.resultIcon,e.lowSecurity?r.resultIconLowSecurity:r.resultIconOK)}),b.default.createElement(le.default,{variant:"body1",style:{fontWeight:"bold",fontSize:"125%"}},o),b.default.createElement(le.default,{variant:"body2"},i),b.default.createElement(le.default,{variant:"body2"},a)),b.default.createElement(ot.default,null,b.default.createElement(ve.default,{variant:"contained",onClick:e.onDone,color:"primary"},t("OK"))))},uh=e=>{let{translate:t}=L(),r=kt();return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:r.resultRoot},b.default.createElement(ho.default,{className:(0,yo.default)(r.resultIcon,r.resultIconOK)}),b.default.createElement(le.default,{variant:"body2"},t("Node %s was removed from the network!",e.nodeId.toString()))),b.default.createElement(ot.default,null,b.default.createElement(ve.default,{variant:"contained",onClick:e.onDone,color:"primary"},t("OK"))))},dh=e=>{let{translate:t}=L(),r=kt(),n=e.success?ho.default:Xi.default;return b.default.createElement(b.default.Fragment,null,b.default.createElement(it.default,{className:r.resultRoot},b.default.createElement(n,{className:(0,yo.default)(r.resultIcon,e.success?r.resultIconOK:r.resultIconLowSecurity)}),b.default.createElement(le.default,{variant:"body1",style:{fontWeight:"bold",fontSize:"125%"}},e.title),b.default.createElement(le.default,{variant:"body2"},e.message)),b.default.createElement(ot.default,null,b.default.createElement(ve.default,{variant:"contained",onClick:e.onDone,color:"primary"},t("OK"))))},Vc=e=>{let{translate:t}=L(),r=b.default.useMemo(()=>{switch(e.step){case 0:return b.default.createElement(oh,{selectStrategy:e.selectStrategy,onCancel:e.onCancel});case 1:return b.default.createElement(ih,{selectStrategy:e.selectStrategy,onCancel:e.onCancel});case 2:return b.default.createElement(ah,{onScan:e.onScan,onCancel:e.onCancel});case 3:return b.default.createElement(Vi,{message:t("Put your device into inclusion mode"),onCancel:e.onCancel});case 4:return b.default.createElement(Vi,{message:t("Put your device into exclusion mode"),onCancel:e.onCancel});case 5:return b.default.createElement(sh,{grantSecurityClasses:e.grantSecurityClasses,request:e.request,onCancel:e.onCancel});case 6:return b.default.createElement(lh,{dsk:e.dsk,onCancel:e.onCancel,setPIN:e.setPIN});case 8:return b.default.createElement(ch,{nodeId:e.nodeId,lowSecurity:e.lowSecurity,securityClass:e.securityClass,onDone:e.onDone});case 9:return b.default.createElement(uh,{nodeId:e.nodeId,onDone:e.onDone});case 10:return b.default.createElement(dh,{title:e.title,message:e.message,success:e.success,onDone:e.onDone});case 7:return b.default.createElement(Vi,{message:t("Communicating with the device, please be patient...")})}},[e.step]),n=b.default.useMemo(()=>{switch(e.step){case 0:case 3:case 5:case 6:case 8:case 7:case 2:return t("Include device");case 1:return t("Replace device");case 4:case 9:return t("Exclude device")}},[e.step]);return b.default.createElement(Hc.default,{open:e.isOpen,onClose:e.onCancel,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:!1},b.default.createElement(Uc.default,{id:"alert-dialog-title"},n),r)};var Gc=e=>{let{devices:t}=e,{alive:r,connected:n}=Mt(),{namespace:o}=Ke(),{translate:i}=L(),a=Ee(),{showNotification:s}=Rt(),[l,u]=be.default.useState(!1),[f]=It({id:`${o}.info.inclusion`,defaultValue:!1}),[d,,m]=It({id:`${o}.info.exclusion`,defaultValue:!1}),[h]=It({id:`${o}.info.healingNetwork`,defaultValue:!1}),[x,S]=be.default.useState({}),[p,g]=be.default.useState(),[B,k]=be.default.useState(!1),v=be.default.useCallback(A=>{var T;A.type==="inclusion"?(g(A.status),A.status.type==="done"&&k(!0)):A.type==="healing"&&(S((T=A.status.progress)!=null?T:{}),A.status.type==="done"&&s(i("Healing the network was successful!"),"success"))},[g,S,s]);Mn(v);let[R,M]=be.default.useState(!1);be.default.useEffect(()=>(r&&n&&!R&&(M(!0),a.subscribeStatistics()),()=>{R&&(M(!1),a.unsubscribeStatistics())}),[r,n,R]);async function I(){if(!h)try{S({}),await a.beginHealingNetwork()}catch(A){s(Fe(A),"error");return}}let P=[];if(t)for(let A of Object.keys(t)){let T=t[A];T&&P.push(T)}async function F(A){g({type:"chooseReplacementStrategy",nodeId:A}),k(!0)}let w=be.default.useCallback(()=>{k(!1),setTimeout(()=>{g(void 0)},250)},[k,g]),N=(()=>{if(d)return{step:4,onCancel:()=>{k(!1),setTimeout(()=>{m(!1)},250)}};if(!p&&!f)return{step:0,onCancel:()=>k(!1),selectStrategy:async(A,T)=>{if(A===-1){g({type:"scanQRCode"});return}try{await a.beginInclusion(A,T),g({type:"waitingForDevice"})}catch(ne){s(i("Failed to start inclusion"),"error")}}};if((p==null?void 0:p.type)==="chooseReplacementStrategy")return{step:1,onCancel:w,selectStrategy:async A=>{try{await a.replaceFailedNode(p.nodeId,A),g({type:"waitingForDevice"})}catch(T){s(i("Failed to start replacing the node"),"error")}}};if((p==null?void 0:p.type)==="scanQRCode")return{step:2,onScan:async A=>{g({type:"busy"});try{let T=await a.scanQRCode(A,!0);T.type==="none"?(s(i("This is not a valid Z-Wave QR code"),"warning"),g({type:"scanQRCode"})):T.type==="SmartStart"?g({type:"resultMessage",success:!0,title:i("Added SmartStart device"),message:be.default.createElement(be.default.Fragment,null,i("Successfully added SmartStart device to provisioning list."),be.default.createElement("br",null),i("It will be included automatically when it announces itself."))}):T.type==="S2"?g({type:"waitingForDevice"}):T.type==="included"?g({type:"resultMessage",success:!0,title:i("Already included"),message:i("The device is already included as Node %s",T.nodeId.toString())}):T.type==="provisioned"&&g({type:"resultMessage",success:!0,title:i("Already provisioned"),message:i("This node is already on the SmartStart provisioning list")})}catch(T){w(),s(i("Failed to scan QR code"),"error")}},onCancel:w};if(!p||p.type==="waitingForDevice")return{step:3,onCancel:()=>{k(!1),setTimeout(()=>{a.stopInclusion(),g(void 0)},250)}};if(p.type==="busy")return{step:7,onCancel:()=>{}};if(p.type==="validateDSK")return{step:6,dsk:p.dsk,setPIN:A=>{a.validateDSK(A)},onCancel:()=>{a.validateDSK(!1)}};if(p.type==="grantSecurityClasses")return{step:5,request:p.request,grantSecurityClasses:A=>{a.grantSecurityClasses(A)},onCancel:()=>{a.grantSecurityClasses(!1)}};if(p.type==="done")return{step:8,nodeId:p.nodeId,lowSecurity:p.lowSecurity,securityClass:p.securityClass,onDone:w,onCancel:w};if(p.type==="exclusionDone")return{step:9,nodeId:p.nodeId,onDone:w,onCancel:w};if(p.type==="resultMessage")return{step:10,message:p.message,success:p.success,title:p.title,onDone:w,onCancel:w}})(),_=f||!!p&&!d&&p.type!=="exclusionDone",O=d||!!p&&!f&&p.type!=="done"&&p.type!=="exclusionDone";return!r||!n?be.default.createElement(Tt,null):t?be.default.createElement(be.default.Fragment,null,be.default.createElement(Zs,{state:l?4:_?1:O?2:h?3:0,beginInclusion:()=>k(!0),beginExclusion:async()=>{await m(!0),k(!0)},healNetwork:I,cancelHealing:()=>a.stopHealingNetwork()}),be.default.createElement(nc,{isBusy:l||h,setBusy:u,devices:P,healingNetwork:h,networkHealProgress:x,replaceFailedNode:F}),N&&be.default.createElement(Vc,{isOpen:B,...N})):be.default.createElement(Xc.default,null)};var Eo=y(E());function vo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var kr=class extends Map{constructor(t,r=gh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,o]of t)this.set(n,o)}get(t){return super.get(Qc(this,t))}has(t){return super.has(Qc(this,t))}set(t,r){return super.set(fh(this,t),r)}delete(t){return super.delete(ph(this,t))}};function Qc({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function fh({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ph({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gh(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bo(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(o);++n<o;)i[n]=e+n*r;return i}var Gi=Math.abs,Jt=Math.cos,Zt=Math.sin,Wc=Math.PI,Jr=Wc/2,Qi=Wc*2,Wi=Math.max,ko=1e-12;function Yi(e,t){return Array.from({length:t-e},(r,n)=>e+n)}function mh(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function Ji(){return hh(!1,!1)}function hh(e,t){var r=0,n=null,o=null,i=null;function a(s){var l=s.length,u=new Array(l),f=Yi(0,l),d=new Array(l*l),m=new Array(l),h=0,x;s=Float64Array.from({length:l*l},t?(S,p)=>s[p%l][p/l|0]:(S,p)=>s[p/l|0][p%l]);for(let S=0;S<l;++S){let p=0;for(let g=0;g<l;++g)p+=s[S*l+g]+e*s[g*l+S];h+=u[S]=p}h=Wi(0,Qi-r*l)/h,x=h?r:Qi/l;{let S=0;n&&f.sort((p,g)=>n(u[p],u[g]));for(let p of f){let g=S;if(e){let B=Yi(~l+1,l).filter(k=>k<0?s[~k*l+p]:s[p*l+k]);o&&B.sort((k,v)=>o(k<0?-s[~k*l+p]:s[p*l+k],v<0?-s[~v*l+p]:s[p*l+v]));for(let k of B)if(k<0){let v=d[~k*l+p]||(d[~k*l+p]={source:null,target:null});v.target={index:p,startAngle:S,endAngle:S+=s[~k*l+p]*h,value:s[~k*l+p]}}else{let v=d[p*l+k]||(d[p*l+k]={source:null,target:null});v.source={index:p,startAngle:S,endAngle:S+=s[p*l+k]*h,value:s[p*l+k]}}m[p]={index:p,startAngle:g,endAngle:S,value:u[p]}}else{let B=Yi(0,l).filter(k=>s[p*l+k]||s[k*l+p]);o&&B.sort((k,v)=>o(s[p*l+k],s[p*l+v]));for(let k of B){let v;if(p<k?(v=d[p*l+k]||(d[p*l+k]={source:null,target:null}),v.source={index:p,startAngle:S,endAngle:S+=s[p*l+k]*h,value:s[p*l+k]}):(v=d[k*l+p]||(d[k*l+p]={source:null,target:null}),v.target={index:p,startAngle:S,endAngle:S+=s[p*l+k]*h,value:s[p*l+k]},p===k&&(v.source=v.target)),v.source&&v.target&&v.source.value<v.target.value){let R=v.source;v.source=v.target,v.target=R}}m[p]={index:p,startAngle:g,endAngle:S,value:u[p]}}S+=x}}return d=Object.values(d),d.groups=m,i?d.sort(i):d}return a.padAngle=function(s){return arguments.length?(r=Wi(0,s),a):r},a.sortGroups=function(s){return arguments.length?(n=s,a):n},a.sortSubgroups=function(s){return arguments.length?(o=s,a):o},a.sortChords=function(s){return arguments.length?(s==null?i=null:(i=mh(s))._=s,a):i&&i._},a}var Zi=Math.PI,ea=2*Zi,er=1e-6,yh=ea-er;function ta(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Yc(){return new ta}ta.prototype=Yc.prototype={constructor:ta,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,o,i){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,r,n,o){e=+e,t=+t,r=+r,n=+n,o=+o;var i=this._x1,a=this._y1,s=r-e,l=n-t,u=i-e,f=a-t,d=u*u+f*f;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>er)if(!(Math.abs(f*s-l*u)>er)||!o)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var m=r-i,h=n-a,x=s*s+l*l,S=m*m+h*h,p=Math.sqrt(x),g=Math.sqrt(d),B=o*Math.tan((Zi-Math.acos((x+d-S)/(2*p*g)))/2),k=B/g,v=B/p;Math.abs(k-1)>er&&(this._+="L"+(e+k*u)+","+(t+k*f)),this._+="A"+o+","+o+",0,0,"+ +(f*m>u*h)+","+(this._x1=e+v*s)+","+(this._y1=t+v*l)}},arc:function(e,t,r,n,o,i){e=+e,t=+t,r=+r,i=!!i;var a=r*Math.cos(n),s=r*Math.sin(n),l=e+a,u=t+s,f=1^i,d=i?n-o:o-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>er||Math.abs(this._y1-u)>er)&&(this._+="L"+l+","+u),r&&(d<0&&(d=d%ea+ea),d>yh?this._+="A"+r+","+r+",0,1,"+f+","+(e-a)+","+(t-s)+"A"+r+","+r+",0,1,"+f+","+(this._x1=l)+","+(this._y1=u):d>er&&(this._+="A"+r+","+r+",0,"+ +(d>=Zi)+","+f+","+(this._x1=e+r*Math.cos(o))+","+(this._y1=t+r*Math.sin(o))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var Zr=Yc;var Jc=Array.prototype.slice;function qt(e){return function(){return e}}function vh(e){return e.source}function bh(e){return e.target}function Zc(e){return e.radius}function kh(e){return e.startAngle}function Sh(e){return e.endAngle}function Bh(){return 0}function wh(e){var t=vh,r=bh,n=Zc,o=Zc,i=kh,a=Sh,s=Bh,l=null;function u(){var f,d=t.apply(this,arguments),m=r.apply(this,arguments),h=s.apply(this,arguments)/2,x=Jc.call(arguments),S=+n.apply(this,(x[0]=d,x)),p=i.apply(this,x)-Jr,g=a.apply(this,x)-Jr,B=+o.apply(this,(x[0]=m,x)),k=i.apply(this,x)-Jr,v=a.apply(this,x)-Jr;if(l||(l=f=Zr()),h>ko&&(Gi(g-p)>h*2+ko?g>p?(p+=h,g-=h):(p-=h,g+=h):p=g=(p+g)/2,Gi(v-k)>h*2+ko?v>k?(k+=h,v-=h):(k-=h,v+=h):k=v=(k+v)/2),l.moveTo(S*Jt(p),S*Zt(p)),l.arc(0,0,S,p,g),p!==k||g!==v)if(e){var R=+e.apply(this,arguments),M=B-R,I=(k+v)/2;l.quadraticCurveTo(0,0,M*Jt(k),M*Zt(k)),l.lineTo(B*Jt(I),B*Zt(I)),l.lineTo(M*Jt(v),M*Zt(v))}else l.quadraticCurveTo(0,0,B*Jt(k),B*Zt(k)),l.arc(0,0,B,k,v);if(l.quadraticCurveTo(0,0,S*Jt(p),S*Zt(p)),l.closePath(),f)return l=null,f+""||null}return e&&(u.headRadius=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e}),u.radius=function(f){return arguments.length?(n=o=typeof f=="function"?f:qt(+f),u):n},u.sourceRadius=function(f){return arguments.length?(n=typeof f=="function"?f:qt(+f),u):n},u.targetRadius=function(f){return arguments.length?(o=typeof f=="function"?f:qt(+f),u):o},u.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:qt(+f),u):i},u.endAngle=function(f){return arguments.length?(a=typeof f=="function"?f:qt(+f),u):a},u.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:qt(+f),u):s},u.source=function(f){return arguments.length?(t=f,u):t},u.target=function(f){return arguments.length?(r=f,u):r},u.context=function(f){return arguments.length?(l=f==null?null:f,u):l},u}function ra(){return wh()}function eu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var na=Symbol("implicit");function en(){var e=new kr,t=[],r=[],n=na;function o(i){let a=e.get(i);if(a===void 0){if(n!==na)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new kr;for(let a of i)e.has(a)||e.set(a,t.push(a)-1);return o},o.range=function(i){return arguments.length?(r=Array.from(i),o):r.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return en(t,r).unknown(n)},eu.apply(o,arguments),o}function So(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oa(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function nn(){}var tn=.7,xo=1/tn,Sr="\\s*([+-]?\\d+)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",at="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xh=/^#([0-9a-f]{3,8})$/,_h=new RegExp(`^rgb\\(${Sr},${Sr},${Sr}\\)$`),Ch=new RegExp(`^rgb\\(${at},${at},${at}\\)$`),Nh=new RegExp(`^rgba\\(${Sr},${Sr},${Sr},${rn}\\)$`),Ph=new RegExp(`^rgba\\(${at},${at},${at},${rn}\\)$`),Rh=new RegExp(`^hsl\\(${rn},${at},${at}\\)$`),Oh=new RegExp(`^hsla\\(${rn},${at},${at},${rn}\\)$`),tu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};So(nn,on,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ru,formatHex:ru,formatHex8:Ih,formatHsl:Mh,formatRgb:nu,toString:nu});function ru(){return this.rgb().formatHex()}function Ih(){return this.rgb().formatHex8()}function Mh(){return cu(this).formatHsl()}function nu(){return this.rgb().formatRgb()}function on(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xh.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ou(t):r===3?new Le(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_h.exec(e))?new Le(t[1],t[2],t[3],1):(t=Ch.exec(e))?new Le(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Nh.exec(e))?Bo(t[1],t[2],t[3],t[4]):(t=Ph.exec(e))?Bo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rh.exec(e))?su(t[1],t[2]/100,t[3]/100,1):(t=Oh.exec(e))?su(t[1],t[2]/100,t[3]/100,t[4]):tu.hasOwnProperty(e)?ou(tu[e]):e==="transparent"?new Le(NaN,NaN,NaN,0):null}function ou(e){return new Le(e>>16&255,e>>8&255,e&255,1)}function Bo(e,t,r,n){return n<=0&&(e=t=r=NaN),new Le(e,t,r,n)}function Dh(e){return e instanceof nn||(e=on(e)),e?(e=e.rgb(),new Le(e.r,e.g,e.b,e.opacity)):new Le}function Br(e,t,r,n){return arguments.length===1?Dh(e):new Le(e,t,r,n==null?1:n)}function Le(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}So(Le,Br,oa(nn,{brighter(e){return e=e==null?xo:Math.pow(xo,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tn:Math.pow(tn,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Le(rr(this.r),rr(this.g),rr(this.b),_o(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iu,formatHex:iu,formatHex8:Th,formatRgb:au,toString:au}));function iu(){return`#${tr(this.r)}${tr(this.g)}${tr(this.b)}`}function Th(){return`#${tr(this.r)}${tr(this.g)}${tr(this.b)}${tr((isNaN(this.opacity)?1:this.opacity)*255)}`}function au(){let e=_o(this.opacity);return`${e===1?"rgb(":"rgba("}${rr(this.r)}, ${rr(this.g)}, ${rr(this.b)}${e===1?")":`, ${e})`}`}function _o(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tr(e){return e=rr(e),(e<16?"0":"")+e.toString(16)}function su(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new We(e,t,r,n)}function cu(e){if(e instanceof We)return new We(e.h,e.s,e.l,e.opacity);if(e instanceof nn||(e=on(e)),!e)return new We;if(e instanceof We)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,s=i-o,l=(i+o)/2;return s?(t===i?a=(r-n)/s+(r<n)*6:r===i?a=(n-t)/s+2:a=(t-r)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new We(a,s,l,e.opacity)}function uu(e,t,r,n){return arguments.length===1?cu(e):new We(e,t,r,n==null?1:n)}function We(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}So(We,uu,oa(nn,{brighter(e){return e=e==null?xo:Math.pow(xo,e),new We(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tn:Math.pow(tn,e),new We(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Le(ia(e>=240?e-240:e+120,o,n),ia(e,o,n),ia(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new We(lu(this.h),wo(this.s),wo(this.l),_o(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=_o(this.opacity);return`${e===1?"hsl(":"hsla("}${lu(this.h)}, ${wo(this.s)*100}%, ${wo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lu(e){return e=(e||0)%360,e<0?e+360:e}function wo(e){return Math.max(0,Math.min(1,e||0))}function ia(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function aa(e,t,r,n,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*r+(1+3*e+3*i-3*a)*n+a*o)/6}function du(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[n],i=e[n+1],a=n>0?e[n-1]:2*o-i,s=n<t-1?e[n+2]:2*i-o;return aa((r-n/t)*t,a,o,i,s)}}function fu(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),o=e[(n+t-1)%t],i=e[n%t],a=e[(n+1)%t],s=e[(n+2)%t];return aa((r-n/t)*t,o,i,a,s)}}var sa=e=>()=>e;function Ah(e,t){return function(r){return e+r*t}}function Fh(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pu(e){return(e=+e)==1?Co:function(t,r){return r-t?Fh(t,r,e):sa(isNaN(t)?r:t)}}function Co(e,t){var r=t-e;return r?Ah(e,r):sa(isNaN(e)?t:e)}var Eh=function e(t){var r=pu(t);function n(o,i){var a=r((o=Br(o)).r,(i=Br(i)).r),s=r(o.g,i.g),l=r(o.b,i.b),u=Co(o.opacity,i.opacity);return function(f){return o.r=a(f),o.g=s(f),o.b=l(f),o.opacity=u(f),o+""}}return n.gamma=e,n}(1);function gu(e){return function(t){var r=t.length,n=new Array(r),o=new Array(r),i=new Array(r),a,s;for(a=0;a<r;++a)s=Br(t[a]),n[a]=s.r||0,o[a]=s.g||0,i[a]=s.b||0;return n=e(n),o=e(o),i=e(i),s.opacity=1,function(l){return s.r=n(l),s.g=o(l),s.b=i(l),s+""}}}var la=gu(du),qh=gu(fu);function mu(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var hu=e=>la(e[e.length-1]);var No=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(mu),Lh=hu(No);var Po="http://www.w3.org/1999/xhtml",ca={svg:"http://www.w3.org/2000/svg",xhtml:Po,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ro(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ca.hasOwnProperty(t)?{space:ca[t],local:e}:e}function zh(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Po&&t.documentElement.namespaceURI===Po?t.createElement(e):t.createElementNS(r,e)}}function jh(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Oo(e){var t=Ro(e);return(t.local?jh:zh)(t)}function Hh(){}function Io(e){return e==null?Hh:function(){return this.querySelector(e)}}function yu(e){typeof e!="function"&&(e=Io(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i=t[o],a=i.length,s=n[o]=new Array(a),l,u,f=0;f<a;++f)(l=i[f])&&(u=e.call(l,l.__data__,f,i))&&("__data__"in l&&(u.__data__=l.__data__),s[f]=u);return new ge(n,this._parents)}function ua(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Uh(){return[]}function vu(e){return e==null?Uh:function(){return this.querySelectorAll(e)}}function Kh(e){return function(){return ua(e.apply(this,arguments))}}function bu(e){typeof e=="function"?e=Kh(e):e=vu(e);for(var t=this._groups,r=t.length,n=[],o=[],i=0;i<r;++i)for(var a=t[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(n.push(e.call(l,l.__data__,u,a)),o.push(l));return new ge(n,o)}function ku(e){return function(){return this.matches(e)}}function Mo(e){return function(t){return t.matches(e)}}var $h=Array.prototype.find;function Vh(e){return function(){return $h.call(this.children,e)}}function Xh(){return this.firstElementChild}function Su(e){return this.select(e==null?Xh:Vh(typeof e=="function"?e:Mo(e)))}var Gh=Array.prototype.filter;function Qh(){return Array.from(this.children)}function Wh(e){return function(){return Gh.call(this.children,e)}}function Bu(e){return this.selectAll(e==null?Qh:Wh(typeof e=="function"?e:Mo(e)))}function wu(e){typeof e!="function"&&(e=ku(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i=t[o],a=i.length,s=n[o]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new ge(n,this._parents)}function Do(e){return new Array(e.length)}function xu(){return new ge(this._enter||this._groups.map(Do),this._parents)}function an(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}an.prototype={constructor:an,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _u(e){return function(){return e}}function Yh(e,t,r,n,o,i){for(var a=0,s,l=t.length,u=i.length;a<u;++a)(s=t[a])?(s.__data__=i[a],n[a]=s):r[a]=new an(e,i[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function Jh(e,t,r,n,o,i,a){var s,l,u=new Map,f=t.length,d=i.length,m=new Array(f),h;for(s=0;s<f;++s)(l=t[s])&&(m[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?o[s]=l:u.set(h,l));for(s=0;s<d;++s)h=a.call(e,i[s],s,i)+"",(l=u.get(h))?(n[s]=l,l.__data__=i[s],u.delete(h)):r[s]=new an(e,i[s]);for(s=0;s<f;++s)(l=t[s])&&u.get(m[s])===l&&(o[s]=l)}function Zh(e){return e.__data__}function Cu(e,t){if(!arguments.length)return Array.from(this,Zh);var r=t?Jh:Yh,n=this._parents,o=this._groups;typeof e!="function"&&(e=_u(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var f=n[u],d=o[u],m=d.length,h=e0(e.call(f,f&&f.__data__,u,n)),x=h.length,S=s[u]=new Array(x),p=a[u]=new Array(x),g=l[u]=new Array(m);r(f,d,S,p,g,h,t);for(var B=0,k=0,v,R;B<x;++B)if(v=S[B]){for(B>=k&&(k=B+1);!(R=p[k])&&++k<x;);v._next=R||null}}return a=new ge(a,n),a._enter=s,a._exit=l,a}function e0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nu(){return new ge(this._exit||this._groups.map(Do),this._parents)}function Pu(e,t,r){var n=this.enter(),o=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function Ru(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,i=n.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var u=r[l],f=n[l],d=u.length,m=s[l]=new Array(d),h,x=0;x<d;++x)(h=u[x]||f[x])&&(m[x]=h);for(;l<o;++l)s[l]=r[l];return new ge(s,this._parents)}function Ou(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Iu(e){e||(e=t0);function t(d,m){return d&&m?e(d.__data__,m.__data__):!d-!m}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],s=a.length,l=o[i]=new Array(s),u,f=0;f<s;++f)(u=a[f])&&(l[f]=u);l.sort(t)}return new ge(o,this._parents).order()}function t0(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Mu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Du(){return Array.from(this)}function Tu(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function Au(){let e=0;for(let t of this)++e;return e}function Fu(){return!this.node()}function Eu(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function r0(e){return function(){this.removeAttribute(e)}}function n0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o0(e,t){return function(){this.setAttribute(e,t)}}function i0(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function a0(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function s0(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function qu(e,t){var r=Ro(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?n0:r0:typeof t=="function"?r.local?s0:a0:r.local?i0:o0)(r,t))}function To(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function l0(e){return function(){this.style.removeProperty(e)}}function c0(e,t,r){return function(){this.style.setProperty(e,t,r)}}function u0(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Lu(e,t,r){return arguments.length>1?this.each((t==null?l0:typeof t=="function"?u0:c0)(e,t,r==null?"":r)):d0(this.node(),e)}function d0(e,t){return e.style.getPropertyValue(t)||To(e).getComputedStyle(e,null).getPropertyValue(t)}function f0(e){return function(){delete this[e]}}function p0(e,t){return function(){this[e]=t}}function g0(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function zu(e,t){return arguments.length>1?this.each((t==null?f0:typeof t=="function"?g0:p0)(e,t)):this.node()[e]}function ju(e){return e.trim().split(/^|\s+/)}function da(e){return e.classList||new Hu(e)}function Hu(e){this._node=e,this._names=ju(e.getAttribute("class")||"")}Hu.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Uu(e,t){for(var r=da(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function Ku(e,t){for(var r=da(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function m0(e){return function(){Uu(this,e)}}function h0(e){return function(){Ku(this,e)}}function y0(e,t){return function(){(t.apply(this,arguments)?Uu:Ku)(this,e)}}function $u(e,t){var r=ju(e+"");if(arguments.length<2){for(var n=da(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?y0:t?m0:h0)(r,t))}function v0(){this.textContent=""}function b0(e){return function(){this.textContent=e}}function k0(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Vu(e){return arguments.length?this.each(e==null?v0:(typeof e=="function"?k0:b0)(e)):this.node().textContent}function S0(){this.innerHTML=""}function B0(e){return function(){this.innerHTML=e}}function w0(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Xu(e){return arguments.length?this.each(e==null?S0:(typeof e=="function"?w0:B0)(e)):this.node().innerHTML}function x0(){this.nextSibling&&this.parentNode.appendChild(this)}function Gu(){return this.each(x0)}function _0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qu(){return this.each(_0)}function Wu(e){var t=typeof e=="function"?e:Oo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function C0(){return null}function Yu(e,t){var r=typeof e=="function"?e:Oo(e),n=t==null?C0:typeof t=="function"?t:Io(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function N0(){var e=this.parentNode;e&&e.removeChild(this)}function Ju(){return this.each(N0)}function P0(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function R0(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zu(e){return this.select(e?R0:P0)}function ed(e){return arguments.length?this.property("__data__",e):this.node().__data__}function O0(e){return function(t){e.call(this,t,this.__data__)}}function I0(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function M0(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,o=t.length,i;r<o;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function D0(e,t,r){return function(){var n=this.__on,o,i=O0(t);if(n){for(var a=0,s=n.length;a<s;++a)if((o=n[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=t;return}}this.addEventListener(e.type,i,r),o={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(o):this.__on=[o]}}function td(e,t,r){var n=I0(e+""),o,i=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,f;l<u;++l)for(o=0,f=s[l];o<i;++o)if((a=n[o]).type===f.type&&a.name===f.name)return f.value}return}for(s=t?D0:M0,o=0;o<i;++o)this.each(s(n[o],t,r));return this}function rd(e,t,r){var n=To(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function T0(e,t){return function(){return rd(this,e,t)}}function A0(e,t){return function(){return rd(this,e,t.apply(this,arguments))}}function nd(e,t){return this.each((typeof t=="function"?A0:T0)(e,t))}function*od(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var fa=[null];function ge(e,t){this._groups=e,this._parents=t}function F0(){return new ge([[document.documentElement]],fa)}function E0(){return this}ge.prototype=F0.prototype={constructor:ge,select:yu,selectAll:bu,selectChild:Su,selectChildren:Bu,filter:wu,data:Cu,enter:xu,exit:Nu,join:Pu,merge:Ru,selection:E0,order:Ou,sort:Iu,call:Mu,nodes:Du,node:Tu,size:Au,empty:Fu,each:Eu,attr:qu,style:Lu,property:zu,classed:$u,text:Vu,html:Xu,raise:Gu,lower:Qu,append:Wu,insert:Yu,remove:Ju,clone:Zu,datum:ed,on:td,dispatch:nd,[Symbol.iterator]:od};function pa(e){return typeof e=="string"?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],fa)}function St(e){return function(){return e}}var ga=Math.abs,_e=Math.atan2,Lt=Math.cos,id=Math.max,Ao=Math.min,Ye=Math.sin,nr=Math.sqrt,Te=1e-12,wr=Math.PI,sn=wr/2,ad=2*wr;function sd(e){return e>1?0:e<-1?wr:Math.acos(e)}function ma(e){return e>=1?sn:e<=-1?-sn:Math.asin(e)}function q0(e){return e.innerRadius}function L0(e){return e.outerRadius}function z0(e){return e.startAngle}function j0(e){return e.endAngle}function H0(e){return e&&e.padAngle}function U0(e,t,r,n,o,i,a,s){var l=r-e,u=n-t,f=a-o,d=s-i,m=d*l-f*u;if(!(m*m<Te))return m=(f*(t-i)-d*(e-o))/m,[e+m*l,t+m*u]}function Fo(e,t,r,n,o,i,a){var s=e-r,l=t-n,u=(a?i:-i)/nr(s*s+l*l),f=u*l,d=-u*s,m=e+f,h=t+d,x=r+f,S=n+d,p=(m+x)/2,g=(h+S)/2,B=x-m,k=S-h,v=B*B+k*k,R=o-i,M=m*S-x*h,I=(k<0?-1:1)*nr(id(0,R*R*v-M*M)),P=(M*k-B*I)/v,F=(-M*B-k*I)/v,w=(M*k+B*I)/v,N=(-M*B+k*I)/v,_=P-p,O=F-g,A=w-p,T=N-g;return _*_+O*O>A*A+T*T&&(P=w,F=N),{cx:P,cy:F,x01:-f,y01:-d,x11:P*(o/R-1),y11:F*(o/R-1)}}function ha(){var e=q0,t=L0,r=St(0),n=null,o=z0,i=j0,a=H0,s=null;function l(){var u,f,d=+e.apply(this,arguments),m=+t.apply(this,arguments),h=o.apply(this,arguments)-sn,x=i.apply(this,arguments)-sn,S=ga(x-h),p=x>h;if(s||(s=u=Zr()),m<d&&(f=m,m=d,d=f),!(m>Te))s.moveTo(0,0);else if(S>ad-Te)s.moveTo(m*Lt(h),m*Ye(h)),s.arc(0,0,m,h,x,!p),d>Te&&(s.moveTo(d*Lt(x),d*Ye(x)),s.arc(0,0,d,x,h,p));else{var g=h,B=x,k=h,v=x,R=S,M=S,I=a.apply(this,arguments)/2,P=I>Te&&(n?+n.apply(this,arguments):nr(d*d+m*m)),F=Ao(ga(m-d)/2,+r.apply(this,arguments)),w=F,N=F,_,O;if(P>Te){var A=ma(P/d*Ye(I)),T=ma(P/m*Ye(I));(R-=A*2)>Te?(A*=p?1:-1,k+=A,v-=A):(R=0,k=v=(h+x)/2),(M-=T*2)>Te?(T*=p?1:-1,g+=T,B-=T):(M=0,g=B=(h+x)/2)}var ne=m*Lt(g),xe=m*Ye(g),et=d*Lt(v),dr=d*Ye(v);if(F>Te){var _n=m*Lt(B),Cn=m*Ye(B),gi=d*Lt(k),mi=d*Ye(k),ut;if(S<wr&&(ut=U0(ne,xe,gi,mi,_n,Cn,et,dr))){var hi=ne-ut[0],yi=xe-ut[1],vi=_n-ut[0],bi=Cn-ut[1],as=1/Ye(sd((hi*vi+yi*bi)/(nr(hi*hi+yi*yi)*nr(vi*vi+bi*bi)))/2),ss=nr(ut[0]*ut[0]+ut[1]*ut[1]);w=Ao(F,(d-ss)/(as-1)),N=Ao(F,(m-ss)/(as+1))}}M>Te?N>Te?(_=Fo(gi,mi,ne,xe,m,N,p),O=Fo(_n,Cn,et,dr,m,N,p),s.moveTo(_.cx+_.x01,_.cy+_.y01),N<F?s.arc(_.cx,_.cy,N,_e(_.y01,_.x01),_e(O.y01,O.x01),!p):(s.arc(_.cx,_.cy,N,_e(_.y01,_.x01),_e(_.y11,_.x11),!p),s.arc(0,0,m,_e(_.cy+_.y11,_.cx+_.x11),_e(O.cy+O.y11,O.cx+O.x11),!p),s.arc(O.cx,O.cy,N,_e(O.y11,O.x11),_e(O.y01,O.x01),!p))):(s.moveTo(ne,xe),s.arc(0,0,m,g,B,!p)):s.moveTo(ne,xe),!(d>Te)||!(R>Te)?s.lineTo(et,dr):w>Te?(_=Fo(et,dr,_n,Cn,d,-w,p),O=Fo(ne,xe,gi,mi,d,-w,p),s.lineTo(_.cx+_.x01,_.cy+_.y01),w<F?s.arc(_.cx,_.cy,w,_e(_.y01,_.x01),_e(O.y01,O.x01),!p):(s.arc(_.cx,_.cy,w,_e(_.y01,_.x01),_e(_.y11,_.x11),!p),s.arc(0,0,d,_e(_.cy+_.y11,_.cx+_.x11),_e(O.cy+O.y11,O.cx+O.x11),p),s.arc(O.cx,O.cy,w,_e(O.y11,O.x11),_e(O.y01,O.x01),!p))):s.arc(0,0,d,v,k,p)}if(s.closePath(),u)return s=null,u+""||null}return l.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-wr/2;return[Lt(f)*u,Ye(f)*u]},l.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:St(+u),l):e},l.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:St(+u),l):t},l.cornerRadius=function(u){return arguments.length?(r=typeof u=="function"?u:St(+u),l):r},l.padRadius=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:St(+u),l):n},l.startAngle=function(u){return arguments.length?(o=typeof u=="function"?u:St(+u),l):o},l.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:St(+u),l):i},l.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:St(+u),l):a},l.context=function(u){return arguments.length?(s=u==null?null:u,l):s},l}function ld(e,t){let r=new Array(t.length).fill(0).map(()=>new Array(t.length).fill(0));function n(w,N){w==null||N==null||(r[w][N]=r[N][w]=1)}let o=new Map;for(let w=0;w<t.length;w++)o.set(t[w].id,w);for(let w of t)for(let N of w.neighbors)n(o.get(w.id),o.get(N));let i=w=>w.reduce((N,_)=>N+_,0),a=Math.max(...r.map(i));a===0&&(a=1);let s=new Set;for(let w=0;w<r.length;w++){let N=r[w];i(N)===0?(N[w]=1/a,s.add(t[w].id)):r[w]=N.map(O=>O/a)}let l=1.5,u=i(r[0]);r[0]=r[0].map(w=>w*l/u);let f=i(r.map(i)),d=600,m=600,h=Math.min(d,m)*.5-150,x=h-20,S=Math.min(.15,Math.PI/2/t.length),p=2*Math.PI-t.length*S,g=.5*p*(l/f),B=pa(e).append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox",`${-d/2} ${-m/2} ${d} ${m}`).append("g").attr("transform",`rotate(-${(g*(180/Math.PI)).toFixed(2)})`),k=Ji().padAngle(S).sortChords(vo).sortSubgroups(()=>1)(r),v=ha().innerRadius(x).outerRadius(h),R=ra().radius(x),M=en().domain(bo(t.length-1)).range(No[Math.max(3,Math.min(11,t.length))]);function I(w){return"linkGrad-"+w.source.index+"-"+w.target.index}let P=B.append("defs").selectAll("linearGradient").data(k).enter().append("linearGradient").attr("id",I).attr("gradientUnits","userSpaceOnUse").attr("x1",function(w,N){return x*Math.cos((w.source.endAngle-w.source.startAngle)/2+w.source.startAngle-Math.PI/2)}).attr("y1",function(w,N){return x*Math.sin((w.source.endAngle-w.source.startAngle)/2+w.source.startAngle-Math.PI/2)}).attr("x2",function(w,N){return x*Math.cos((w.target.endAngle-w.target.startAngle)/2+w.target.startAngle-Math.PI/2)}).attr("y2",function(w,N){return x*Math.sin((w.target.endAngle-w.target.startAngle)/2+w.target.startAngle-Math.PI/2)});P.append("stop").attr("offset","0%").attr("stop-color",w=>M(w.source.index)),P.append("stop").attr("offset","100%").attr("stop-color",w=>M(w.target.index));let F=B.selectAll("g").data(k.groups).enter().append("g").attr("class","node");F.append("path").style("fill",w=>M(w.index)).attr("d",v),F.append("text").each(w=>w.angle=(w.startAngle+w.endAngle)/2).attr("class",(w,N)=>`node-id${s.has(t[N].id)?" disconnected":""}`).attr("text-anchor",w=>w.angle-g>Math.PI?"end":null).attr("dominant-baseline","middle").attr("transform",w=>"rotate("+(w.angle*180/Math.PI-90)+")translate("+(h+10)+")"+(w.angle-g>Math.PI?"rotate(180)":"")).text((w,N)=>`Node ${t[N].id}`),B.datum(k).append("g").selectAll("path").data(w=>w.filter(N=>N.source.index!==N.target.index&&N.source.value>0&&N.target.value>0)).enter().append("path").attr("class",w=>`chord chord-${w.source.index} chord-${w.target.index}`).style("fill",w=>`url(#${I(w)})`).attr("d",R)}var K0=U(e=>({map:{"& text":{fill:e.palette.text.primary}}})),cd=()=>{let{alive:e,connected:t}=Mt(),r=Ee(),n=K0();return Eo.default.useEffect(()=>{e&&t&&r.getNetworkMap().then(o=>{ld("#map",o)}).catch(o=>{console.error(o)})},[e,t,r]),e&&t?Eo.default.createElement("div",{id:"map",className:n.map}):Eo.default.createElement(Tt,null)};var ur=y(og());var qo=y(E());var u4=qo.default.createContext({devices:{},async updateDevices(){}}),ud=/Node_(\d+)$/,dd=/Node_(\d+)\.ready$/,fd=/Node_(\d+)\.status$/;function pd(){let e=Rn(),[t,r]=qo.default.useState(),{namespace:n}=Ke(),o=Ee(),i=async(u,f)=>{if(!(!u.startsWith(n)||!ud.test(u)))if(f){if(f.type==="device"&&typeof f.native.id=="number"){let d=f.native.id,m={id:u,value:f,status:await o.getNodeStatus(d),ready:await o.getNodeReady(d)};m.ready&&await o.updateEndpointsAndAssociations(d,m),r(h=>({...h,[d]:m}))}}else{let d=parseInt(ud.exec(u)[1],10);r(m=>{let h={...m};return delete h[d],h})}},a=async u=>{let f={};await o.updateEndpointsAndAssociations(u,f),r(d=>{let m=d==null?void 0:d[u];return m?(m.endpoints=f.endpoints,{...d,[u]:m}):d})},s=async(u,f)=>{if(!!u.startsWith(n)&&!(!f||!f.ack)){if(u.match(fd)){let d=parseInt(fd.exec(u)[1],10);r(m=>{let h=m==null?void 0:m[d];return h?(h.status=f.val,{...m,[d]:h}):m})}else if(u.match(dd)){let d=parseInt(dd.exec(u)[1],10);r(m=>{let h=m==null?void 0:m[d];return h?(h.ready=f.val,h.ready&&setTimeout(()=>void a(d),0),{...m,[d]:h}):m})}}};async function l(){r(await o.loadDevices({status:!0,associations:!0,ready:!0}))}return qo.default.useEffect(()=>((async()=>(await l(),e.subscribeObject(`${n}.Node_*`,i),e.subscribeState(`${n}.Node_*`,s)))(),()=>{e.unsubscribeObject(`${n}.Node_*`,i),e.unsubscribeState(`${n}.Node_*`,s)}),[]),[t,l]}var Ce=y(E());var Od=y(Lr());var Q=y(E()),hd=y(Ni()),yd=y(Ot());var Ho=y(pt()),Uo=y(dt()),vd=y(Pn()),bd=y(Ri()),kd=y(An()),Sd=y(jr());function Lo(e,t){return e.length!==t.length?!1:e.every((r,n)=>r===t[n])}var ya=y(Pi());var Bd=y(gd()),wd=y(md()),xd=y(ft()),_d=y(Ue()),t2=Q.default.createElement(Bd.default,{fontSize:"small"}),r2=Q.default.createElement(wd.default,{fontSize:"small"}),n2=U(e=>({input:{width:"100%",margin:0},cell:{padding:e.spacing(1,2)},cellWithId:{paddingTop:0},idCell:{color:e.palette.text.hint,padding:e.spacing(1,2,0,2),border:0}})),va=e=>{var v,R;let{translate:t}=L(),[r,n]=Q.default.useState((v=e.name)!=null?v:""),[o,i]=Q.default.useState((R=e.nodeIds)!=null?R:[]),[a,s]=Q.default.useState(!1),[l,u]=Q.default.useState(!1),[f,d]=Q.default.useState(!1);Q.default.useEffect(()=>{var M;u(r!==""&&r!==e.name||!Lo(o,(M=e.nodeIds)!=null?M:[])),s(!!r&&o.length>1)},[r,e.name,o,e.nodeIds]);let m=e.selectableNodes.map(M=>({value:M.value.native.id,label:`${t("Node")} ${(0,yd.padStart)(M.value.native.id.toString(),3,"0")}`})),h=m.filter(M=>o.includes(M.value)),x=e.name==null&&e.nodeIds==null;async function S(){try{d(!0),await e.save(r,o.sort(),e.objectId),x&&p()}catch(M){alert(t("The group could not be saved!")),console.error(`The group could not be saved! Reason: ${Fe(M)}`),p()}finally{d(!1)}}function p(){var M,I;n((M=e.name)!=null?M:""),i((I=e.nodeIds)!=null?I:[])}async function g(){if(!!e.delete)try{d(!0),await e.delete()}catch(M){alert(t("The group could not be deleted!")),console.error(`The group could not be deleted! Reason: ${Fe(M)}`),p()}finally{d(!1)}}let B=n2(),k=(0,_d.default)(B.cell,e.objectId?B.cellWithId:void 0);return Q.default.createElement(Q.default.Fragment,null,!!e.objectId&&Q.default.createElement(he,null,Q.default.createElement(z,{className:B.idCell,colSpan:3},Q.default.createElement(xd.default,{variant:"caption"},"ID: ",e.objectId))),Q.default.createElement(he,null,Q.default.createElement(z,{className:k},Q.default.createElement(ya.default,{variant:"outlined",margin:"dense",className:B.input,value:r,placeholder:t("Enter group name"),onChange:M=>n(M.target.value)})),Q.default.createElement(z,{className:k},Q.default.createElement(ws,{className:B.input,multiple:!0,size:"small",options:m,disableCloseOnSelect:!0,getOptionLabel:M=>M.label,value:h,onChange:(M,I)=>i(I.map(P=>P.value)),renderOption:(M,{selected:I})=>Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(hd.default,{icon:t2,checkedIcon:r2,style:{marginRight:8},checked:I}),M.label),renderInput:M=>Q.default.createElement(ya.default,{...M,className:B.input,variant:"outlined",placeholder:h.length===0?t("Select at least 2 nodes"):void 0})})),Q.default.createElement(z,{className:k},Q.default.createElement(_t,{variant:"contained",color:"primary",style:{flex:"1 0 auto"}},Q.default.createElement(Ho.default,{title:t("Save group")},Q.default.createElement(Uo.default,{disabled:f||!a||!l,onClick:()=>S()},x?Q.default.createElement(vd.default,null):Q.default.createElement(bd.default,null))),Q.default.createElement(Ho.default,{title:t("Undo changes")},Q.default.createElement(Uo.default,{disabled:f||!l,onClick:()=>p()},Q.default.createElement(kd.default,null))),!x&&Q.default.createElement(Ho.default,{title:t("Delete group")},Q.default.createElement(Uo.default,{disabled:f,onClick:()=>g()},Q.default.createElement(Sd.default,null)))))))};var Id=y(zr());var Nd=y(In());var ln=y(E()),ba=/\.Group_([^\.]+)$/;function Cd(e){return e.type!=="device"||!(0,Nd.isArray)(e.native.nodeIds)?!1:e.native.nodeIds.every(t=>typeof t=="number")}function o2(e){return e.replace(/[ .:,;µ<>|!"§$%&\\/()=?#+'~*]+/gi,"_")}function Pd(e){return typeof e.common.name=="string"&&!!e.common.name?e.common.name:e._id.match(ba)[1]}function Rd(){let e=Rn(),[t,r]=ln.default.useState(),{namespace:n}=Ke(),o=async(l,u)=>{!l.startsWith(n)||!ba.test(l)||(u?Cd(u)&&r(f=>({...f,[l]:u})):r(f=>{let d={...f};return delete d[l],d}))};async function i(){let l=await e.getObjectView(`${n}.Group_`,`${n}.Group_\u9999`,"device"),u={};for(let[f,d]of Object.entries(l))!f.startsWith(n)||!ba.test(f)||!Cd(d)||(u[f]=d);r(u)}let a=ln.default.useCallback(async(l,u,f)=>{let d=f!=null?f:`${n}.Group_${o2(l)}`;await e.setObject(d,{type:"device",common:{name:l},native:{multicast:!0,nodeIds:u}})},[n,e]),s=ln.default.useCallback(async l=>{await e.delObject(l._id)},[e]);return ln.default.useEffect(()=>((async()=>(await i(),e.subscribeObject(`${n}.Group_*`,o)))(),()=>{e.unsubscribeObject(`${n}.Group_*`,o)}),[]),{groups:t,saveGroup:a,deleteGroup:s}}var i2=U(e=>({root:{width:"100%",marginTop:e.spacing(2)},container:{overflowY:"auto"},empty:{textAlign:"center",fontStyle:"italic"}})),Md=e=>{let t=i2(),{translate:r}=L(),{groups:n,saveGroup:o,deleteGroup:i}=Rd();if(!e.devices||!n)return Ce.default.createElement(Id.default,null);let a=Object.values(e.devices).filter(s=>{let{isControllerNode:l,secure:u}=s.value.native;return!l&&!u});return Ce.default.createElement(Ce.default.Fragment,null,Ce.default.createElement(Ft,{severity:"info"},r("no multicast S0"),Ce.default.createElement("br",null),r("no multicast S2")),Ce.default.createElement(Od.default,{className:t.root,elevation:2},Ce.default.createElement(gr,{className:t.container},Ce.default.createElement(Ct,{style:{tableLayout:"auto"}},Ce.default.createElement(Pt,null,Ce.default.createElement(he,null,Ce.default.createElement(z,{style:{width:"50%"}},r("Group name")),Ce.default.createElement(z,{style:{width:"50%"}},r("Nodes")),Ce.default.createElement(z,{style:{minWidth:"200px"}}))),Ce.default.createElement(Nt,null,Object.entries(n).map(([s,l])=>Ce.default.createElement(va,{objectId:l._id,key:`group-${s}`,name:Pd(l),nodeIds:l.native.nodeIds,selectableNodes:a,save:o,delete:()=>i(l)})),Ce.default.createElement(va,{name:void 0,nodeIds:void 0,selectableNodes:a,save:o}))))))};var K=y(E()),_p=y(Lr());var $=y(E());var di=y(pt()),fi=y(dt()),vp=y(Pn()),bp=y(Ri()),kp=y(An()),Sp=y(Pi()),rs=y(Ue());var Bp=y(jr()),ns=y(ft()),cr=y(lt()),lr=y(ts()),wp=y(Ni()),Jk=U(e=>({cell:{padding:e.spacing(1,2)},withAdditionalData:{"& td":{paddingTop:0}},additionalData:{"& td":{color:e.palette.text.hint,borderBottom:0,paddingBottom:0}},idCell:{textAlign:"center"},input:{width:"100%",margin:0},securityClassToggle:{lineHeight:1.1}})),os=e=>{var I,P,F;let t=Jk(),{translate:r}=L(),[n,o]=$.default.useState((I=e.status)!=null?I:lr.ProvisioningEntryStatus.Active),[i,a]=$.default.useState((P=e.dsk)!=null?P:""),[s,l]=$.default.useState(e.securityClasses),[u,f]=$.default.useState(!1),[d,m]=$.default.useState(!1),[h,x]=$.default.useState(!1);$.default.useEffect(()=>{var w;m(n!==((w=e.status)!=null?w:lr.ProvisioningEntryStatus.Active)||i!==""&&i!==e.dsk||!Lo(s,e.securityClasses)),f((0,cr.isValidDSK)(i)&&s.length>0)},[n,e.status,i,e.dsk,s,e.securityClasses]);let S=w=>{let N=w.target.value.replace(/[^0-9]/g,"");N.length>40&&(N=N.substr(0,40));let _="";for(let O=1;O<=8;O++)N.length>O*5?_+=N.substr((O-1)*5,5)+"-":_+=N.substr((O-1)*5);a(_)},p=(w,N)=>{l(N)},g=e.dsk==null,B=e.nodeId!=null,k=()=>{var w,N;o((w=e.status)!=null?w:lr.ProvisioningEntryStatus.Active),a((N=e.dsk)!=null?N:""),l(e.securityClasses)},v=async()=>{if(!!e.unprovision)try{x(!0),await e.unprovision()}catch(w){alert(r("The node could not be unprovisioned!")),console.error(`The node could not be unprovisioned! Reason: ${Fe(w)}`),k()}finally{x(!1)}},R=async()=>{try{x(!0),await e.provision(n,i,s,e.additionalData),g&&k()}catch(w){alert(r("The node could not be provisioned!")),console.error(`The node could not be provisioned! Reason: ${Fe(w)}`),k()}finally{x(!1)}},M;return e.additionalData&&(e.additionalData.manufacturer&&(M=e.additionalData.manufacturer),e.additionalData.label&&(M&&(M+=" "),M+=e.additionalData.label),e.additionalData.description&&(M&&(M+=" - "),M+=e.additionalData.description)),$.default.createElement($.default.Fragment,null,!!M&&$.default.createElement(he,{className:t.additionalData},$.default.createElement(z,{className:t.cell,colSpan:2}),$.default.createElement(z,{className:t.cell,colSpan:2},$.default.createElement(ns.default,{variant:"caption"},M)),$.default.createElement(z,{className:t.cell})),$.default.createElement(he,{className:(0,rs.default)(!!M&&t.withAdditionalData)},$.default.createElement(z,{className:(0,rs.default)(t.cell,t.idCell)},(F=e.nodeId)!=null?F:""),$.default.createElement(z,{className:t.cell},!g&&$.default.createElement(wp.default,{checked:n===lr.ProvisioningEntryStatus.Active,onChange:(w,N)=>o(N?lr.ProvisioningEntryStatus.Active:lr.ProvisioningEntryStatus.Inactive)})),$.default.createElement(z,{className:t.cell},B?$.default.createElement(ns.default,{variant:"body2"},i):$.default.createElement(Sp.default,{variant:"outlined",margin:"dense",className:t.input,value:i,placeholder:"00000-11111-22222-33333-44444-55555-66666-77777",disabled:h,onChange:S})),$.default.createElement(z,{className:t.cell},$.default.createElement(Wr,{value:s,onChange:p,size:"small"},$.default.createElement(ht,{value:cr.SecurityClass.S2_AccessControl,color:"secondary",className:t.securityClassToggle,disabled:B||h},"S2 AC"),$.default.createElement(ht,{value:cr.SecurityClass.S2_Authenticated,className:t.securityClassToggle,disabled:B||h},"S2 Auth"),$.default.createElement(ht,{value:cr.SecurityClass.S2_Unauthenticated,className:t.securityClassToggle,disabled:B||h},"S2 Unauth"),$.default.createElement(ht,{value:cr.SecurityClass.S0_Legacy,className:t.securityClassToggle,disabled:B||h},"S0 Legacy"))),$.default.createElement(z,{className:t.cell},$.default.createElement(_t,{variant:"contained",color:"primary",style:{flex:"1 0 auto"}},$.default.createElement(di.default,{title:r("Provision node")},$.default.createElement(fi.default,{disabled:h||!u||!d||B,onClick:R},g?$.default.createElement(vp.default,null):$.default.createElement(bp.default,null))),$.default.createElement(di.default,{title:r("Undo changes")},$.default.createElement(fi.default,{disabled:h||!d||B,onClick:k},$.default.createElement(kp.default,null))),!g&&$.default.createElement(di.default,{title:r("Unprovision")},$.default.createElement(fi.default,{disabled:h,onClick:()=>v()},$.default.createElement(Bp.default,null)))))))};var Cp=y(ts());var Np=y(zr());var Pp=y(ft()),is=y(dt()),Rp=y(xp()),Op=y(wi());var Ip=y(Ci()),Mp=y(_i()),Dp=y(xi());var oS=U(e=>({root:{width:"100%",display:"flex",flexFlow:"column nowrap",gap:e.spacing(2)},container:{overflowY:"auto"},scannerDialogContent:{display:"flex",flexFlow:"column nowrap",alignItems:"center",gap:e.spacing(1)}})),Tp=e=>{let t=oS(),{translate:r}=L(),n=Ee(),{showModal:o}=Rt(),{alive:i,connected:a}=Mt(),[s,l]=K.default.useState(!1);K.default.useEffect(()=>{a&&n.supportsSmartStart().then(l)},[a,n]);let[u,f]=K.default.useState(),d=K.default.useCallback(async()=>{let I=await n.getProvisioningEntries();I.sort((P,F)=>{let w=P.nodeId||999999,N=F.nodeId||999999,_=w-N;return _||P.dsk.localeCompare(F.dsk)}),f(I)},[n,f]);K.default.useEffect(()=>{d()},[n,e.devices]);let m=K.default.useCallback(async(I,P,F,w)=>{await n.provisionSmartStartNode(I,P,F,w),await d()},[n,d]),h=K.default.useCallback(async I=>{!await o(r("Unprovision node?"),r("Do you really want to remove this node from the provisioning list?"))||(await n.unprovisionSmartStartNode(I),await d())},[n,d]),x=K.default.useCallback(async(I,P,F,w,N)=>{P!==F&&await n.unprovisionSmartStartNode(P),await n.provisionSmartStartNode(I,F,w,N),await d()},[n,d]),[S,p]=K.default.useState(),[g,B]=K.default.useState(),[k,v]=K.default.useState(!1),R=()=>{v(!1),setTimeout(()=>p(void 0),250)},M=async I=>{try{let P=await n.scanQRCode(I,!1);if(P.type==="none")p({message:r("This is not a valid Z-Wave QR code"),severity:"error"});else if(P.type==="SmartStart"){let{dsk:F,securityClasses:w,...N}=P;await m(Cp.ProvisioningEntryStatus.Active,F,w,N),B(F),p({message:r("Node successfully added to provisioning list"),severity:"success"})}else if(P.type==="S2")p({message:r("This is not a SmartStart QR code. Use the devices tab to include this node."),severity:"warning"});else if(P.type==="included")p({message:r("The device is already included as Node %s",P.nodeId.toString()),severity:"info"});else if(P.type==="provisioned"){if(P.dsk===g)return;p({message:r("This node is already on the SmartStart provisioning list"),severity:"info"})}}catch(P){}};return!i||!a?K.default.createElement(Tt,null):!u||!e.devices?K.default.createElement(Np.default,null):s?K.default.createElement("div",{className:t.root},K.default.createElement(Pp.default,{variant:"body1"},r("Define here which SmartStart capable nodes should be part of the network by entering their DSK and granting security classes."),K.default.createElement("br",null),r("When a node announces itself, it will automatically be included within 10 minutes.")),K.default.createElement(Ft,{severity:"info"},r("Removing or disabling an entry does not automatically exclude the node.")),K.default.createElement("div",null,K.default.createElement(is.default,{variant:"contained",color:"primary",startIcon:K.default.createElement(Rp.default,null),onClick:()=>v(!0)},r("Scan QR Code")),K.default.createElement(Op.default,{open:k,onClose:R,maxWidth:!1},K.default.createElement(Ip.default,null,r("Scan QR Code")),K.default.createElement(Mp.default,{className:t.scannerDialogContent},S&&K.default.createElement(Ft,{severity:S.severity},S.message),K.default.createElement(mo,{onDetect:M})),K.default.createElement(Dp.default,null,K.default.createElement(is.default,{variant:"contained",onClick:R,color:"primary"},r("Close"))))),K.default.createElement(_p.default,{elevation:2},K.default.createElement(gr,{className:t.container},K.default.createElement(Ct,{style:{tableLayout:"auto"}},K.default.createElement(Pt,null,K.default.createElement(he,null,K.default.createElement(z,{style:{width:"50px"},align:"center"},"#"),K.default.createElement(z,{style:{width:"75px"}},r("Enabled")),K.default.createElement(z,{style:{minWidth:"480px"}},r("DSK")),K.default.createElement(z,null,r("Security classes")),K.default.createElement(z,{style:{minWidth:"200px"}}))),K.default.createElement(Nt,null,u.map(I=>{let{nodeId:P,dsk:F,securityClasses:w,...N}=I;return K.default.createElement(os,{nodeId:I.nodeId,status:I.status,key:`entry-${I.dsk}`,dsk:I.dsk,securityClasses:I.securityClasses,additionalData:N,provision:(_,O,A,T)=>x(_,I.dsk,O,A,T),unprovision:()=>h(I.dsk)})}),K.default.createElement(os,{nodeId:void 0,dsk:void 0,status:void 0,securityClasses:[],provision:m})))))):K.default.createElement($r,null,r("The controller does not support SmartStart!"))};function Er({error:e,resetErrorBoundary:t}){return X.default.createElement("div",{role:"alert"},X.default.createElement("p",null,"Something went wrong:"),X.default.createElement("pre",null,e.stack),X.default.createElement("button",{onClick:t},"Try again"))}var iS={en:Gp(),de:Qp(),ru:Wp(),pt:Yp(),nl:Jp(),fr:Zp(),it:eg(),es:tg(),pl:rg(),"zh-cn":ng()},aS=X.default.memo(()=>{let[e,t]=X.default.useState(0),{translate:r}=L(),n=(a,s)=>{t(s)},[o,i]=pd();return X.default.createElement(X.default.Fragment,null,X.default.createElement(hs,{position:"static"},X.default.createElement(vs,{value:e,onChange:n},X.default.createElement(Kt,{label:r("Devices")}),X.default.createElement(Kt,{label:r("SmartStart")}),X.default.createElement(Kt,{label:r("Groups")}),X.default.createElement(Kt,{label:r("Associations")}),X.default.createElement(Kt,{label:r("Z-Wave Logs")}),X.default.createElement(Kt,{label:r("Network map")}))),X.default.createElement(Vt,{value:e,index:0},X.default.createElement(ur.ErrorBoundary,{FallbackComponent:Er},X.default.createElement(Gc,{devices:o}))),X.default.createElement(Vt,{value:e,index:1},X.default.createElement(ur.ErrorBoundary,{FallbackComponent:Er},X.default.createElement(Tp,{devices:o}))),X.default.createElement(Vt,{value:e,index:2},X.default.createElement(ur.ErrorBoundary,{FallbackComponent:Er},X.default.createElement(Md,{devices:o}))),X.default.createElement(Vt,{value:e,index:3},X.default.createElement(ur.ErrorBoundary,{FallbackComponent:Er},X.default.createElement(Vs,{devices:o,updateDevices:i}))),X.default.createElement(Vt,{value:e,index:4},X.default.createElement(ur.ErrorBoundary,{FallbackComponent:Er},X.default.createElement(_s,null))),X.default.createElement(Vt,{value:e,index:5},X.default.createElement(ur.ErrorBoundary,{FallbackComponent:Er},X.default.createElement(cd,null))))});Ap.default.render(X.default.createElement(Ss,{name:"zwave2",translations:iS},X.default.createElement(aS,null)),document.getElementById("root"));
//# sourceMappingURL=tab.js.map
