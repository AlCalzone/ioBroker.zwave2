import{a as hn,b as vn,c as yn}from"./chunk-W5PBZAJZ.js";import{a as Pu,b as zt,c as qu,d as xn}from"./chunk-TZX7ISAL.js";import{B as du,D as fu,E as pu,G as mu,H as eo,I as to,J as Qe,K as fn,L as ro,M as Je,N as pn,O as Ae,P as mn,Q as gu,R as hu,S as W,T as vu,U as yu,V as bu,W as oo,X as gn,Y as xu,Z as Su,_ as U,a as G,aa as no,b as l,c as T,ca as bn,d as iu,da as ge,e as L,ea as fe,f as H,fa as wu,g as ct,ga as Cu,h as su,ha as _u,i as je,ia as Iu,j as Q,ja as Tu,k as dt,ka as ku,l as lu,la as Du,m as Ft,ma as ju,n as an,na as Au,o as uu,oa as Nu,p as Ze,q as Le,r as Jr,s as sn,u as Gt,v as ln,w as un,x as cn,y as dn,z as cu}from"./chunk-CLU6RHXC.js";var Cn=G(ie=>{"use strict";var Bu=ie&&ie.__createBinding||(Object.create?function(e,t,r,o){o===void 0&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){o===void 0&&(o=r),e[o]=t[r]}),Ou=ie&&ie.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Eu=ie&&ie.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Bu(t,e,r);return Ou(t,e),t},Fu=ie&&ie.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r},io=ie&&ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ie,"__esModule",{value:!0});ie.Dropdown=void 0;var so=io(fu()),Gu=io(pu()),zu=io(mu()),ft=Eu(T()),Lu=e=>{let{options:t,selectedOption:r,noOptionsMessage:o,placeholder:n}=e,a=Fu(e,["options","selectedOption","noOptionsMessage","placeholder"]),s=!(!!t&&t.length)&&!!o,i;return(t==null?void 0:t.length)&&(i=r),ft.createElement(zu.default,Object.assign({value:i!=null?i:"",displayEmpty:!0,input:ft.createElement(Gu.default,{labelWidth:0}),margin:"dense"},a),ft.createElement(so.default,{value:"",disabled:!0},n!=null?n:""),t&&t.length&&t.map(({value:u,label:d})=>ft.createElement(so.default,{key:u,value:u},d)),s&&ft.createElement(so.default,{key:"__empty",value:"__empty",disabled:!0},o))};ie.Dropdown=Lu});var lo=G(ve=>{"use strict";var Hu=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0});ve.ModalDialog=ve.Loader=ve.Dropdown=void 0;var Wu=Cn();Object.defineProperty(ve,"Dropdown",{enumerable:!0,get:function(){return Wu.Dropdown}});var Ru=gu();Object.defineProperty(ve,"Loader",{enumerable:!0,get:function(){return Hu(Ru).default}});var $u=hu();Object.defineProperty(ve,"ModalDialog",{enumerable:!0,get:function(){return $u.ModalDialog}})});var Ht=G(Lt=>{"use strict";var Vu=H(),Ku=L();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.default=void 0;var Uu=Ku(T()),Xu=Vu(W()),Yu=(0,Xu.default)(Uu.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");Lt.default=Yu});var uo=G(Wt=>{"use strict";var Zu=H(),Qu=L();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.default=void 0;var Ju=Qu(T()),ec=Zu(W()),tc=(0,ec.default)(Ju.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");Wt.default=tc});var $t=G(Rt=>{"use strict";var rc=H(),oc=L();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.default=void 0;var nc=oc(T()),ac=rc(W()),ic=(0,ac.default)(nc.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");Rt.default=ic});var qn=G(Xt=>{"use strict";var lc=H(),uc=L();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.default=void 0;var cc=uc(T()),dc=lc(W()),fc=(0,dc.default)(cc.createElement("path",{d:"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"}),"Wifi");Xt.default=fc});var Mn=G(Yt=>{"use strict";var pc=H(),mc=L();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.default=void 0;var gc=mc(T()),hc=pc(W()),vc=(0,hc.default)(gc.createElement("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7l2-2zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53.96-.97zM2 3.05L5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79 2 3.05zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0z"}),"WifiOff");Yt.default=vc});var Bn=G(Zt=>{"use strict";var yc=H(),bc=L();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=void 0;var xc=bc(T()),Sc=yc(W()),wc=(0,Sc.default)(xc.createElement("path",{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14zM12 6.72c-1.96 0-3.5 1.52-3.5 3.47h1.75c0-.93.82-1.75 1.75-1.75s1.75.82 1.75 1.75c0 1.75-2.63 1.57-2.63 4.45h1.76c0-1.96 2.62-2.19 2.62-4.45 0-1.96-1.54-3.47-3.5-3.47zm-.88 8.8h1.76v1.76h-1.76z"}),"DeviceUnknown");Zt.default=wc});var fo=G(Qt=>{"use strict";var Cc=H(),_c=L();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.default=void 0;var Ic=_c(T()),Tc=Cc(W()),kc=(0,Tc.default)(Ic.createElement("path",{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"}),"PowerSettingsNew");Qt.default=kc});var ra=G(tr=>{"use strict";var Nc=H(),Pc=L();Object.defineProperty(tr,"__esModule",{value:!0});tr.default=void 0;var qc=Pc(T()),Mc=Nc(W()),Bc=(0,Mc.default)(qc.createElement("path",{d:"M19 13H5v-2h14v2z"}),"Remove");tr.default=Bc});var oa=G(rr=>{"use strict";var Oc=H(),Ec=L();Object.defineProperty(rr,"__esModule",{value:!0});rr.default=void 0;var Fc=Ec(T()),Gc=Oc(W()),zc=(0,Gc.default)(Fc.createElement("path",{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9zm20 2l2-2c-1.64-1.64-3.55-2.82-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75zm-4 4l2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97zM5 13l2 2c1.13-1.13 2.56-1.79 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88z"}),"NetworkCheck");rr.default=zc});var da=G(nr=>{"use strict";var Hc=H(),Wc=L();Object.defineProperty(nr,"__esModule",{value:!0});nr.default=void 0;var Rc=Wc(T()),$c=Hc(W()),Vc=(0,$c.default)(Rc.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");nr.default=Vc});var fa=G(ar=>{"use strict";var Kc=H(),Uc=L();Object.defineProperty(ar,"__esModule",{value:!0});ar.default=void 0;var Xc=Uc(T()),Yc=Kc(W()),Zc=(0,Yc.default)(Xc.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");ar.default=Zc});var pa=G(ir=>{"use strict";var Qc=H(),Jc=L();Object.defineProperty(ir,"__esModule",{value:!0});ir.default=void 0;var ed=Jc(T()),td=Qc(W()),rd=(0,td.default)(ed.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");ir.default=rd});var vo=G(sr=>{"use strict";var od=H(),nd=L();Object.defineProperty(sr,"__esModule",{value:!0});sr.default=void 0;var ad=nd(T()),id=od(W()),sd=(0,id.default)(ad.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"}),"RestorePage");sr.default=sd});var ma=G(lr=>{"use strict";var ld=H(),ud=L();Object.defineProperty(lr,"__esModule",{value:!0});lr.default=void 0;var cd=ud(T()),dd=ld(W()),fd=(0,dd.default)(cd.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}),"Language");lr.default=fd});var ja=G(ur=>{"use strict";var gd=H(),hd=L();Object.defineProperty(ur,"__esModule",{value:!0});ur.default=void 0;var vd=hd(T()),yd=gd(W()),bd=(0,yd.default)(vd.createElement("path",{d:"M21 21.78L4.22 5 3 6.22l2.04 2.04C4.42 8.6 4 9.25 4 10v10c0 1.1.9 2 2 2h12c.23 0 .45-.05.66-.12L19.78 23 21 21.78zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H9.66L20 18.34V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5-2.56 0-4.64 1.93-4.94 4.4L8.9 7.24V6z"}),"NoEncryption");ur.default=bd});var Ua=G(cr=>{"use strict";var wd=H(),Cd=L();Object.defineProperty(cr,"__esModule",{value:!0});cr.default=void 0;var _d=Cd(T()),Id=wd(W()),Td=(0,Id.default)(_d.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");cr.default=Td});var Xa=G(dr=>{"use strict";var kd=H(),Dd=L();Object.defineProperty(dr,"__esModule",{value:!0});dr.default=void 0;var jd=Dd(T()),Ad=kd(W()),Nd=(0,Ad.default)(jd.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");dr.default=Nd});var Ya=G(fr=>{"use strict";var Pd=H(),qd=L();Object.defineProperty(fr,"__esModule",{value:!0});fr.default=void 0;var Md=qd(T()),Bd=Pd(W()),Od=(0,Bd.default)(Md.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");fr.default=Od});var Za=G(pr=>{"use strict";var Ed=H(),Fd=L();Object.defineProperty(pr,"__esModule",{value:!0});pr.default=void 0;var Gd=Fd(T()),zd=Ed(W()),Ld=(0,zd.default)(Gd.createElement("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"}),"Autorenew");pr.default=Ld});var ai=G(mr=>{"use strict";var Wd=H(),Rd=L();Object.defineProperty(mr,"__esModule",{value:!0});mr.default=void 0;var $d=Rd(T()),Vd=Wd(W()),Kd=(0,Vd.default)($d.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");mr.default=Kd});var ii=G(gr=>{"use strict";var Ud=H(),Xd=L();Object.defineProperty(gr,"__esModule",{value:!0});gr.default=void 0;var Yd=Xd(T()),Zd=Ud(W()),Qd=(0,Zd.default)(Yd.createElement("path",{d:"M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"}),"Memory");gr.default=Qd});var si=G(hr=>{"use strict";var Jd=H(),ef=L();Object.defineProperty(hr,"__esModule",{value:!0});hr.default=void 0;var tf=ef(T()),rf=Jd(W()),of=(0,rf.default)(tf.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");hr.default=of});var li=G(vr=>{"use strict";var nf=H(),af=L();Object.defineProperty(vr,"__esModule",{value:!0});vr.default=void 0;var sf=af(T()),lf=nf(W()),uf=(0,lf.default)(sf.createElement("path",{d:"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");vr.default=uf});var Dl=G(Lr=>{"use strict";var Jp=H(),em=L();Object.defineProperty(Lr,"__esModule",{value:!0});Lr.default=void 0;var tm=em(T()),rm=Jp(W()),om=(0,rm.default)(tm.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");Lr.default=om});var jl=G(Hr=>{"use strict";var nm=H(),am=L();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.default=void 0;var im=am(T()),sm=nm(W()),lm=(0,sm.default)(im.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");Hr.default=lm});var we=l(mn()),M=l(T()),ou=l(iu()),nu=l(xu());var Sn=l(uu()),wn=l(Q()),ao=l(T()),Mu=(0,wn.makeStyles)(e=>({tabpanel:{flex:1,position:"relative","& > *":{width:"100%",height:"100%"}}})),et=e=>{let{children:t,value:r,index:o,...n}=e,a=Mu();return ao.default.createElement("div",{className:a.tabpanel,role:"tabpanel",hidden:r!==o,...n},r===o&&ao.default.createElement(Sn.default,{p:3},t))};var He=l(T());var $n=l(oo()),z=l(T());var B=l(T()),_n=l(oo()),In=l(U()),pt=l(lo()),Tn=l(Jr()),Vt=l(Ae()),Kt=l(Le()),kn=l(Ht()),Dn=l(gn()),jn=l(uo()),An=l($t()),Nn=l(Qe()),Pn=l(Je()),Ut=l(Q());var sc=(0,Ut.makeStyles)(e=>({dropdown:{width:"100%"}})),mt=(0,Ut.styled)(Nn.default)(({theme:e})=>({padding:e.spacing(1)})),co=e=>{let{translate:t}=(0,In.useI18n)(),[r,o]=B.default.useState(e.sourceEndpoint),[n,a]=B.default.useState(e.group),[c,s]=B.default.useState(e.nodeId),[i,u]=B.default.useState(e.endpoint),[d,f]=B.default.useState(!1),[g,h]=B.default.useState(!1),[C,y]=B.default.useState(!1),m=r!=null&&e.groups.get(r)||[];B.default.useEffect(()=>{var K;h(r!==e.sourceEndpoint||n!==e.group||c!==e.nodeId||i!==e.endpoint);let b=!!m.find(le=>le.group===n),_=e.nodes.find(le=>le.nodeId===c),F=(K=_==null?void 0:_.endpointIndizes)!=null?K:[];f(b&&!!_&&(i==null||i===0||F.includes(i)))},[n,m,c,i]);let I=m.map(({group:b,label:_})=>({value:b,label:`${t("Group")} ${b}: ${_}`})),w=e.nodes.map(({nodeId:b})=>({value:b,label:`${t("Node")} ${(0,_n.padStart)(b.toString(),3,"0")}`})),v=B.default.useMemo(()=>{let b=[{value:0,label:t("Root device")}];for(let _ of e.endpoints)_!==0&&b.push({value:_,label:`${t("Endpoint")} ${_}`});return b},[e.endpoints]),x=B.default.useMemo(()=>{var F,K,le;let b=(K=(F=e.nodes.find(ue=>ue.nodeId===c))==null?void 0:F.endpointIndizes)!=null?K:[];if(b.includes(0)||b.unshift(0),!!((le=m.find(ue=>ue.group===n))==null?void 0:le.multiChannel)){let ue=[{value:"none",label:t("Root device")}];for(let De of b)ue.push({value:De,label:De===0?t("Root endpoint"):`${t("Endpoint")} ${De}`});return ue}else return[]},[e.nodes,m,n,c]),A=e.sourceEndpoint==null&&e.group==null&&e.nodeId==null&&e.endpoint==null;async function D(){try{y(!0),await e.save(r,n,c,i),A&&N()}catch(b){alert(t("The association could not be saved!")),console.error(`The association could not be saved! Reason: ${ge(b)}`),N()}finally{y(!1)}}function N(){o(e.sourceEndpoint),a(e.group),s(e.nodeId),u(e.endpoint)}async function Y(){if(!!e.delete)try{y(!0),await e.delete()}catch(b){alert(t("The association could not be deleted!")),console.error(`The association could not be deleted! Reason: ${ge(b)}`),N()}finally{y(!1)}}let $=m.find(b=>b.group===n),S=m.some(b=>b.multiChannel),k=sc();return B.default.createElement(Pn.default,null,B.default.createElement(mt,null,B.default.createElement(pt.Dropdown,{className:k.dropdown,options:v,selectedOption:r!=null?r:"",placeholder:t("- select endpoint -"),onChange:b=>{o(b.target.value)}})),B.default.createElement(mt,null,B.default.createElement(pt.Dropdown,{className:k.dropdown,options:I,selectedOption:n,placeholder:t("- select group -"),onChange:b=>{a(b.target.value)}})),B.default.createElement(mt,null,B.default.createElement(pt.Dropdown,{className:k.dropdown,options:w,selectedOption:c,placeholder:t("- select node -"),onChange:b=>{s(b.target.value)}})),e.supportsMultiChannel&&B.default.createElement(mt,null,($==null?void 0:$.multiChannel)&&S&&B.default.createElement(pt.Dropdown,{className:k.dropdown,options:x,selectedOption:i!=null?i:"none",placeholder:t("- select endpoint -"),onChange:b=>{let _=b.target.value;u(_==="none"?void 0:_)}})),B.default.createElement(mt,null,B.default.createElement(Tn.default,{variant:"contained",color:"primary",style:{flex:"1 0 auto"}},B.default.createElement(Vt.default,{title:t("Save association")},B.default.createElement(Kt.default,{disabled:C||!d||!g,onClick:()=>D()},A?B.default.createElement(kn.default,null):B.default.createElement(Dn.default,null))),B.default.createElement(Vt.default,{title:t("Undo changes")},B.default.createElement(Kt.default,{disabled:C||!g,onClick:()=>N()},B.default.createElement(jn.default,null))),!A&&B.default.createElement(Vt.default,{title:t("Delete association")},B.default.createElement(Kt.default,{disabled:C,onClick:()=>Y()},B.default.createElement(An.default,null))))))};var _e=l(T()),On=l(U()),gt=l(Ae()),tt=l(ct()),En=l(Q()),Fn=l(qn()),Gn=l(Mn()),zn=l(Bn()),Ln=l(fo()),Dc=(0,En.makeStyles)(e=>({deviceIconAlive:{color:tt.green[800]},deviceIconAsleep:{color:tt.lightBlue[500]},deviceIconDead:{color:tt.red[900]}})),Jt=e=>{let{status:t}=e,{translate:r}=(0,On.useI18n)(),o=Dc(),n=r(t!=null?t:"unknown");switch(t){case"alive":case"awake":return _e.default.createElement(gt.default,{title:n},_e.default.createElement(Fn.default,{className:o.deviceIconAlive}));case"asleep":return _e.default.createElement(gt.default,{title:n},_e.default.createElement(Ln.default,{className:o.deviceIconAsleep}));case"dead":return _e.default.createElement(gt.default,{title:n},_e.default.createElement(Gn.default,{className:o.deviceIconDead}));default:return _e.default.createElement(gt.default,{title:n},_e.default.createElement(zn.default,null))}};var ht=l(T()),er=l(U()),Hn=l(Ze()),po=e=>ht.default.createElement(Hn.default,{variant:"body1",style:{textAlign:"center"}},e.children),rt=()=>{let{translate:e}=(0,er.useI18n)();return ht.default.createElement(po,null,e("adapter not ready"))},Wn=()=>{let{translate:e}=(0,er.useI18n)();return ht.default.createElement(po,null,e("No devices present"))},Rn=()=>{let{translate:e}=(0,er.useI18n)();return ht.default.createElement(po,null,e("Node is not ready"))};var mo=l(U()),Vn=l(to()),ot=l(Qe()),Kn=l(ro()),Un=l(Je()),Xn=l(eo()),Yn=l(Ft()),Zn=l(Q()),go=l(Ze()),ho=(0,Zn.makeStyles)(e=>({headline:{backgroundColor:e.palette.background.default,margin:e.spacing(-2),marginBottom:e.spacing(2),borderBottom:`1px solid ${e.palette.divider}`,padding:e.spacing(2)},table:{marginTop:e.spacing(-2)},nodeNumber:{"& > *":{verticalAlign:"middle"}},paper:{padding:e.spacing(2),backgroundColor:e.palette.background.paper,marginTop:e.spacing(4),"&:first-child":{margin:0}}}));function jc(e){let{translate:t}=(0,mo.useI18n)(),{value:r,status:o}=e.device,n=r.native.id,a=r.common.name&&!r.common.name.startsWith("Node")?r.common.name:void 0,c=ho();return z.default.createElement("div",{className:c.headline},z.default.createElement(go.default,{variant:"h5",component:"h2",className:c.nodeNumber},z.default.createElement("span",null,t("Node")," ",(0,$n.padStart)(n.toString(),3,"0")),"\xA0",z.default.createElement(Jt,{status:o})),a&&z.default.createElement(go.default,{variant:"h6",component:"h3"},a))}function Ac(e){let{translate:t}=(0,mo.useI18n)(),{endpoints:r,value:o}=e.device,n=o.native.id,{sourceEndpoints:a,groups:c,supportsMultiChannel:s,hasAssociations:i,associations:u}=z.default.useMemo(()=>{let f=[],g=!1,h=!1,C=new Map,y=[];if(r){for(let[m,I]of r)I.associationGroups?(h||(h=Object.values(I.associationGroups).some(w=>!!w.multiChannel)),C.set(m,Object.entries(I.associationGroups).map(([w,v])=>({group:parseInt(w),...v})))):C.set(m,[]),I.associations&&(f.push(...Object.entries(I.associations).map(([w,v])=>v.map(x=>({sourceEndpoint:m,group:parseInt(w),...x}))).reduce((w,v)=>[...w,...v],[]).sort((w,v)=>{var x,A;return w.group-v.group||w.nodeId-v.nodeId||((x=w.endpoint)!=null?x:-1)-((A=v.endpoint)!=null?A:-1)})),g||(g=Object.keys(I.associations).length>0));h&&y.push(0),y.push(...r.keys())}return{sourceEndpoints:y,groups:C,supportsMultiChannel:h,hasAssociations:g,associations:f}},[r]),d=ho();return z.default.createElement(Xn.default,{className:d.table},z.default.createElement(Kn.default,null,z.default.createElement(Un.default,null,z.default.createElement(ot.default,null,t("Source endpoint")),z.default.createElement(ot.default,null,t("Group")),z.default.createElement(ot.default,null,t("Target node")),s&&z.default.createElement(ot.default,null,t("Target endpoint")),z.default.createElement(ot.default,null,"\xA0"))),z.default.createElement(Vn.default,null,i?u.map(f=>{var g,h,C;return z.default.createElement(co,{key:`from${n}${(g=f.sourceEndpoint)!=null?g:-1}-to${f.group}-${f.nodeId}-${(h=f.endpoint)!=null?h:-1}`,endpoints:a!=null?a:[],groups:c,nodes:e.nodes.filter(y=>y.nodeId!==n),sourceEndpoint:(C=f.sourceEndpoint)!=null?C:0,group:f.group,nodeId:f.nodeId,endpoint:f.endpoint,supportsMultiChannel:s,save:(y,m,I,w)=>e.saveAssociation(n,f,{sourceEndpoint:y,group:m,nodeId:I,endpoint:w}),delete:()=>e.deleteAssociation(n,f)})}):z.default.createElement(z.default.Fragment,null),z.default.createElement(co,{endpoints:a!=null?a:[],groups:c,nodes:e.nodes.filter(f=>f.nodeId!==n),sourceEndpoint:void 0,group:void 0,nodeId:void 0,supportsMultiChannel:s,save:(f,g,h,C)=>e.saveAssociation(n,void 0,{sourceEndpoint:f,group:g,nodeId:h,endpoint:C})})))}var Qn=e=>{let{ready:t,endpoints:r}=e.device,o=!!r&&[...r.values()].some(a=>!!a.associationGroups),n=ho();return t&&!o?z.default.createElement(z.default.Fragment,null):z.default.createElement(Yn.default,{className:n.paper,elevation:2},z.default.createElement(jc,{device:e.device}),t?z.default.createElement(Ac,{...e}):z.default.createElement(Rn,null))};var Jn=l(U());var ea=l(Gt()),ta=e=>{let{alive:t,connected:r}=(0,Jn.useAdapter)(),o=fe(),{devices:n,updateDevices:a}=e;async function c(f,g,h){g&&await s(f,g),await o.addAssociation(f,h),await a()}async function s(f,g){await o.removeAssociation(f,g),await a()}let i=n?Object.values(n).filter(Boolean):[],u=i.map(f=>({nodeId:f.value.native.id,endpointIndizes:f.value.native.endpointIndizes})),d=i.filter(f=>!f.value.native.isControllerNode);return!t||!r?He.default.createElement(rt,null):n?d.length?He.default.createElement(He.default.Fragment,null,d.map((f,g)=>He.default.createElement(Qn,{key:g,device:f,nodes:u,saveAssociation:c,deleteAssociation:s}))):He.default.createElement(Wn,null):He.default.createElement(ea.default,null)};var as=l(Gt()),me=l(U()),ne=l(T());var or=l(Le()),Ne=l(T()),na=l(Ht()),aa=l(ra()),ia=l(oa()),sa=l(U()),la=l(Q()),ua=l(je()),X;(function(a){a[a.Idle=0]="Idle",a[a.Including=1]="Including",a[a.Excluding=2]="Excluding",a[a.Healing=3]="Healing",a[a.Busy=4]="Busy"})(X||(X={}));var Lc=(0,la.makeStyles)(e=>({root:{display:"flex",flexDirection:"row",gap:e.spacing(1)},redButton:{background:e.palette.error.main,"&:hover":{background:e.palette.error.dark}}})),ca=e=>{let{translate:t}=(0,sa.useI18n)(),r=Lc();return Ne.default.createElement("div",{className:r.root},Ne.default.createElement(or.default,{variant:"contained",color:e.state===1?"secondary":"primary",startIcon:Ne.default.createElement(na.default,null),disabled:e.state!==0&&e.state!==1,onClick:e.beginInclusion},e.state!==1?t("Include device"):t("Inclusion active")),Ne.default.createElement(or.default,{variant:"contained",color:e.state===2?"secondary":"primary",startIcon:Ne.default.createElement(aa.default,null),disabled:e.state!==0&&e.state!==2,onClick:e.beginExclusion},e.state!==2?t("Exclude device"):t("Exclusion active")),Ne.default.createElement(or.default,{variant:"contained",color:"primary",className:(0,ua.default)(e.state===3&&r.redButton),startIcon:Ne.default.createElement(ia.default,null),disabled:e.state!==0&&e.state!==3,onClick:e.state!==3?e.healNetwork:e.cancelHealing},e.state!==3?t("Heal network"):t("Cancel healing")))};var ki=l(Ft()),Di=l(Q()),ji=l(eo()),Ai=l(to()),Be=l(Qe()),Ni=l(fn()),Pi=l(ro()),Io=l(Je()),qi=l(U()),oe=l(T());var bi=l(lu()),xi=l(an()),Si=l(Q()),Me=l(Qe()),_o=l(Je()),wi=l(Ae()),Ci=l(da()),_i=l(fa()),Ii=l(pa()),at=l(U()),O=l(T());var vt=l(Le()),Ca=l(Q()),Z=l(T());var ye=l(U()),yt=l(mn()),_a=l($t()),Ia=l(vo()),Ta=l(fo()),ka=l(ma());var pe=l(T()),ga=l(U()),ha=l(cn()),va=l(dn()),ya=l(ln()),ba=l(un()),yo=l(Le()),xa=l(lo()),bo=l(Ze()),Sa=l(Q()),pd=(0,Sa.makeStyles)(e=>({root:{display:"flex",flexFlow:"column",maxWidth:400,gap:e.spacing(2)}})),wa=e=>{let{translate:t}=(0,ga.useI18n)(),r=pd(),[o,n]=pe.default.useState(e.region),a=pe.default.useMemo(()=>Object.entries(e.regions).map(([c,s])=>({value:c,label:s})),[e.regions]);return pe.default.createElement(ya.default,{open:e.open,onClose:e.onCancel,maxWidth:!1},pe.default.createElement(va.default,{id:"alert-dialog-title"},t("Set RF Region")),pe.default.createElement(ha.default,{className:r.root},pe.default.createElement(bo.default,{variant:"body1"},t("Select the correct region for where you are. Using a different region may be illegal.")),pe.default.createElement(xa.Dropdown,{selectedOption:o,options:a,onChange:c=>n(parseInt(c.target.value))}),pe.default.createElement(bo.default,{variant:"body2"},t("Note: Applying a different region might take a few seconds."))),pe.default.createElement(ba.default,null,pe.default.createElement(yo.default,{disabled:e.region===o,onClick:()=>e.onConfirm(o),color:"primary"},t("OK")),pe.default.createElement(yo.default,{onClick:e.onCancel,color:"primary"},t("Cancel"))))};var md=(0,Ca.makeStyles)(e=>({root:{padding:e.spacing(2,0),display:"grid",gridTemplateColumns:"minmax(auto, 300px) 1fr",alignItems:"center",columnGap:e.spacing(4),rowGap:e.spacing(2)},redButton:{background:e.palette.error.main,"&:hover":{background:e.palette.error.dark}}})),Da=e=>{var I;let{isBusy:t,setBusy:r}=e,{namespace:o}=(0,ye.useGlobals)(),n=fe(),{translate:a}=(0,ye.useI18n)(),{showModal:c,showNotification:s}=(0,ye.useDialogs)(),[i,u]=Z.default.useState(!1),[d]=(0,ye.useIoBrokerObject)(`${o}.info.rfRegion`,{subscribe:!1}),[f]=(0,ye.useIoBrokerState)({id:`${o}.info.rfRegion`}),g=Z.default.useCallback(w=>{t||(r(!0),n.setRFRegion(w).finally(()=>r(!1)))},[n,t,r]),h=Z.default.useCallback(()=>{t||(r(!0),n.softReset().finally(()=>r(!1)))},[n,t,r]),C=Z.default.useCallback(async()=>{if(!t)try{if(!await c(a("Re-interview all?"),a("clear cache procedure")))return;r(!0),await n.clearCache(),setTimeout(()=>{r(!1)},1e3)}catch(w){s(ge(w),"error");return}},[n,t,c,s]),y=Z.default.useCallback(async()=>{if(!t)try{if(!await c(a("Factory reset?"),a("factory reset procedure")))return;r(!0),await n.hardReset(),r(!1),await c(a("Factory reset successful"),a("The adapter will now restart."))}catch(w){s(ge(w),"error");return}},[n,t,c,s]),m=md();return Z.default.createElement("div",{className:m.root},Z.default.createElement(vt.default,{disabled:t,variant:"contained",color:"primary",onClick:h,startIcon:Z.default.createElement(Ta.default,null)},a("Soft reset")),Z.default.createElement(yt.Typography,{variant:"body2"},a("Restart the controller, e.g. when it hangs")),Z.default.createElement(vt.default,{disabled:t,variant:"contained",color:"primary",onClick:C,startIcon:Z.default.createElement(Ia.default,null)},a("Re-interview all")),Z.default.createElement(yt.Typography,{variant:"body2"},a("Forget all information about all nodes and re-interview them. Battery-powered nodes might need to be woken up manually.")),Z.default.createElement(vt.default,{disabled:t||f==null,variant:"contained",color:"primary",onClick:()=>u(!0),startIcon:Z.default.createElement(ka.default,null)},a("Set RF Region")),Z.default.createElement(yt.Typography,{variant:"body2"},a("Configure the region and radio frequencies of the controller.")),Z.default.createElement(vt.default,{className:m.redButton,disabled:t,variant:"contained",onClick:y,startIcon:Z.default.createElement(_a.default,null)},a("Factory reset")),Z.default.createElement(yt.Typography,{variant:"body2"},a("Wipes all configuration of the controller. All connected nodes will be orphaned and have to be reset and included into the new network before they can be used again.")),d&&f!=null&&Z.default.createElement(wa,{open:i,onCancel:()=>u(!1),onConfirm:w=>{g(w),u(!1)},region:f,regions:(I=d.common.states)!=null?I:{}}))};var nt=l(T()),Aa=l(Ae()),be=l(ct()),Na=l(Q()),Pa=l(qu()),qa=l(ja()),Ma=l(je()),Ba=(0,Na.makeStyles)(e=>({root:{display:"grid",gridTemplateColumns:"repeat(4, 16px)",gridTemplateRows:"16px"},securityIcon:{fontSize:"16px",color:be.grey[200]},S2_AccessControl:{color:be.green[800]},S2_Authenticated:{color:be.blue[900]},S2_Unauthenticated:{color:be.deepPurple[500]},S0_Legacy:{color:be.amber[800]}})),xd=e=>{let t=Ba(),r=e.granted?Pa.default:qa.default;return e.supported?nt.default.createElement(Aa.default,{title:`${e.title}: ${e.granted?"\u2714":"\u2718"}`},nt.default.createElement(r,{className:(0,Ma.default)(t.securityIcon,e.granted&&t[e.className])})):nt.default.createElement("span",null)},Sd=[["S2_AccessControl","S2 Access Control"],["S2_Authenticated","S2 Authenticated"],["S2_Unauthenticated","S2 Unauthenticated"],["S0_Legacy","S0 Legacy"]],Oa=e=>{let t=Ba(),{securityClasses:r}=e;return nt.default.createElement("div",{className:t.root},Sd.map(([o,n])=>nt.default.createElement(xd,{key:o,title:n,className:o,supported:o in r,granted:r[o]===!0})))};var Wa=l(Q()),J=l(T());var Ea=l(Q()),xo=l(U()),P=l(T()),Fa=l(Ae()),Ga=l(je()),So=(0,Ea.makeStyles)(e=>({tooltip:{border:`1px solid ${e.palette.divider}`,backgroundColor:e.palette.common.white,boxShadow:e.shadows[1],color:"rgba(0, 0, 0, 0.87)",fontSize:12},arrow:{"&::before":{border:`1px solid ${e.palette.divider}`,backgroundColor:e.palette.common.white,boxSizing:"border-box"}},root:{display:"grid",gridTemplateColumns:"auto auto",gridGap:e.spacing(0,1)},bad:{color:e.palette.error.main,fontWeight:"bold"}})),za=e=>{let t=So();return P.default.createElement(Fa.default,{arrow:!0,classes:{tooltip:t.tooltip,arrow:t.arrow},...e})},La=e=>{var n;let t=So(),{translate:r}=(0,xo.useI18n)(),o=(n=e.statistics)!=null?n:{commandsRX:0,commandsTX:0,commandsDroppedRX:0,commandsDroppedTX:0,timeoutResponse:0};return P.default.createElement(za,{title:P.default.createElement("div",{className:t.root},P.default.createElement("b",null,r("sent"),":"),P.default.createElement("span",null,o.commandsTX,o.commandsDroppedTX>0&&P.default.createElement(P.default.Fragment,null," ",P.default.createElement("span",{className:t.bad},"(",o.commandsDroppedTX," ",r("dropped"),")"))),P.default.createElement("b",null,r("received"),":"),P.default.createElement("span",null,o.commandsRX,o.commandsDroppedRX>0&&P.default.createElement(P.default.Fragment,null," ",P.default.createElement("span",{className:t.bad},"(",o.commandsDroppedRX," ",r("dropped"),")"))),P.default.createElement("b",null,r("timeouts"),":"),P.default.createElement("span",{className:(0,Ga.default)(o.timeoutResponse>0?t.bad:void 0)},o.timeoutResponse))},e.children)},Ha=e=>{var n;let t=So(),{translate:r}=(0,xo.useI18n)(),o=(n=e.statistics)!=null?n:{CAN:0,NAK:0,messagesDroppedRX:0,messagesDroppedTX:0,messagesRX:0,messagesTX:0,timeoutACK:0,timeoutCallback:0,timeoutResponse:0};return P.default.createElement(za,{title:P.default.createElement("div",{className:t.root},P.default.createElement("b",null,r("sent"),":"),P.default.createElement("span",null,o.messagesTX,o.messagesDroppedTX>0&&P.default.createElement(P.default.Fragment,null," ",P.default.createElement("span",{className:t.bad},"(",o.messagesDroppedTX," ",r("dropped"),")"))),P.default.createElement("b",null,r("received"),":"),P.default.createElement("span",null,o.messagesRX,o.messagesDroppedRX>0&&P.default.createElement(P.default.Fragment,null," ",P.default.createElement("span",{className:t.bad},"(",o.messagesDroppedRX," ",r("dropped"),")"))),P.default.createElement("b",null,r("timeouts"),":"),P.default.createElement("div",null,"ACK:"," ",P.default.createElement("span",{className:t.bad},o.timeoutACK),P.default.createElement("br",null),"RES:"," ",P.default.createElement("span",{className:t.bad},o.timeoutResponse),P.default.createElement("br",null),"CB:"," ",P.default.createElement("span",{className:t.bad},o.timeoutCallback)),P.default.createElement("b",null,r("collisions"),":"),P.default.createElement("span",null,o.CAN),P.default.createElement("b",null,r("corrupt"),":"),P.default.createElement("span",{className:t.bad},o.NAK))},e.children)};var wo=l(je()),Pe=l(ct()),Ra=(0,Wa.makeStyles)(e=>({root:{},arrow:{transition:"fill 0.5s ease-out, filter 0.5s ease-out"},lArrow:{marginLeft:"-24px"},error:{fill:Pe.red[800],filter:`
			drop-shadow(0 0 10px ${Pe.red[300]})
			drop-shadow(0 0 5px ${Pe.red[300]})
			drop-shadow(0 0 1px rgba(255,255,255,0.1))
		`,transitionDuration:"0.05s"},active:{fill:Pe.green[800],filter:`
			drop-shadow(0 0 10px ${Pe.green[300]})
			drop-shadow(0 0 5px ${Pe.green[300]})
			drop-shadow(0 0 1px rgba(255,255,255,0.1))
		`,transitionDuration:"0.05s"}})),$a=e=>{let t=Ra();return J.default.createElement("svg",{className:(0,wo.default)("MuiSvgIcon-root",t.arrow,e.status&&t[e.status]),focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},J.default.createElement("path",{d:"M9 3 5 6.99h3V14h2V6.99h3L9 3z"}))},Va=e=>{let t=Ra();return J.default.createElement("svg",{className:(0,wo.default)("MuiSvgIcon-root",t.arrow,t.lArrow,e.status&&t[e.status]),focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},J.default.createElement("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3z"}))},Ka=e=>{let[t,r]=J.default.useState(),[o,n]=J.default.useState(),[a,c]=J.default.useState();return J.default.useEffect(()=>{if(t!=null&&e.statistics!=null)if(e.type==="controller"){let s=t,i=e.statistics;s.NAK<i.NAK||s.messagesDroppedTX<i.messagesDroppedTX||s.timeoutACK<i.timeoutACK||s.timeoutResponse<i.timeoutResponse||s.timeoutCallback<i.timeoutCallback?n("error"):s.messagesTX<i.messagesTX&&n("active"),s.messagesDroppedRX<i.messagesDroppedRX?c("error"):s.messagesRX<i.messagesRX&&c("active")}else{let s=t,i=e.statistics;s.commandsDroppedTX<i.commandsDroppedTX||s.timeoutResponse<i.timeoutResponse?n("error"):s.commandsTX<i.commandsTX&&n("active"),s.commandsDroppedRX<i.commandsDroppedRX?c("error"):s.commandsRX<i.commandsRX&&c("active")}r(e.statistics)},[e.statistics,n,c,t]),J.default.useEffect(()=>{let s=setTimeout(()=>{n(void 0),c(void 0)},500);return()=>clearTimeout(s)},[n,c,e.statistics]),e.type==="controller"?J.default.createElement(Ha,{statistics:e.statistics},J.default.createElement("span",null,J.default.createElement($a,{status:o}),J.default.createElement(Va,{status:a}))):J.default.createElement(La,{statistics:e.statistics},J.default.createElement("span",null,J.default.createElement($a,{status:o}),J.default.createElement(Va,{status:a})))};var Ie=l(T()),Qa=l(U()),Ja=l(Ua()),ei=l(Xa()),ti=l(Ya()),ri=l(Za()),bt=l(Ae()),qe=l(ct()),oi=l(Q()),Hd=(0,oi.makeStyles)(e=>({healIconPending:{color:qe.blue[500],animation:"$rotation 1.5s infinite ease-in-out",animationFillMode:"forwards"},healIconFailed:{color:qe.red[500]},healIconSkipped:{color:qe.orange[800]},healIconDone:{color:qe.green[900]},"@keyframes rotation":{"0%":{transform:"rotate(0deg)"},"95%":{transform:"rotate(720deg)",animationFillMode:"none"},"95.1%":{transform:"rotate(0deg)"}}})),ni=e=>{let{status:t}=e,{translate:r}=(0,Qa.useI18n)(),o=Hd();switch(t){case"done":return Ie.default.createElement(bt.default,{title:r("done")},Ie.default.createElement(Ja.default,{className:o.healIconDone}));case"skipped":return Ie.default.createElement(bt.default,{title:r("skipped")},Ie.default.createElement(ei.default,{className:o.healIconSkipped}));case"failed":return Ie.default.createElement(bt.default,{title:r("failed")},Ie.default.createElement(ti.default,{className:o.healIconFailed}));case"pending":return Ie.default.createElement(bt.default,{title:r("pending")},Ie.default.createElement(ri.default,{className:o.healIconPending}))}throw new Error("Unknown heal status")};var We=l(Le()),ui=l(Q()),xt=l(Ae()),j=l(T());var yr=l(U()),ci=l(ai()),di=l(Jr()),fi=l(yu()),pi=l(vo());var Co=l(du()),br=l(Ze()),mi=l(je()),gi=l(ii()),hi=l(si()),vi=l(li()),cf=(0,ui.makeStyles)(e=>({root:{padding:e.spacing(2,0),display:"grid",gridTemplateColumns:"minmax(auto, 300px) 1fr",alignItems:"center",columnGap:e.spacing(4),rowGap:e.spacing(2)},firmwareUpdate:{gridColumn:"1 / span 2",display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing(4)},firmwareUpdateMessage:{gridColumn:"1 / span 2"},warning:{color:e.palette.warning.main},redButton:{background:e.palette.error.main,"&:hover":{background:e.palette.error.dark}}})),yi=e=>{let[t,r]=j.default.useState(),[o,n]=j.default.useState(!1),[a,c]=j.default.useState(),[s,i]=j.default.useState(),u=j.default.useRef(),d=fe(),{nodeId:f,isBusy:g,setBusy:h,supportsFirmwareUpdate:C}=e,{translate:y}=(0,yr.useI18n)(),{showNotification:m,showModal:I}=(0,yr.useDialogs)(),w=e.status!=="alive"&&e.status!=="awake";async function v(){if(!!await I(y("Remove node?"),y("Do you really want to remove this node from the network?"))){h(!0);try{await d.removeFailedNode(f)}catch(_){alert(_)}finally{h(!1)}}}async function x(){await I(y("Replace node?"),y("Do you really want to replace this node?"))&&e.replaceFailedNode()}async function A(){h(!0);try{await d.refreshNodeInfo(f)}catch(b){alert(b)}finally{h(!1)}}let D=()=>{var b;(b=u.current)==null||b.click()},N=async b=>{var _;if((_=b.target.files)==null?void 0:_.length){let F=b.target.files[0],K=new Uint8Array(await F.arrayBuffer());r({name:F.name,data:K})}};async function Y(){if(C&&(t==null?void 0:t.data)){h(!0);try{n(!0),c({type:"progress",sentFragments:0,totalFragments:1}),await d.beginFirmwareUpdate(f,t.name,Array.from(t.data))}catch(b){n(!1),alert(b)}finally{h(!1),i(void 0)}}}async function $(){h(!0);try{await d.abortFirmwareUpdate(f)}catch(b){alert(b)}finally{h(!1),n(!1)}}zt(b=>{if(b.type==="firmwareUpdate"){let _=b.progress;if(c(_),_.type==="done"){let F=_.status>=253;if(!F)m(y("firmware update failed"),"error"),i(void 0);else{let K=y("firmware update successful");F&&(_.waitTime?K+=" "+y("firmware update wait time").replace("{0}",_.waitTime.toString()):K+=" "+y("firmware update no wait time"),K+=" "+y("firmware update wake up")),i(K)}r(void 0),n(!1),setTimeout(()=>{c(void 0)},1e4)}else n(!0)}});let S=(a==null?void 0:a.type)==="progress"&&typeof a.totalFragments=="number"&&typeof a.sentFragments=="number"?Math.round(a.sentFragments/a.totalFragments*1e4)/100:Number.NaN;j.default.useEffect(()=>{(a==null?void 0:a.type)!=="done"&&(e.status==="asleep"&&o?i(y("wake up device")):i(void 0))},[e.status,o,a]);let k=cf();return j.default.createElement("div",{className:k.root},j.default.createElement(We.default,{disabled:g,variant:"contained",color:"primary",startIcon:j.default.createElement(pi.default,null),onClick:()=>A(),fullWidth:!0},y("Refresh node info")),j.default.createElement(br.default,{variant:"body2"},y("Forget all information about this node and re-interview it. Battery-powered nodes might need to be woken up manually.")),j.default.createElement(xt.default,{title:w?"":y("This is not a failed node")},j.default.createElement("span",null,j.default.createElement(We.default,{disabled:!w||g,variant:"contained",className:k.redButton,onClick:v,startIcon:j.default.createElement(hi.default,null),fullWidth:!0},y("Remove failed node")))),j.default.createElement(br.default,{variant:"body2"},y("Remove this node from the network."),j.default.createElement("br",null),j.default.createElement("span",{className:k.warning},y("WARNING: Only do this if you no longer have physical access."))),j.default.createElement(xt.default,{title:w?"":y("This is not a failed node")},j.default.createElement("span",null,j.default.createElement(We.default,{disabled:!w||g,variant:"contained",className:k.redButton,onClick:x,startIcon:j.default.createElement(vi.default,null),fullWidth:!0},y("Replace failed node")))),j.default.createElement(br.default,{variant:"body2"},y("Replace this node with a different one, keeping the node ID."),j.default.createElement("br",null),j.default.createElement("span",{className:k.warning},y("WARNING: Make sure that the node is reset before attempting this."))),C&&j.default.createElement(j.default.Fragment,null,j.default.createElement("div",{className:k.firmwareUpdate},j.default.createElement(We.default,{disabled:o||g,variant:"contained",color:"primary",onClick:()=>D(),style:{flex:"1 0 auto"},startIcon:j.default.createElement(gi.default,null)},y("Update Firmware")),j.default.createElement("input",{type:"file",hidden:!0,id:"firmwareFile",accept:".exe,.ex_,.ota,.otz,.hex,.hec,.gbl,.bin",ref:b=>{b&&(u.current=b)},onChange:N}),o?j.default.createElement(j.default.Fragment,null,j.default.createElement("div",{className:"progress",style:{margin:"0 1em",flex:"1 1 100%"}},Number.isNaN(S)?j.default.createElement(Co.default,null):j.default.createElement(Co.default,{variant:"determinate",value:S})),!Number.isNaN(S)&&j.default.createElement("div",{style:{whiteSpace:"nowrap",marginRight:"1em"}},S.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," %")):j.default.createElement("span",{style:{flex:"1 1 100%",textAlign:"center",padding:"0 1em",wordBreak:"break-all"}},t?`${t.name} (${t.data.byteLength} bytes)`:y("no file selected")),j.default.createElement(di.default,{variant:"contained",color:"primary",style:{flex:"1 0 auto"}},j.default.createElement(xt.default,{title:y("start firmware update")},j.default.createElement(We.default,{disabled:o||g||!(t==null?void 0:t.data),onClick:()=>Y()},j.default.createElement(ci.default,null))),j.default.createElement(xt.default,{title:y("abort firmware update")},j.default.createElement(We.default,{disabled:!o||g,onClick:()=>$()},j.default.createElement(fi.default,null))))),s?j.default.createElement("div",{className:k.firmwareUpdateMessage},s):j.default.createElement("div",{className:(0,mi.default)(k.firmwareUpdateMessage,k.warning)},y("firmware update warning"))))};var df=(0,Si.makeStyles)(e=>({mainRow:{"& > *":{border:0}},controllerIcon:{fontSize:"16px",margin:"7px",color:e.palette.text.secondary},idCell:{display:"flex",flexFlow:"row nowrap",alignItems:"center"},expanderCell:{paddingBottom:0,paddingTop:0,background:e.palette.background.default}})),Ti=e=>{var w,v;let{healStatus:t,device:r}=e,{value:o,status:n}=r,a=o.native.id,c=!!o.native.supportsFirmwareUpdate,{secure:s,securityClasses:i,isControllerNode:u}=o.native,[d,f]=O.default.useState(u),g=df(),{translate:h}=(0,at.useI18n)(),{namespace:C}=(0,at.useGlobals)(),[y]=(0,at.useIoBrokerState)({id:u?`${C}.info.statistics`:`${C}.${bn(a)}.info.statistics`}),[m,I]=O.default.useState();return O.default.useEffect(()=>{if(y)try{let x=JSON.parse(y);I(x)}catch(x){console.error(x)}},[y]),O.default.createElement(O.default.Fragment,null,O.default.createElement(_o.default,{hover:!0,className:g.mainRow},O.default.createElement(Me.default,{className:g.idCell},O.default.createElement(xi.default,{"aria-label":"expand row",size:"small",onClick:()=>f(!d)},d?O.default.createElement(Ii.default,null):O.default.createElement(_i.default,null)),O.default.createElement("span",{style:{marginLeft:"auto"}},a)),O.default.createElement(Me.default,null,o.common.name),O.default.createElement(Me.default,null,(v=(w=o.native.type.specific)!=null?w:o.native.type.generic)!=null?v:h("unknown")),O.default.createElement(Me.default,null,s&&i&&O.default.createElement(Oa,{securityClasses:i})),O.default.createElement(Me.default,null,u?O.default.createElement(wi.default,{title:h("Controller node")},O.default.createElement(Ci.default,null)):O.default.createElement(O.default.Fragment,null,O.default.createElement(Jt,{status:n}),!!t&&O.default.createElement(O.default.Fragment,null," ",O.default.createElement(ni,{status:e.healStatus})))),O.default.createElement(Me.default,null,O.default.createElement(Ka,{type:u?"controller":"node",statistics:m}))),O.default.createElement(_o.default,null,O.default.createElement(Me.default,{colSpan:6,className:g.expanderCell},O.default.createElement(bi.default,{in:d,timeout:"auto",unmountOnExit:!0},u?O.default.createElement(Da,{isBusy:e.isBusy,setBusy:e.setBusy}):O.default.createElement(yi,{nodeId:a,status:n,isBusy:e.isBusy,setBusy:e.setBusy,supportsFirmwareUpdate:c,replaceFailedNode:e.replaceFailedNode})))))};var ff=(0,Di.makeStyles)(e=>({root:{width:"100%",marginTop:e.spacing(2)},container:{overflowY:"auto"},empty:{textAlign:"center",fontStyle:"italic"}})),Mi=e=>{let{translate:t}=(0,qi.useI18n)(),r=ff(),{devices:o,healingNetwork:n,networkHealProgress:a}=e;return oe.default.createElement(ki.default,{className:r.root,elevation:2},oe.default.createElement(Ni.default,{className:r.container},oe.default.createElement(ji.default,null,oe.default.createElement(Pi.default,null,oe.default.createElement(Io.default,null,oe.default.createElement(Be.default,{align:"right"},"#"),oe.default.createElement(Be.default,null,t("Name")),oe.default.createElement(Be.default,null,t("Type")),oe.default.createElement(Be.default,null,t("Security")),oe.default.createElement(Be.default,null,t("Status")),oe.default.createElement(Be.default,null,t("Statistics")))),oe.default.createElement(Ai.default,null,o.length?o.map(c=>{let s=c.value.native.id;return oe.default.createElement(Ti,{key:`device-${s}`,isBusy:e.isBusy,setBusy:e.setBusy,device:c,healStatus:n?a[s]:void 0,replaceFailedNode:()=>e.replaceFailedNode(s)})}):oe.default.createElement(Io.default,null,oe.default.createElement(Be.default,{colSpan:6,className:r.empty},t("No devices present")))))))};var ee=l(Le()),Qi=l(ln()),Ee=l(un()),Fe=l(cn()),Ji=l(dn()),es=l(Gt()),ts=l(Q()),R=l(Ze()),ce=l(U()),p=l(T()),To=l(vu()),rs=l(bu()),xr=l(ct()),ko=l(je()),os=l(pn()),Re=l(cu()),$e=l(sn());var se=l(T()),Mg=l(su()),Ki=l(je()),Oe=l(Q()),Ui=l(Ft());var Bi=l(T()),Oi=l(dt()),Ei=(0,Oi.createSvgIcon)(Bi.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined");var Fi=l(T()),Gi=l(dt()),zi=(0,Gi.createSvgIcon)(Fi.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined");var Li=l(T()),Hi=l(dt()),Wi=(0,Hi.createSvgIcon)(Li.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");var Ri=l(T()),$i=l(dt()),Vi=(0,$i.createSvgIcon)(Ri.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var Xi=l(an()),Yi=l(dt()),pf=function(t){var r=t.palette.type==="light"?Oe.darken:Oe.lighten,o=t.palette.type==="light"?Oe.lighten:Oe.darken;return{root:no({},t.typography.body2,{borderRadius:t.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:r(t.palette.success.main,.6),backgroundColor:o(t.palette.success.main,.9),"& $icon":{color:t.palette.success.main}},standardInfo:{color:r(t.palette.info.main,.6),backgroundColor:o(t.palette.info.main,.9),"& $icon":{color:t.palette.info.main}},standardWarning:{color:r(t.palette.warning.main,.6),backgroundColor:o(t.palette.warning.main,.9),"& $icon":{color:t.palette.warning.main}},standardError:{color:r(t.palette.error.main,.6),backgroundColor:o(t.palette.error.main,.9),"& $icon":{color:t.palette.error.main}},outlinedSuccess:{color:r(t.palette.success.main,.6),border:"1px solid ".concat(t.palette.success.main),"& $icon":{color:t.palette.success.main}},outlinedInfo:{color:r(t.palette.info.main,.6),border:"1px solid ".concat(t.palette.info.main),"& $icon":{color:t.palette.info.main}},outlinedWarning:{color:r(t.palette.warning.main,.6),border:"1px solid ".concat(t.palette.warning.main),"& $icon":{color:t.palette.warning.main}},outlinedError:{color:r(t.palette.error.main,.6),border:"1px solid ".concat(t.palette.error.main),"& $icon":{color:t.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.success.main},filledInfo:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.info.main},filledWarning:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.warning.main},filledError:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},Zi={success:se.createElement(Ei,{fontSize:"inherit"}),warning:se.createElement(zi,{fontSize:"inherit"}),error:se.createElement(Wi,{fontSize:"inherit"}),info:se.createElement(Vi,{fontSize:"inherit"})},mf=se.createElement(vn,{fontSize:"small"}),gf=se.forwardRef(function(t,r){var o=t.action,n=t.children,a=t.classes,c=t.className,s=t.closeText,i=s===void 0?"Close":s,u=t.color,d=t.icon,f=t.iconMapping,g=f===void 0?Zi:f,h=t.onClose,C=t.role,y=C===void 0?"alert":C,m=t.severity,I=m===void 0?"success":m,w=t.variant,v=w===void 0?"standard":w,x=hn(t,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return se.createElement(Ui.default,no({role:y,square:!0,elevation:0,className:(0,Ki.default)(a.root,a["".concat(v).concat((0,Yi.capitalize)(u||I))],c),ref:r},x),d!==!1?se.createElement("div",{className:a.icon},d||g[I]||Zi[I]):null,se.createElement("div",{className:a.message},n),o!=null?se.createElement("div",{className:a.action},o):null,o==null&&h?se.createElement("div",{className:a.action},se.createElement(Xi.default,{size:"small","aria-label":i,title:i,color:"inherit",onClick:h},mf)):null)}),St=(0,Oe.withStyles)(pf,{name:"MuiAlert"})(gf);var Ve=(0,ts.makeStyles)(e=>({strategyRoot:{},strategyGridHeadline:{marginTop:e.spacing(4)},strategyGrid:{marginTop:e.spacing(1),display:"grid",gridTemplateColumns:"auto 400px",gridGap:e.spacing(2),alignItems:"center"},strategyList:{...e.typography.body2},waitMessageRoot:{display:"grid",gridTemplateColumns:"minmax(auto, 10ch) 1fr",gridGap:e.spacing(4),alignItems:"center",overflow:"hidden"},grantRoot:{display:"flex",flexFlow:"column nowrap",gap:e.spacing(1),maxWidth:"600px"},grantHeadline:{marginTop:e.spacing(-1),marginBottom:e.spacing(1)},grantCSA:{marginTop:e.spacing(2)},validateDSKRoot:{maxWidth:"600px"},validateDSKGrid:{marginTop:e.spacing(1),display:"grid",width:"100%",gridTemplateColumns:"minmax(auto, 10ch) 1fr",gridGap:e.spacing(1),alignItems:"center",textAlign:"center"},resultRoot:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto auto auto",alignItems:"center"},resultIcon:{marginRight:e.spacing(4),fontSize:"64px",gridRow:"1 / span 3",gridColumn:1},resultIconOK:{color:xr.green[500]},resultIconLowSecurity:{color:xr.yellow[700]}})),E;(function(u){u[u.SelectInclusionStrategy=0]="SelectInclusionStrategy",u[u.SelectReplacementStrategy=1]="SelectReplacementStrategy",u[u.IncludeDevice=2]="IncludeDevice",u[u.ExcludeDevice=3]="ExcludeDevice",u[u.GrantSecurityClasses=4]="GrantSecurityClasses",u[u.ValidateDSK=5]="ValidateDSK",u[u.Busy=6]="Busy",u[u.Result=7]="Result",u[u.ExclusionResult=8]="ExclusionResult"})(E||(E={}));var Te;(function(a){a[a.Default=0]="Default",a[a.SmartStart=1]="SmartStart",a[a.Insecure=2]="Insecure",a[a.Security_S0=3]="Security_S0",a[a.Security_S2=4]="Security_S2"})(Te||(Te={}));var hf=e=>{let{translate:t}=(0,ce.useI18n)(),r=Ve(),[o,n]=p.default.useState(!1),a=t(o?"Security S2 when supported, Security S0 as a fallback, no encryption otherwise.":"Security S2 when supported, Security S0 only when necessary, no encryption otherwise."),{namespace:c}=(0,ce.useGlobals)(),[s]=(0,ce.useIoBrokerObject)(`system.adapter.${c}`,{subscribe:!1}),i=s==null?void 0:s.native,u=i&&(!i.networkKey_S0||!i.networkKey_S2_AccessControl||!i.networkKey_S2_Authenticated||!i.networkKey_S2_Unauthenticated);return p.default.createElement(p.default.Fragment,null,p.default.createElement(Fe.default,{className:r.strategyRoot},p.default.createElement(R.default,{variant:"body2"},t("Z-Wave supports the following security mechanisms:")),p.default.createElement("ul",{className:r.strategyList,style:{marginTop:"0.5em"}},p.default.createElement("li",null,p.default.createElement("b",null,"Security S2")," \u2013 ",t("fast and secure")," ",p.default.createElement("b",null,t("(recommended)"))),p.default.createElement("li",null,p.default.createElement("b",null,"Security S0")," \u2013"," ",t("secure, but slow due to a lot of overhead")," ",p.default.createElement("b",null,t("(use only when necessary)"))),p.default.createElement("li",null,t("No encryption"))),u&&p.default.createElement(St,{severity:"warning"},t("At least one network key is not yet configured. This can cause problems during secure inclusion.")),p.default.createElement(R.default,{variant:"body1",className:r.strategyGridHeadline},t("Please choose an inclusion strategy"),":"),p.default.createElement("div",{className:r.strategyGrid},p.default.createElement("div",{style:{gridRow:1,display:"flex",flexFlow:"column"}},p.default.createElement(ee.default,{variant:"contained",color:"primary",onClick:()=>e.selectStrategy(0,o)},t("Default (secure)")),p.default.createElement(Re.default,{label:t("Prefer S0 over no encryption"),control:p.default.createElement($e.default,{checked:o,onChange:(d,f)=>n(f)})})),p.default.createElement(R.default,{variant:"caption",style:{alignSelf:"flex-start"}},a,p.default.createElement("br",null),t("Requires user interaction during the inclusion.")),p.default.createElement(ee.default,{variant:"contained",color:"secondary",style:{gridRow:2},disabled:!0,onClick:()=>e.selectStrategy(1)},"SmartStart"),p.default.createElement(R.default,{variant:"caption"},"coming soon..."),p.default.createElement(ee.default,{variant:"contained",color:"secondary",style:{gridRow:3},onClick:()=>e.selectStrategy(3)},t("Security S0")),p.default.createElement(R.default,{variant:"caption"},t("Only use S0, even if S2 is available. Allows including devices that require security but don't behave correctly during S2 inclusion.")),p.default.createElement(ee.default,{variant:"contained",color:"default",style:{gridRow:4},onClick:()=>e.selectStrategy(2)},t("No encryption")))),p.default.createElement(Ee.default,null,p.default.createElement(ee.default,{variant:"contained",onClick:e.onCancel,color:"primary"},t("Cancel"))))},vf=e=>{let{translate:t}=(0,ce.useI18n)(),r=Ve();return p.default.createElement(p.default.Fragment,null,p.default.createElement(Fe.default,{className:r.strategyRoot},p.default.createElement(R.default,{variant:"body1",className:r.strategyGridHeadline},t("Please choose a replacement strategy"),":"),p.default.createElement("div",{className:r.strategyGrid},p.default.createElement(ee.default,{variant:"contained",color:"primary",style:{gridRow:1},onClick:()=>e.selectStrategy(4)},t("Security S2")),p.default.createElement(R.default,{variant:"caption",style:{alignSelf:"flex-start"}},t("fast and secure"),p.default.createElement("br",null),t("(recommended)")),p.default.createElement(ee.default,{variant:"contained",color:"secondary",style:{gridRow:2},disabled:!0,onClick:()=>e.selectStrategy(3)},t("Security S0")),p.default.createElement(R.default,{variant:"caption"},t("secure, but slow due to a lot of overhead"),p.default.createElement("br",null),t("(use only when necessary)")),p.default.createElement(ee.default,{variant:"contained",color:"default",style:{gridRow:3},onClick:()=>e.selectStrategy(2)},t("No encryption")))),p.default.createElement(Ee.default,null,p.default.createElement(ee.default,{variant:"contained",onClick:e.onCancel,color:"primary"},t("Cancel"))))},Do=e=>{let t=Ve(),{translate:r}=(0,ce.useI18n)();return p.default.createElement(p.default.Fragment,null,p.default.createElement(Fe.default,{className:t.waitMessageRoot},p.default.createElement(es.default,{size:48}),p.default.createElement(R.default,{variant:"body1"},e.message)),p.default.createElement(Ee.default,null,e.onCancel&&p.default.createElement(ee.default,{variant:"contained",onClick:e.onCancel,color:"primary"},r("Cancel"))))},yf=e=>{let{translate:t}=(0,ce.useI18n)(),r=Ve(),o=e.request,n=o.securityClasses.includes(2),a=o.securityClasses.includes(1),c=o.securityClasses.includes(0),s=o.securityClasses.includes(7),i=o.clientSideAuth,[u,d]=p.default.useState(n),[f,g]=p.default.useState(a),[h,C]=p.default.useState(c),[y,m]=p.default.useState(s),[I,w]=p.default.useState(i),v=()=>{let x=[];u&&x.push(2),f&&x.push(1),h&&x.push(0),y&&x.push(7);let A={securityClasses:x,clientSideAuth:I};e.grantSecurityClasses(A)};return p.default.createElement(p.default.Fragment,null,p.default.createElement(Fe.default,{className:r.grantRoot},p.default.createElement(R.default,{variant:"body1"},t("Please choose which of the following security classes to grant to the new node.")),p.default.createElement(R.default,{variant:"caption",className:r.grantHeadline},t("At least one must be granted or the key exchange will be canceled.")),p.default.createElement(Re.default,{label:p.default.createElement(p.default.Fragment,null,p.default.createElement("b",null,"S2 Access Control",!n&&p.default.createElement(p.default.Fragment,null," (",t("not requested"),")")),p.default.createElement("br",null),p.default.createElement(R.default,{variant:"caption"},t("Example:")," ",t("Door locks, garage doors"),", ...")),disabled:!n,control:p.default.createElement($e.default,{checked:u,onChange:(x,A)=>d(A)})}),p.default.createElement(Re.default,{label:p.default.createElement(p.default.Fragment,null,p.default.createElement("b",null,"S2 Authenticated",!a&&p.default.createElement(p.default.Fragment,null," (",t("not requested"),")")),p.default.createElement("br",null),p.default.createElement(R.default,{variant:"caption"},t("Example:")," ",t("Lighting, sensors, security systems"),", ...")),disabled:!a,control:p.default.createElement($e.default,{checked:f,onChange:(x,A)=>g(A)})}),p.default.createElement(Re.default,{label:p.default.createElement(p.default.Fragment,null,p.default.createElement("b",null,"S2 Unauthenticated",!c&&p.default.createElement(p.default.Fragment,null," (",t("not requested"),")")),p.default.createElement("br",null),p.default.createElement(R.default,{variant:"caption"},t("Like S2 Authenticated, but without verification that the correct device is included"))),disabled:!c,control:p.default.createElement($e.default,{checked:h,onChange:(x,A)=>C(A)})}),p.default.createElement(Re.default,{label:p.default.createElement(p.default.Fragment,null,p.default.createElement("b",null,"S0 Legacy",!s&&p.default.createElement(p.default.Fragment,null," (",t("not requested"),")")),p.default.createElement("br",null),p.default.createElement(R.default,{variant:"caption"},t("Example:")," ",t("Legacy door locks without S2 support"))),disabled:!s,control:p.default.createElement($e.default,{checked:y,onChange:(x,A)=>m(A)})}),p.default.createElement(Re.default,{className:r.grantCSA,label:p.default.createElement(p.default.Fragment,null,p.default.createElement("b",null,"Client Side Authentication",!i&&p.default.createElement(p.default.Fragment,null," (",t("not requested"),")")),p.default.createElement("br",null),p.default.createElement(R.default,{variant:"caption"},t("For devices without a DSK. Authentication of the inclusion happens on the device instead of in ioBroker."))),disabled:!i,control:p.default.createElement($e.default,{checked:I,onChange:(x,A)=>w(A)})})),p.default.createElement(Ee.default,null,p.default.createElement(ee.default,{variant:"contained",onClick:v,color:"primary"},t("OK")),p.default.createElement(ee.default,{variant:"contained",onClick:e.onCancel,color:"primary"},t("Cancel"))))},bf=e=>{let{translate:t}=(0,ce.useI18n)(),[r,o]=p.default.useState(""),[n,a]=p.default.useState(!1),c=d=>{let f=d.target.value.replace(/[^0-9]/g,"");o(f),a(!1)},s=()=>{r.length!==5&&a(!0)},i=()=>{r.length===5&&e.setPIN(r)},u=Ve();return p.default.createElement(p.default.Fragment,null,p.default.createElement(Fe.default,{className:u.validateDSKRoot},p.default.createElement(R.default,{variant:"body1",className:u.strategyGridHeadline},t("Please enter the 5-digit PIN for your device and verify that the rest of the device-specific key (DSK) matches the one on your device or the manual.")),p.default.createElement("div",{className:u.validateDSKGrid},p.default.createElement(os.default,{autoFocus:!0,variant:"outlined",margin:"dense",inputProps:{maxLength:5,style:{textAlign:"center"}},value:r,error:!!n,onChange:c,onBlur:s,onKeyDown:d=>{d.key==="Enter"&&i(),d.key==="Escape"&&e.onCancel()}}),p.default.createElement(R.default,{variant:"body1"},e.dsk),p.default.createElement(R.default,{variant:"caption"},"PIN"),p.default.createElement(R.default,{variant:"caption"},"DSK"))),p.default.createElement(Ee.default,null,p.default.createElement(ee.default,{disabled:r.length!==5,onClick:i,color:"primary"},t("OK")),p.default.createElement(ee.default,{variant:"contained",onClick:e.onCancel,color:"primary"},t("Cancel"))))},xf=e=>{var s;let{translate:t}=(0,ce.useI18n)(),r=Ve(),o=e.lowSecurity?rs.default:To.default,n=e.lowSecurity?t("Node %s was added insecurely!",e.nodeId.toString()):t("Node %s was added successfully!",e.nodeId.toString()),a=e.lowSecurity?t("There was an error during secure inclusion. To try again, exclude the node first."):t("Security class: %s",(s=e.securityClass)!=null?s:t("None")),c=t("The device is now being interviewed. It might take a while to show up.");return p.default.createElement(p.default.Fragment,null,p.default.createElement(Fe.default,{className:r.resultRoot},p.default.createElement(o,{className:(0,ko.default)(r.resultIcon,e.lowSecurity?r.resultIconLowSecurity:r.resultIconOK)}),p.default.createElement(R.default,{variant:"body1",style:{fontWeight:"bold",fontSize:"125%"}},n),p.default.createElement(R.default,{variant:"body2"},a),p.default.createElement(R.default,{variant:"body2"},c)),p.default.createElement(Ee.default,null,p.default.createElement(ee.default,{variant:"contained",onClick:e.onDone,color:"primary"},t("OK"))))},Sf=e=>{let{translate:t}=(0,ce.useI18n)(),r=Ve();return p.default.createElement(p.default.Fragment,null,p.default.createElement(Fe.default,{className:r.resultRoot},p.default.createElement(To.default,{className:(0,ko.default)(r.resultIcon,r.resultIconOK)}),p.default.createElement(R.default,{variant:"body2"},t("Node %s was removed from the network!",e.nodeId.toString()))),p.default.createElement(Ee.default,null,p.default.createElement(ee.default,{variant:"contained",onClick:e.onDone,color:"primary"},t("OK"))))},ns=e=>{let{translate:t}=(0,ce.useI18n)(),r=p.default.useMemo(()=>{switch(e.step){case 0:return p.default.createElement(hf,{selectStrategy:e.selectStrategy,onCancel:e.onCancel});case 1:return p.default.createElement(vf,{selectStrategy:e.selectStrategy,onCancel:e.onCancel});case 2:return p.default.createElement(Do,{message:t("Put your device into inclusion mode"),onCancel:e.onCancel});case 3:return p.default.createElement(Do,{message:t("Put your device into exclusion mode"),onCancel:e.onCancel});case 4:return p.default.createElement(yf,{grantSecurityClasses:e.grantSecurityClasses,request:e.request,onCancel:e.onCancel});case 5:return p.default.createElement(bf,{dsk:e.dsk,onCancel:e.onCancel,setPIN:e.setPIN});case 7:return p.default.createElement(xf,{nodeId:e.nodeId,lowSecurity:e.lowSecurity,securityClass:e.securityClass,onDone:e.onDone});case 8:return p.default.createElement(Sf,{nodeId:e.nodeId,onDone:e.onDone});case 6:return p.default.createElement(Do,{message:t("Communicating with the device, please be patient...")})}},[e.step]),o=p.default.useMemo(()=>{switch(e.step){case 0:case 2:case 4:case 5:case 7:case 6:return t("Include device");case 1:return t("Replace device");case 3:case 8:return t("Exclude device")}},[e.step]);return p.default.createElement(Qi.default,{open:e.isOpen,onClose:e.onCancel,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:!1},p.default.createElement(Ji.default,{id:"alert-dialog-title"},o),r)};var is=e=>{let{devices:t}=e,{alive:r,connected:o}=(0,me.useAdapter)(),{namespace:n}=(0,me.useGlobals)(),{translate:a}=(0,me.useI18n)(),c=fe(),{showNotification:s}=(0,me.useDialogs)(),[i,u]=ne.default.useState(!1),[d]=(0,me.useIoBrokerState)({id:`${n}.info.inclusion`,defaultValue:!1}),[f,,g]=(0,me.useIoBrokerState)({id:`${n}.info.exclusion`,defaultValue:!1}),[h]=(0,me.useIoBrokerState)({id:`${n}.info.healingNetwork`,defaultValue:!1}),[C,y]=ne.default.useState({}),[m,I]=ne.default.useState(),w=ne.default.useCallback(_=>{var F;console.log("on push",_),_.type==="inclusion"?I(_.status):_.type==="healing"&&(y((F=_.status.progress)!=null?F:{}),_.status.type==="done"&&s(a("Healing the network was successful!"),"success"))},[I,y,s]);zt(w);let[v,x]=ne.default.useState(!1);ne.default.useEffect(()=>(r&&o&&!v&&(x(!0),c.subscribeStatistics()),()=>{v&&(x(!1),c.unsubscribeStatistics())}),[r,o,v]);async function A(){if(!h)try{y({}),await c.beginHealingNetwork()}catch(_){s(ge(_),"error");return}}let[D,N]=ne.default.useState(!1),Y=[];if(t)for(let _ of Object.keys(t)){let F=t[_];F&&Y.push(F)}async function $(_){I({type:"chooseReplacementStrategy",nodeId:_}),N(!0)}let S=(()=>{if(f)return{step:E.ExcludeDevice,onCancel:()=>{N(!1),setTimeout(()=>{g(!1)},250)}};if(!m&&!d)return{step:E.SelectInclusionStrategy,onCancel:()=>N(!1),selectStrategy:async(_,F)=>{try{await c.beginInclusion(_,F),I({type:"waitingForDevice"})}catch(K){s(a("Failed to start inclusion"),"error")}}};if((m==null?void 0:m.type)==="chooseReplacementStrategy")return{step:E.SelectReplacementStrategy,onCancel:()=>{N(!1),setTimeout(()=>{I(void 0)},250)},selectStrategy:async _=>{try{await c.replaceFailedNode(m.nodeId,_),I({type:"waitingForDevice"})}catch(F){s(a("Failed to start replacing the node"),"error")}}};if(!m||m.type==="waitingForDevice")return{step:E.IncludeDevice,onCancel:()=>{N(!1),c.stopInclusion()}};if(m.type==="busy")return{step:E.Busy,onCancel:()=>{}};if(m.type==="validateDSK")return{step:E.ValidateDSK,dsk:m.dsk,setPIN:_=>{c.validateDSK(_)},onCancel:()=>{c.validateDSK(!1)}};if(m.type==="grantSecurityClasses")return{step:E.GrantSecurityClasses,request:m.request,grantSecurityClasses:_=>{c.grantSecurityClasses(_)},onCancel:()=>{c.grantSecurityClasses(!1)}};if(m.type==="done")return{step:E.Result,nodeId:m.nodeId,lowSecurity:m.lowSecurity,securityClass:m.securityClass,onDone:()=>{N(!1),setTimeout(()=>{I(void 0)},250)},onCancel:()=>{N(!1),setTimeout(()=>{I(void 0)},250)}};if(m.type==="exclusionDone")return{step:E.ExclusionResult,nodeId:m.nodeId,onDone:()=>{N(!1),setTimeout(()=>{I(void 0)},250)},onCancel:()=>{N(!1),setTimeout(()=>{I(void 0)},250)}}})(),k=d||!!m&&!f&&m.type!=="exclusionDone",b=f||!!m&&!d&&m.type!=="done"&&m.type!=="exclusionDone";return!r||!o?ne.default.createElement(rt,null):t?ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(ca,{state:i?X.Busy:k?X.Including:b?X.Excluding:h?X.Healing:X.Idle,beginInclusion:()=>N(!0),beginExclusion:async()=>{await g(!0),N(!0)},healNetwork:A,cancelHealing:()=>c.stopHealingNetwork()}),ne.default.createElement(Mi,{isBusy:i||h,setBusy:u,devices:Y,healingNetwork:h,networkHealProgress:C,replaceFailedNode:$}),S&&ne.default.createElement(ns,{isOpen:D,...S})):ne.default.createElement(as.default,null)};var Fr=l(T());function Sr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var wt=class extends Map{constructor(t,r=_f){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[o,n]of t)this.set(o,n)}get(t){return super.get(ss(this,t))}has(t){return super.has(ss(this,t))}set(t,r){return super.set(wf(this,t),r)}delete(t){return super.delete(Cf(this,t))}};function ss({_intern:e,_key:t},r){let o=t(r);return e.has(o)?e.get(o):r}function wf({_intern:e,_key:t},r){let o=t(r);return e.has(o)?e.get(o):(e.set(o,r),r)}function Cf({_intern:e,_key:t},r){let o=t(r);return e.has(o)&&(r=e.get(o),e.delete(o)),r}function _f(e){return e!==null&&typeof e=="object"?e.valueOf():e}function wr(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var o=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(n);++o<n;)a[o]=e+o*r;return a}var jo=Math.abs,Ke=Math.cos,Ue=Math.sin,ls=Math.PI,Ct=ls/2,Ao=ls*2,No=Math.max,Cr=1e-12;function Po(e,t){return Array.from({length:t-e},(r,o)=>e+o)}function If(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function qo(){return Tf(!1,!1)}function Tf(e,t){var r=0,o=null,n=null,a=null;function c(s){var i=s.length,u=new Array(i),d=Po(0,i),f=new Array(i*i),g=new Array(i),h=0,C;s=Float64Array.from({length:i*i},t?(y,m)=>s[m%i][m/i|0]:(y,m)=>s[m/i|0][m%i]);for(let y=0;y<i;++y){let m=0;for(let I=0;I<i;++I)m+=s[y*i+I]+e*s[I*i+y];h+=u[y]=m}h=No(0,Ao-r*i)/h,C=h?r:Ao/i;{let y=0;o&&d.sort((m,I)=>o(u[m],u[I]));for(let m of d){let I=y;if(e){let w=Po(~i+1,i).filter(v=>v<0?s[~v*i+m]:s[m*i+v]);n&&w.sort((v,x)=>n(v<0?-s[~v*i+m]:s[m*i+v],x<0?-s[~x*i+m]:s[m*i+x]));for(let v of w)if(v<0){let x=f[~v*i+m]||(f[~v*i+m]={source:null,target:null});x.target={index:m,startAngle:y,endAngle:y+=s[~v*i+m]*h,value:s[~v*i+m]}}else{let x=f[m*i+v]||(f[m*i+v]={source:null,target:null});x.source={index:m,startAngle:y,endAngle:y+=s[m*i+v]*h,value:s[m*i+v]}}g[m]={index:m,startAngle:I,endAngle:y,value:u[m]}}else{let w=Po(0,i).filter(v=>s[m*i+v]||s[v*i+m]);n&&w.sort((v,x)=>n(s[m*i+v],s[m*i+x]));for(let v of w){let x;if(m<v?(x=f[m*i+v]||(f[m*i+v]={source:null,target:null}),x.source={index:m,startAngle:y,endAngle:y+=s[m*i+v]*h,value:s[m*i+v]}):(x=f[v*i+m]||(f[v*i+m]={source:null,target:null}),x.target={index:m,startAngle:y,endAngle:y+=s[m*i+v]*h,value:s[m*i+v]},m===v&&(x.source=x.target)),x.source&&x.target&&x.source.value<x.target.value){let A=x.source;x.source=x.target,x.target=A}}g[m]={index:m,startAngle:I,endAngle:y,value:u[m]}}y+=C}}return f=Object.values(f),f.groups=g,a?f.sort(a):f}return c.padAngle=function(s){return arguments.length?(r=No(0,s),c):r},c.sortGroups=function(s){return arguments.length?(o=s,c):o},c.sortSubgroups=function(s){return arguments.length?(n=s,c):n},c.sortChords=function(s){return arguments.length?(s==null?a=null:(a=If(s))._=s,c):a&&a._},c}var Mo=Math.PI,Bo=2*Mo,Xe=1e-6,kf=Bo-Xe;function Oo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function us(){return new Oo}Oo.prototype=us.prototype={constructor:Oo,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,o){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+o)},bezierCurveTo:function(e,t,r,o,n,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +o+","+(this._x1=+n)+","+(this._y1=+a)},arcTo:function(e,t,r,o,n){e=+e,t=+t,r=+r,o=+o,n=+n;var a=this._x1,c=this._y1,s=r-e,i=o-t,u=a-e,d=c-t,f=u*u+d*d;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Xe)if(!(Math.abs(d*s-i*u)>Xe)||!n)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var g=r-a,h=o-c,C=s*s+i*i,y=g*g+h*h,m=Math.sqrt(C),I=Math.sqrt(f),w=n*Math.tan((Mo-Math.acos((C+f-y)/(2*m*I)))/2),v=w/I,x=w/m;Math.abs(v-1)>Xe&&(this._+="L"+(e+v*u)+","+(t+v*d)),this._+="A"+n+","+n+",0,0,"+ +(d*g>u*h)+","+(this._x1=e+x*s)+","+(this._y1=t+x*i)}},arc:function(e,t,r,o,n,a){e=+e,t=+t,r=+r,a=!!a;var c=r*Math.cos(o),s=r*Math.sin(o),i=e+c,u=t+s,d=1^a,f=a?o-n:n-o;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+i+","+u:(Math.abs(this._x1-i)>Xe||Math.abs(this._y1-u)>Xe)&&(this._+="L"+i+","+u),!!r&&(f<0&&(f=f%Bo+Bo),f>kf?this._+="A"+r+","+r+",0,1,"+d+","+(e-c)+","+(t-s)+"A"+r+","+r+",0,1,"+d+","+(this._x1=i)+","+(this._y1=u):f>Xe&&(this._+="A"+r+","+r+",0,"+ +(f>=Mo)+","+d+","+(this._x1=e+r*Math.cos(n))+","+(this._y1=t+r*Math.sin(n))))},rect:function(e,t,r,o){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +o+"h"+-r+"Z"},toString:function(){return this._}};var _t=us;var cs=Array.prototype.slice;function Ge(e){return function(){return e}}function Df(e){return e.source}function jf(e){return e.target}function ds(e){return e.radius}function Af(e){return e.startAngle}function Nf(e){return e.endAngle}function Pf(){return 0}function qf(e){var t=Df,r=jf,o=ds,n=ds,a=Af,c=Nf,s=Pf,i=null;function u(){var d,f=t.apply(this,arguments),g=r.apply(this,arguments),h=s.apply(this,arguments)/2,C=cs.call(arguments),y=+o.apply(this,(C[0]=f,C)),m=a.apply(this,C)-Ct,I=c.apply(this,C)-Ct,w=+n.apply(this,(C[0]=g,C)),v=a.apply(this,C)-Ct,x=c.apply(this,C)-Ct;if(i||(i=d=_t()),h>Cr&&(jo(I-m)>h*2+Cr?I>m?(m+=h,I-=h):(m-=h,I+=h):m=I=(m+I)/2,jo(x-v)>h*2+Cr?x>v?(v+=h,x-=h):(v-=h,x+=h):v=x=(v+x)/2),i.moveTo(y*Ke(m),y*Ue(m)),i.arc(0,0,y,m,I),m!==v||I!==x)if(e){var A=+e.apply(this,arguments),D=w-A,N=(v+x)/2;i.quadraticCurveTo(0,0,D*Ke(v),D*Ue(v)),i.lineTo(w*Ke(N),w*Ue(N)),i.lineTo(D*Ke(x),D*Ue(x))}else i.quadraticCurveTo(0,0,w*Ke(v),w*Ue(v)),i.arc(0,0,w,v,x);if(i.quadraticCurveTo(0,0,y*Ke(m),y*Ue(m)),i.closePath(),d)return i=null,d+""||null}return e&&(u.headRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Ge(+d),u):e}),u.radius=function(d){return arguments.length?(o=n=typeof d=="function"?d:Ge(+d),u):o},u.sourceRadius=function(d){return arguments.length?(o=typeof d=="function"?d:Ge(+d),u):o},u.targetRadius=function(d){return arguments.length?(n=typeof d=="function"?d:Ge(+d),u):n},u.startAngle=function(d){return arguments.length?(a=typeof d=="function"?d:Ge(+d),u):a},u.endAngle=function(d){return arguments.length?(c=typeof d=="function"?d:Ge(+d),u):c},u.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Ge(+d),u):s},u.source=function(d){return arguments.length?(t=d,u):t},u.target=function(d){return arguments.length?(r=d,u):r},u.context=function(d){return arguments.length?(i=d==null?null:d,u):i},u}function Eo(){return qf()}function fs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Fo=Symbol("implicit");function It(){var e=new wt,t=[],r=[],o=Fo;function n(a){let c=e.get(a);if(c===void 0){if(o!==Fo)return o;e.set(a,c=t.push(a)-1)}return r[c%r.length]}return n.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new wt;for(let c of a)e.has(c)||e.set(c,t.push(c)-1);return n},n.range=function(a){return arguments.length?(r=Array.from(a),n):r.slice()},n.unknown=function(a){return arguments.length?(o=a,n):o},n.copy=function(){return It(t,r).unknown(o)},fs.apply(n,arguments),n}function _r(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Go(e,t){var r=Object.create(e.prototype);for(var o in t)r[o]=t[o];return r}function Tt(){}var kt=.7,Ir=1/kt,it="\\s*([+-]?\\d+)\\s*",Dt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mf=/^#([0-9a-f]{3,8})$/,Bf=new RegExp("^rgb\\("+[it,it,it]+"\\)$"),Of=new RegExp("^rgb\\("+[xe,xe,xe]+"\\)$"),Ef=new RegExp("^rgba\\("+[it,it,it,Dt]+"\\)$"),Ff=new RegExp("^rgba\\("+[xe,xe,xe,Dt]+"\\)$"),Gf=new RegExp("^hsl\\("+[Dt,xe,xe]+"\\)$"),zf=new RegExp("^hsla\\("+[Dt,xe,xe,Dt]+"\\)$"),ps={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_r(Tt,jt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ms,formatHex:ms,formatHsl:Lf,formatRgb:gs,toString:gs});function ms(){return this.rgb().formatHex()}function Lf(){return xs(this).formatHsl()}function gs(){return this.rgb().formatRgb()}function jt(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Mf.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hs(t):r===3?new de(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bf.exec(e))?new de(t[1],t[2],t[3],1):(t=Of.exec(e))?new de(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ef.exec(e))?Tr(t[1],t[2],t[3],t[4]):(t=Ff.exec(e))?Tr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Gf.exec(e))?bs(t[1],t[2]/100,t[3]/100,1):(t=zf.exec(e))?bs(t[1],t[2]/100,t[3]/100,t[4]):ps.hasOwnProperty(e)?hs(ps[e]):e==="transparent"?new de(NaN,NaN,NaN,0):null}function hs(e){return new de(e>>16&255,e>>8&255,e&255,1)}function Tr(e,t,r,o){return o<=0&&(e=t=r=NaN),new de(e,t,r,o)}function Hf(e){return e instanceof Tt||(e=jt(e)),e?(e=e.rgb(),new de(e.r,e.g,e.b,e.opacity)):new de}function st(e,t,r,o){return arguments.length===1?Hf(e):new de(e,t,r,o==null?1:o)}function de(e,t,r,o){this.r=+e,this.g=+t,this.b=+r,this.opacity=+o}_r(de,st,Go(Tt,{brighter:function(e){return e=e==null?Ir:Math.pow(Ir,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?kt:Math.pow(kt,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vs,formatHex:vs,formatRgb:ys,toString:ys}));function vs(){return"#"+zo(this.r)+zo(this.g)+zo(this.b)}function ys(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function zo(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function bs(e,t,r,o){return o<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Se(e,t,r,o)}function xs(e){if(e instanceof Se)return new Se(e.h,e.s,e.l,e.opacity);if(e instanceof Tt||(e=jt(e)),!e)return new Se;if(e instanceof Se)return e;e=e.rgb();var t=e.r/255,r=e.g/255,o=e.b/255,n=Math.min(t,r,o),a=Math.max(t,r,o),c=NaN,s=a-n,i=(a+n)/2;return s?(t===a?c=(r-o)/s+(r<o)*6:r===a?c=(o-t)/s+2:c=(t-r)/s+4,s/=i<.5?a+n:2-a-n,c*=60):s=i>0&&i<1?0:c,new Se(c,s,i,e.opacity)}function Ss(e,t,r,o){return arguments.length===1?xs(e):new Se(e,t,r,o==null?1:o)}function Se(e,t,r,o){this.h=+e,this.s=+t,this.l=+r,this.opacity=+o}_r(Se,Ss,Go(Tt,{brighter:function(e){return e=e==null?Ir:Math.pow(Ir,e),new Se(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?kt:Math.pow(kt,e),new Se(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*t,n=2*r-o;return new de(Lo(e>=240?e-240:e+120,n,o),Lo(e,n,o),Lo(e<120?e+240:e-120,n,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Lo(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function Ho(e,t,r,o,n){var a=e*e,c=a*e;return((1-3*e+3*a-c)*t+(4-6*a+3*c)*r+(1+3*e+3*a-3*c)*o+c*n)/6}function ws(e){var t=e.length-1;return function(r){var o=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),n=e[o],a=e[o+1],c=o>0?e[o-1]:2*n-a,s=o<t-1?e[o+2]:2*a-n;return Ho((r-o/t)*t,c,n,a,s)}}function Cs(e){var t=e.length;return function(r){var o=Math.floor(((r%=1)<0?++r:r)*t),n=e[(o+t-1)%t],a=e[o%t],c=e[(o+1)%t],s=e[(o+2)%t];return Ho((r-o/t)*t,n,a,c,s)}}var Wo=e=>()=>e;function Wf(e,t){return function(r){return e+r*t}}function Rf(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(o){return Math.pow(e+o*t,r)}}function _s(e){return(e=+e)==1?kr:function(t,r){return r-t?Rf(t,r,e):Wo(isNaN(t)?r:t)}}function kr(e,t){var r=t-e;return r?Wf(e,r):Wo(isNaN(e)?t:e)}var $f=function e(t){var r=_s(t);function o(n,a){var c=r((n=st(n)).r,(a=st(a)).r),s=r(n.g,a.g),i=r(n.b,a.b),u=kr(n.opacity,a.opacity);return function(d){return n.r=c(d),n.g=s(d),n.b=i(d),n.opacity=u(d),n+""}}return o.gamma=e,o}(1);function Is(e){return function(t){var r=t.length,o=new Array(r),n=new Array(r),a=new Array(r),c,s;for(c=0;c<r;++c)s=st(t[c]),o[c]=s.r||0,n[c]=s.g||0,a[c]=s.b||0;return o=e(o),n=e(n),a=e(a),s.opacity=1,function(i){return s.r=o(i),s.g=n(i),s.b=a(i),s+""}}}var Ro=Is(ws),Vf=Is(Cs);function Ts(e){for(var t=e.length/6|0,r=new Array(t),o=0;o<t;)r[o]="#"+e.slice(o*6,++o*6);return r}var ks=e=>Ro(e[e.length-1]);var Dr=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ts),Kf=ks(Dr);var jr="http://www.w3.org/1999/xhtml",$o={svg:"http://www.w3.org/2000/svg",xhtml:jr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ar(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),$o.hasOwnProperty(t)?{space:$o[t],local:e}:e}function Uf(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===jr&&t.documentElement.namespaceURI===jr?t.createElement(e):t.createElementNS(r,e)}}function Xf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nr(e){var t=Ar(e);return(t.local?Xf:Uf)(t)}function Yf(){}function Pr(e){return e==null?Yf:function(){return this.querySelector(e)}}function Ds(e){typeof e!="function"&&(e=Pr(e));for(var t=this._groups,r=t.length,o=new Array(r),n=0;n<r;++n)for(var a=t[n],c=a.length,s=o[n]=new Array(c),i,u,d=0;d<c;++d)(i=a[d])&&(u=e.call(i,i.__data__,d,a))&&("__data__"in i&&(u.__data__=i.__data__),s[d]=u);return new V(o,this._parents)}function Vo(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Zf(){return[]}function js(e){return e==null?Zf:function(){return this.querySelectorAll(e)}}function Qf(e){return function(){return Vo(e.apply(this,arguments))}}function As(e){typeof e=="function"?e=Qf(e):e=js(e);for(var t=this._groups,r=t.length,o=[],n=[],a=0;a<r;++a)for(var c=t[a],s=c.length,i,u=0;u<s;++u)(i=c[u])&&(o.push(e.call(i,i.__data__,u,c)),n.push(i));return new V(o,n)}function Ns(e){return function(){return this.matches(e)}}function qr(e){return function(t){return t.matches(e)}}var Jf=Array.prototype.find;function ep(e){return function(){return Jf.call(this.children,e)}}function tp(){return this.firstElementChild}function Ps(e){return this.select(e==null?tp:ep(typeof e=="function"?e:qr(e)))}var rp=Array.prototype.filter;function op(){return Array.from(this.children)}function np(e){return function(){return rp.call(this.children,e)}}function qs(e){return this.selectAll(e==null?op:np(typeof e=="function"?e:qr(e)))}function Ms(e){typeof e!="function"&&(e=Ns(e));for(var t=this._groups,r=t.length,o=new Array(r),n=0;n<r;++n)for(var a=t[n],c=a.length,s=o[n]=[],i,u=0;u<c;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&s.push(i);return new V(o,this._parents)}function Mr(e){return new Array(e.length)}function Bs(){return new V(this._enter||this._groups.map(Mr),this._parents)}function At(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}At.prototype={constructor:At,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Os(e){return function(){return e}}function ap(e,t,r,o,n,a){for(var c=0,s,i=t.length,u=a.length;c<u;++c)(s=t[c])?(s.__data__=a[c],o[c]=s):r[c]=new At(e,a[c]);for(;c<i;++c)(s=t[c])&&(n[c]=s)}function ip(e,t,r,o,n,a,c){var s,i,u=new Map,d=t.length,f=a.length,g=new Array(d),h;for(s=0;s<d;++s)(i=t[s])&&(g[s]=h=c.call(i,i.__data__,s,t)+"",u.has(h)?n[s]=i:u.set(h,i));for(s=0;s<f;++s)h=c.call(e,a[s],s,a)+"",(i=u.get(h))?(o[s]=i,i.__data__=a[s],u.delete(h)):r[s]=new At(e,a[s]);for(s=0;s<d;++s)(i=t[s])&&u.get(g[s])===i&&(n[s]=i)}function sp(e){return e.__data__}function Es(e,t){if(!arguments.length)return Array.from(this,sp);var r=t?ip:ap,o=this._parents,n=this._groups;typeof e!="function"&&(e=Os(e));for(var a=n.length,c=new Array(a),s=new Array(a),i=new Array(a),u=0;u<a;++u){var d=o[u],f=n[u],g=f.length,h=lp(e.call(d,d&&d.__data__,u,o)),C=h.length,y=s[u]=new Array(C),m=c[u]=new Array(C),I=i[u]=new Array(g);r(d,f,y,m,I,h,t);for(var w=0,v=0,x,A;w<C;++w)if(x=y[w]){for(w>=v&&(v=w+1);!(A=m[v])&&++v<C;);x._next=A||null}}return c=new V(c,o),c._enter=s,c._exit=i,c}function lp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fs(){return new V(this._exit||this._groups.map(Mr),this._parents)}function Gs(e,t,r){var o=this.enter(),n=this,a=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),r==null?a.remove():r(a),o&&n?o.merge(n).order():n}function zs(e){for(var t=e.selection?e.selection():e,r=this._groups,o=t._groups,n=r.length,a=o.length,c=Math.min(n,a),s=new Array(n),i=0;i<c;++i)for(var u=r[i],d=o[i],f=u.length,g=s[i]=new Array(f),h,C=0;C<f;++C)(h=u[C]||d[C])&&(g[C]=h);for(;i<n;++i)s[i]=r[i];return new V(s,this._parents)}function Ls(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o=e[t],n=o.length-1,a=o[n],c;--n>=0;)(c=o[n])&&(a&&c.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(c,a),a=c);return this}function Hs(e){e||(e=up);function t(f,g){return f&&g?e(f.__data__,g.__data__):!f-!g}for(var r=this._groups,o=r.length,n=new Array(o),a=0;a<o;++a){for(var c=r[a],s=c.length,i=n[a]=new Array(s),u,d=0;d<s;++d)(u=c[d])&&(i[d]=u);i.sort(t)}return new V(n,this._parents).order()}function up(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ws(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Rs(){return Array.from(this)}function $s(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],n=0,a=o.length;n<a;++n){var c=o[n];if(c)return c}return null}function Vs(){let e=0;for(let t of this)++e;return e}function Ks(){return!this.node()}function Us(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var n=t[r],a=0,c=n.length,s;a<c;++a)(s=n[a])&&e.call(s,s.__data__,a,n);return this}function cp(e){return function(){this.removeAttribute(e)}}function dp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fp(e,t){return function(){this.setAttribute(e,t)}}function pp(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mp(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function gp(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Xs(e,t){var r=Ar(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((t==null?r.local?dp:cp:typeof t=="function"?r.local?gp:mp:r.local?pp:fp)(r,t))}function Br(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hp(e){return function(){this.style.removeProperty(e)}}function vp(e,t,r){return function(){this.style.setProperty(e,t,r)}}function yp(e,t,r){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function Ys(e,t,r){return arguments.length>1?this.each((t==null?hp:typeof t=="function"?yp:vp)(e,t,r==null?"":r)):bp(this.node(),e)}function bp(e,t){return e.style.getPropertyValue(t)||Br(e).getComputedStyle(e,null).getPropertyValue(t)}function xp(e){return function(){delete this[e]}}function Sp(e,t){return function(){this[e]=t}}function wp(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Zs(e,t){return arguments.length>1?this.each((t==null?xp:typeof t=="function"?wp:Sp)(e,t)):this.node()[e]}function Qs(e){return e.trim().split(/^|\s+/)}function Ko(e){return e.classList||new Js(e)}function Js(e){this._node=e,this._names=Qs(e.getAttribute("class")||"")}Js.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function el(e,t){for(var r=Ko(e),o=-1,n=t.length;++o<n;)r.add(t[o])}function tl(e,t){for(var r=Ko(e),o=-1,n=t.length;++o<n;)r.remove(t[o])}function Cp(e){return function(){el(this,e)}}function _p(e){return function(){tl(this,e)}}function Ip(e,t){return function(){(t.apply(this,arguments)?el:tl)(this,e)}}function rl(e,t){var r=Qs(e+"");if(arguments.length<2){for(var o=Ko(this.node()),n=-1,a=r.length;++n<a;)if(!o.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?Ip:t?Cp:_p)(r,t))}function Tp(){this.textContent=""}function kp(e){return function(){this.textContent=e}}function Dp(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function ol(e){return arguments.length?this.each(e==null?Tp:(typeof e=="function"?Dp:kp)(e)):this.node().textContent}function jp(){this.innerHTML=""}function Ap(e){return function(){this.innerHTML=e}}function Np(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function nl(e){return arguments.length?this.each(e==null?jp:(typeof e=="function"?Np:Ap)(e)):this.node().innerHTML}function Pp(){this.nextSibling&&this.parentNode.appendChild(this)}function al(){return this.each(Pp)}function qp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function il(){return this.each(qp)}function sl(e){var t=typeof e=="function"?e:Nr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Mp(){return null}function ll(e,t){var r=typeof e=="function"?e:Nr(e),o=t==null?Mp:typeof t=="function"?t:Pr(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function Bp(){var e=this.parentNode;e&&e.removeChild(this)}function ul(){return this.each(Bp)}function Op(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cl(e){return this.select(e?Ep:Op)}function dl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Fp(e){return function(t){e.call(this,t,this.__data__)}}function Gp(e){return e.trim().split(/^|\s+/).map(function(t){var r="",o=t.indexOf(".");return o>=0&&(r=t.slice(o+1),t=t.slice(0,o)),{type:t,name:r}})}function zp(e){return function(){var t=this.__on;if(!!t){for(var r=0,o=-1,n=t.length,a;r<n;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++o]=a;++o?t.length=o:delete this.__on}}}function Lp(e,t,r){return function(){var o=this.__on,n,a=Fp(t);if(o){for(var c=0,s=o.length;c<s;++c)if((n=o[c]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),n.value=t;return}}this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},o?o.push(n):this.__on=[n]}}function fl(e,t,r){var o=Gp(e+""),n,a=o.length,c;if(arguments.length<2){var s=this.node().__on;if(s){for(var i=0,u=s.length,d;i<u;++i)for(n=0,d=s[i];n<a;++n)if((c=o[n]).type===d.type&&c.name===d.name)return d.value}return}for(s=t?Lp:zp,n=0;n<a;++n)this.each(s(o[n],t,r));return this}function pl(e,t,r){var o=Br(e),n=o.CustomEvent;typeof n=="function"?n=new n(t,r):(n=o.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function Hp(e,t){return function(){return pl(this,e,t)}}function Wp(e,t){return function(){return pl(this,e,t.apply(this,arguments))}}function ml(e,t){return this.each((typeof t=="function"?Wp:Hp)(e,t))}function*gl(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o=e[t],n=0,a=o.length,c;n<a;++n)(c=o[n])&&(yield c)}var Uo=[null];function V(e,t){this._groups=e,this._parents=t}function Rp(){return new V([[document.documentElement]],Uo)}function $p(){return this}V.prototype=Rp.prototype={constructor:V,select:Ds,selectAll:As,selectChild:Ps,selectChildren:qs,filter:Ms,data:Es,enter:Bs,exit:Fs,join:Gs,merge:zs,selection:$p,order:Ls,sort:Hs,call:Ws,nodes:Rs,node:$s,size:Vs,empty:Ks,each:Us,attr:Xs,style:Ys,property:Zs,classed:rl,text:ol,html:nl,raise:al,lower:il,append:sl,insert:ll,remove:ul,clone:cl,datum:dl,on:fl,dispatch:ml,[Symbol.iterator]:gl};function Xo(e){return typeof e=="string"?new V([[document.querySelector(e)]],[document.documentElement]):new V([[e]],Uo)}function ke(e){return function(){return e}}var Yo=Math.abs,te=Math.atan2,ze=Math.cos,hl=Math.max,Or=Math.min,he=Math.sin,Ye=Math.sqrt,ae=1e-12,lt=Math.PI,Nt=lt/2,vl=2*lt;function yl(e){return e>1?0:e<-1?lt:Math.acos(e)}function Zo(e){return e>=1?Nt:e<=-1?-Nt:Math.asin(e)}function Vp(e){return e.innerRadius}function Kp(e){return e.outerRadius}function Up(e){return e.startAngle}function Xp(e){return e.endAngle}function Yp(e){return e&&e.padAngle}function Zp(e,t,r,o,n,a,c,s){var i=r-e,u=o-t,d=c-n,f=s-a,g=f*i-d*u;if(!(g*g<ae))return g=(d*(t-a)-f*(e-n))/g,[e+g*i,t+g*u]}function Er(e,t,r,o,n,a,c){var s=e-r,i=t-o,u=(c?a:-a)/Ye(s*s+i*i),d=u*i,f=-u*s,g=e+d,h=t+f,C=r+d,y=o+f,m=(g+C)/2,I=(h+y)/2,w=C-g,v=y-h,x=w*w+v*v,A=n-a,D=g*y-C*h,N=(v<0?-1:1)*Ye(hl(0,A*A*x-D*D)),Y=(D*v-w*N)/x,$=(-D*w-v*N)/x,S=(D*v+w*N)/x,k=(-D*w+v*N)/x,b=Y-m,_=$-I,F=S-m,K=k-I;return b*b+_*_>F*F+K*K&&(Y=S,$=k),{cx:Y,cy:$,x01:-d,y01:-f,x11:Y*(n/A-1),y11:$*(n/A-1)}}function Qo(){var e=Vp,t=Kp,r=ke(0),o=null,n=Up,a=Xp,c=Yp,s=null;function i(){var u,d,f=+e.apply(this,arguments),g=+t.apply(this,arguments),h=n.apply(this,arguments)-Nt,C=a.apply(this,arguments)-Nt,y=Yo(C-h),m=C>h;if(s||(s=u=_t()),g<f&&(d=g,g=f,f=d),!(g>ae))s.moveTo(0,0);else if(y>vl-ae)s.moveTo(g*ze(h),g*he(h)),s.arc(0,0,g,h,C,!m),f>ae&&(s.moveTo(f*ze(C),f*he(C)),s.arc(0,0,f,C,h,m));else{var I=h,w=C,v=h,x=C,A=y,D=y,N=c.apply(this,arguments)/2,Y=N>ae&&(o?+o.apply(this,arguments):Ye(f*f+g*g)),$=Or(Yo(g-f)/2,+r.apply(this,arguments)),S=$,k=$,b,_;if(Y>ae){var F=Zo(Y/f*he(N)),K=Zo(Y/g*he(N));(A-=F*2)>ae?(F*=m?1:-1,v+=F,x-=F):(A=0,v=x=(h+C)/2),(D-=K*2)>ae?(K*=m?1:-1,I+=K,w-=K):(D=0,I=w=(h+C)/2)}var le=g*ze(I),ue=g*he(I),De=f*ze(x),Bt=f*he(x);if($>ae){var Ot=g*ze(w),Et=g*he(w),Kr=f*ze(v),Ur=f*he(v),Ce;if(y<lt&&(Ce=Zp(le,ue,Kr,Ur,Ot,Et,De,Bt))){var Xr=le-Ce[0],Yr=ue-Ce[1],Zr=Ot-Ce[0],Qr=Et-Ce[1],on=1/he(yl((Xr*Zr+Yr*Qr)/(Ye(Xr*Xr+Yr*Yr)*Ye(Zr*Zr+Qr*Qr)))/2),nn=Ye(Ce[0]*Ce[0]+Ce[1]*Ce[1]);S=Or($,(f-nn)/(on-1)),k=Or($,(g-nn)/(on+1))}}D>ae?k>ae?(b=Er(Kr,Ur,le,ue,g,k,m),_=Er(Ot,Et,De,Bt,g,k,m),s.moveTo(b.cx+b.x01,b.cy+b.y01),k<$?s.arc(b.cx,b.cy,k,te(b.y01,b.x01),te(_.y01,_.x01),!m):(s.arc(b.cx,b.cy,k,te(b.y01,b.x01),te(b.y11,b.x11),!m),s.arc(0,0,g,te(b.cy+b.y11,b.cx+b.x11),te(_.cy+_.y11,_.cx+_.x11),!m),s.arc(_.cx,_.cy,k,te(_.y11,_.x11),te(_.y01,_.x01),!m))):(s.moveTo(le,ue),s.arc(0,0,g,I,w,!m)):s.moveTo(le,ue),!(f>ae)||!(A>ae)?s.lineTo(De,Bt):S>ae?(b=Er(De,Bt,Ot,Et,f,-S,m),_=Er(le,ue,Kr,Ur,f,-S,m),s.lineTo(b.cx+b.x01,b.cy+b.y01),S<$?s.arc(b.cx,b.cy,S,te(b.y01,b.x01),te(_.y01,_.x01),!m):(s.arc(b.cx,b.cy,S,te(b.y01,b.x01),te(b.y11,b.x11),!m),s.arc(0,0,f,te(b.cy+b.y11,b.cx+b.x11),te(_.cy+_.y11,_.cx+_.x11),m),s.arc(_.cx,_.cy,S,te(_.y11,_.x11),te(_.y01,_.x01),!m))):s.arc(0,0,f,x,v,m)}if(s.closePath(),u)return s=null,u+""||null}return i.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2-lt/2;return[ze(d)*u,he(d)*u]},i.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:ke(+u),i):e},i.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:ke(+u),i):t},i.cornerRadius=function(u){return arguments.length?(r=typeof u=="function"?u:ke(+u),i):r},i.padRadius=function(u){return arguments.length?(o=u==null?null:typeof u=="function"?u:ke(+u),i):o},i.startAngle=function(u){return arguments.length?(n=typeof u=="function"?u:ke(+u),i):n},i.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:ke(+u),i):a},i.padAngle=function(u){return arguments.length?(c=typeof u=="function"?u:ke(+u),i):c},i.context=function(u){return arguments.length?(s=u==null?null:u,i):s},i}function bl(e,t){let r=new Array(t.length).fill(0).map(()=>new Array(t.length).fill(0));function o(S,k){S==null||k==null||(r[S][k]=r[k][S]=1)}let n=new Map;for(let S=0;S<t.length;S++)n.set(t[S].id,S);for(let S of t)for(let k of S.neighbors)o(n.get(S.id),n.get(k));let a=S=>S.reduce((k,b)=>k+b,0),c=Math.max(...r.map(a));c===0&&(c=1);let s=new Set;for(let S=0;S<r.length;S++){let k=r[S];a(k)===0?(k[S]=1/c,s.add(t[S].id)):r[S]=k.map(_=>_/c)}let i=1.5,u=a(r[0]);r[0]=r[0].map(S=>S*i/u);let d=a(r.map(a)),f=600,g=600,h=Math.min(f,g)*.5-150,C=h-20,y=Math.min(.15,Math.PI/2/t.length),m=2*Math.PI-t.length*y,I=.5*m*(i/d),w=Xo(e).append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox",`${-f/2} ${-g/2} ${f} ${g}`).append("g").attr("transform",`rotate(-${(I*(180/Math.PI)).toFixed(2)})`),v=qo().padAngle(y).sortChords(Sr).sortSubgroups(()=>1)(r),x=Qo().innerRadius(C).outerRadius(h),A=Eo().radius(C),D=It().domain(wr(t.length-1)).range(Dr[Math.max(3,Math.min(11,t.length))]);function N(S){return"linkGrad-"+S.source.index+"-"+S.target.index}let Y=w.append("defs").selectAll("linearGradient").data(v).enter().append("linearGradient").attr("id",N).attr("gradientUnits","userSpaceOnUse").attr("x1",function(S,k){return C*Math.cos((S.source.endAngle-S.source.startAngle)/2+S.source.startAngle-Math.PI/2)}).attr("y1",function(S,k){return C*Math.sin((S.source.endAngle-S.source.startAngle)/2+S.source.startAngle-Math.PI/2)}).attr("x2",function(S,k){return C*Math.cos((S.target.endAngle-S.target.startAngle)/2+S.target.startAngle-Math.PI/2)}).attr("y2",function(S,k){return C*Math.sin((S.target.endAngle-S.target.startAngle)/2+S.target.startAngle-Math.PI/2)});Y.append("stop").attr("offset","0%").attr("stop-color",S=>D(S.source.index)),Y.append("stop").attr("offset","100%").attr("stop-color",S=>D(S.target.index));let $=w.selectAll("g").data(v.groups).enter().append("g").attr("class","node");$.append("path").style("fill",S=>D(S.index)).attr("d",x),$.append("text").each(S=>S.angle=(S.startAngle+S.endAngle)/2).attr("class",(S,k)=>`node-id${s.has(t[k].id)?" disconnected":""}`).attr("text-anchor",S=>S.angle-I>Math.PI?"end":null).attr("dominant-baseline","middle").attr("transform",S=>"rotate("+(S.angle*180/Math.PI-90)+")translate("+(h+10)+")"+(S.angle-I>Math.PI?"rotate(180)":"")).text((S,k)=>`Node ${t[k].id}`),w.datum(v).append("g").selectAll("path").data(S=>S.filter(k=>k.source.index!==k.target.index&&k.source.value>0&&k.target.value>0)).enter().append("path").attr("class",S=>`chord chord-${S.source.index} chord-${S.target.index}`).style("fill",S=>`url(#${N(S)})`).attr("d",A)}var xl=l(U());var Sl=l(Q()),Qp=(0,Sl.makeStyles)(e=>({map:{"& text":{fill:e.palette.text.primary}}})),wl=()=>{let{alive:e,connected:t}=(0,xl.useAdapter)(),r=fe(),o=Qp();return Fr.default.useEffect(()=>{e&&t&&r.getNetworkMap().then(n=>{bl("#map",n)}).catch(n=>{console.error(n)})},[e,t,r]),e&&t?Fr.default.createElement("div",{id:"map",className:o.map}):Fr.default.createElement(rt,null)};var au=l(U()),ut=l(Pu());var Gr=l(U()),zr=l(T());var qb=zr.default.createContext({devices:{},async updateDevices(){}}),Cl=/Node_(\d+)$/,_l=/Node_(\d+)\.ready$/,Il=/Node_(\d+)\.status$/;function Tl(){let e=(0,Gr.useConnection)(),[t,r]=zr.default.useState(),{namespace:o}=(0,Gr.useGlobals)(),n=fe(),a=async(u,d)=>{if(!(!u.startsWith(o)||!Cl.test(u)))if(d){if(d.type==="device"&&typeof d.native.id=="number"){let f=d.native.id,g={id:u,value:d,status:await n.getNodeStatus(f),ready:await n.getNodeReady(f)};g.ready&&await n.updateEndpointsAndAssociations(f,g),r(h=>({...h,[f]:g}))}}else{let f=parseInt(Cl.exec(u)[1],10);r(g=>{let h={...g};return delete h[f],h})}},c=async u=>{let d={};await n.updateEndpointsAndAssociations(u,d),r(f=>{let g=f==null?void 0:f[u];return g?(g.endpoints=d.endpoints,{...f,[u]:g}):f})},s=async(u,d)=>{if(!!u.startsWith(o)&&!(!d||!d.ack)){if(u.match(Il)){let f=parseInt(Il.exec(u)[1],10);r(g=>{let h=g==null?void 0:g[f];return h?(h.status=d.val,{...g,[f]:h}):g})}else if(u.match(_l)){let f=parseInt(_l.exec(u)[1],10);r(g=>{let h=g==null?void 0:g[f];return h?(h.ready=d.val,h.ready&&setTimeout(()=>void c(f),0),{...g,[f]:h}):g})}}};async function i(){r(await n.loadDevices({status:!0,associations:!0,ready:!0}))}return zr.default.useEffect(()=>((async()=>{await i(),e.subscribeObject(`${o}.Node_*`,a),e.subscribeState(`${o}.Node_*`,s)})(),()=>{e.unsubscribeObject(`${o}.Node_*`,a),e.unsubscribeState(`${o}.Node_*`,s)}),[]),[t,i]}var re=l(T()),Kl=l(U()),Ul=l(Q()),Xl=l(Ft()),Yl=l(fn()),Zl=l(eo()),Ql=l(Je()),Jl=l(ro()),Vr=l(Qe()),eu=l(to());var q=l(T()),Al=l(sn()),Nl=l(oo()),Pl=l(U()),ql=l(Jr()),Wr=l(Ae()),Rr=l(Le()),Ml=l(Ht()),Bl=l(gn()),Ol=l(uo()),El=l($t()),Pt=l(Qe()),Jo=l(Je()),Fl=l(Q());function kl(e,t){return e.length!==t.length?!1:e.every((r,o)=>r===t[o])}var en=l(pn());var Gl=l(Dl()),zl=l(jl()),Ll=l(Ze()),Hl=l(je()),um=q.default.createElement(Gl.default,{fontSize:"small"}),cm=q.default.createElement(zl.default,{fontSize:"small"}),dm=(0,Fl.makeStyles)(e=>({input:{width:"100%",margin:0},cell:{padding:e.spacing(1,2)},cellWithId:{paddingTop:0},idCell:{color:e.palette.text.hint,padding:e.spacing(1,2,0,2),border:0}})),tn=e=>{var x,A;let{translate:t}=(0,Pl.useI18n)(),[r,o]=q.default.useState((x=e.name)!=null?x:""),[n,a]=q.default.useState((A=e.nodeIds)!=null?A:[]),[c,s]=q.default.useState(!1),[i,u]=q.default.useState(!1),[d,f]=q.default.useState(!1);q.default.useEffect(()=>{var D;u(r!==""&&r!==e.name||!kl(n,(D=e.nodeIds)!=null?D:[])),s(!!r&&n.length>1)},[r,e.name,n,e.nodeIds]);let g=e.selectableNodes.map(D=>({value:D.value.native.id,label:`${t("Node")} ${(0,Nl.padStart)(D.value.native.id.toString(),3,"0")}`})),h=g.filter(D=>n.includes(D.value)),C=e.name==null&&e.nodeIds==null;async function y(){try{f(!0),await e.save(r,n.sort(),e.objectId),C&&m()}catch(D){alert(t("The group could not be saved!")),console.error(`The group could not be saved! Reason: ${ge(D)}`),m()}finally{f(!1)}}function m(){var D,N;o((D=e.name)!=null?D:""),a((N=e.nodeIds)!=null?N:[])}async function I(){if(!!e.delete)try{f(!0),await e.delete()}catch(D){alert(t("The group could not be deleted!")),console.error(`The group could not be deleted! Reason: ${ge(D)}`),m()}finally{f(!1)}}let w=dm(),v=(0,Hl.default)(w.cell,e.objectId?w.cellWithId:void 0);return q.default.createElement(q.default.Fragment,null,!!e.objectId&&q.default.createElement(Jo.default,null,q.default.createElement(Pt.default,{className:w.idCell,colSpan:3},q.default.createElement(Ll.default,{variant:"caption"},"ID: ",e.objectId))),q.default.createElement(Jo.default,null,q.default.createElement(Pt.default,{className:v},q.default.createElement(en.default,{variant:"outlined",margin:"dense",className:w.input,value:r,placeholder:t("Enter group name"),onChange:D=>o(D.target.value)})),q.default.createElement(Pt.default,{className:v},q.default.createElement(yn,{className:w.input,multiple:!0,size:"small",options:g,disableCloseOnSelect:!0,getOptionLabel:D=>D.label,value:h,onChange:(D,N)=>a(N.map(Y=>Y.value)),renderOption:(D,{selected:N})=>q.default.createElement(q.default.Fragment,null,q.default.createElement(Al.default,{icon:um,checkedIcon:cm,style:{marginRight:8},checked:N}),D.label),renderInput:D=>q.default.createElement(en.default,{...D,className:w.input,variant:"outlined",placeholder:h.length===0?t("Select at least 2 nodes"):void 0})})),q.default.createElement(Pt.default,{className:v},q.default.createElement(ql.default,{variant:"contained",color:"primary",style:{flex:"1 0 auto"}},q.default.createElement(Wr.default,{title:t("Save group")},q.default.createElement(Rr.default,{disabled:d||!c||!i,onClick:()=>y()},C?q.default.createElement(Ml.default,null):q.default.createElement(Bl.default,null))),q.default.createElement(Wr.default,{title:t("Undo changes")},q.default.createElement(Rr.default,{disabled:d||!i,onClick:()=>m()},q.default.createElement(Ol.default,null))),!C&&q.default.createElement(Wr.default,{title:t("Delete group")},q.default.createElement(Rr.default,{disabled:d,onClick:()=>I()},q.default.createElement(El.default,null)))))))};var tu=l(Gt());var Wl=l(Su()),$r=l(U()),qt=l(T()),rn=/\.Group_([^\.]+)$/;function Rl(e){return e.type!=="device"||!(0,Wl.isArray)(e.native.nodeIds)?!1:e.native.nodeIds.every(t=>typeof t=="number")}function fm(e){return e.replace(/[ .:,;µ<>|!"§$%&\\/()=?#+'~*]+/gi,"_")}function $l(e){return typeof e.common.name=="string"&&!!e.common.name?e.common.name:e._id.match(rn)[1]}function Vl(){let e=(0,$r.useConnection)(),[t,r]=qt.default.useState(),{namespace:o}=(0,$r.useGlobals)(),n=async(i,u)=>{!i.startsWith(o)||!rn.test(i)||(u?Rl(u)&&r(d=>({...d,[i]:u})):r(d=>{let f={...d};return delete f[i],f}))};async function a(){let i=await e.getObjectView(`${o}.Group_`,`${o}.Group_\u9999`,"device"),u={};for(let[d,f]of Object.entries(i))!d.startsWith(o)||!rn.test(d)||!Rl(f)||(u[d]=f);r(u)}let c=qt.default.useCallback(async(i,u,d)=>{let f=d!=null?d:`${o}.Group_${fm(i)}`;await e.setObject(f,{type:"device",common:{name:i},native:{multicast:!0,nodeIds:u}})},[o,e]),s=qt.default.useCallback(async i=>{await e.delObject(i._id)},[e]);return qt.default.useEffect(()=>((async()=>{await a(),e.subscribeObject(`${o}.Group_*`,n)})(),()=>{e.unsubscribeObject(`${o}.Group_*`,n)}),[]),{groups:t,saveGroup:c,deleteGroup:s}}var pm=(0,Ul.makeStyles)(e=>({root:{width:"100%",marginTop:e.spacing(2)},container:{overflowY:"auto"},empty:{textAlign:"center",fontStyle:"italic"}})),ru=e=>{let t=pm(),{translate:r}=(0,Kl.useI18n)(),{groups:o,saveGroup:n,deleteGroup:a}=Vl();if(!e.devices||!o)return re.default.createElement(tu.default,null);let c=Object.values(e.devices).filter(s=>{let{isControllerNode:i,secure:u}=s.value.native;return!i&&!u});return re.default.createElement(re.default.Fragment,null,re.default.createElement(St,{severity:"info"},r("no multicast S0"),re.default.createElement("br",null),r("no multicast S2")),re.default.createElement(Xl.default,{className:t.root,elevation:2},re.default.createElement(Yl.default,{className:t.container},re.default.createElement(Zl.default,{style:{tableLayout:"auto"}},re.default.createElement(Jl.default,null,re.default.createElement(Ql.default,null,re.default.createElement(Vr.default,{style:{width:"50%"}},r("Group name")),re.default.createElement(Vr.default,{style:{width:"50%"}},r("Nodes")),re.default.createElement(Vr.default,{style:{minWidth:"200px"}}))),re.default.createElement(eu.default,null,Object.entries(o).map(([s,i])=>re.default.createElement(tn,{objectId:i._id,key:`group-${s}`,name:$l(i),nodeIds:i.native.nodeIds,selectableNodes:c,save:n,delete:()=>a(i)})),re.default.createElement(tn,{name:void 0,nodeIds:void 0,selectableNodes:c,save:n}))))))};function Mt({error:e,resetErrorBoundary:t}){return M.default.createElement("div",{role:"alert"},M.default.createElement("p",null,"Something went wrong:"),M.default.createElement("pre",null,e.stack),M.default.createElement("button",{onClick:t},"Try again"))}var mm={en:wu(),de:Cu(),ru:_u(),pt:Iu(),nl:Tu(),fr:ku(),it:Du(),es:ju(),pl:Au(),"zh-cn":Nu()},gm=M.default.memo(()=>{let[e,t]=M.default.useState(0),{translate:r}=(0,au.useI18n)(),o=(c,s)=>{t(s)},[n,a]=Tl();return M.default.createElement(M.default.Fragment,null,M.default.createElement(we.AppBar,{position:"static"},M.default.createElement(we.Tabs,{value:e,onChange:o},M.default.createElement(we.Tab,{label:r("Devices")}),M.default.createElement(we.Tab,{label:r("Groups")}),M.default.createElement(we.Tab,{label:r("Associations")}),M.default.createElement(we.Tab,{label:r("Z-Wave Logs")}),M.default.createElement(we.Tab,{label:r("Network map")}))),M.default.createElement(et,{value:e,index:0},M.default.createElement(ut.ErrorBoundary,{FallbackComponent:Mt},M.default.createElement(is,{devices:n}))),M.default.createElement(et,{value:e,index:1},M.default.createElement(ut.ErrorBoundary,{FallbackComponent:Mt},M.default.createElement(ru,{devices:n}))),M.default.createElement(et,{value:e,index:2},M.default.createElement(ut.ErrorBoundary,{FallbackComponent:Mt},M.default.createElement(ta,{devices:n,updateDevices:a}))),M.default.createElement(et,{value:e,index:3},M.default.createElement(ut.ErrorBoundary,{FallbackComponent:Mt},M.default.createElement(xn,null))),M.default.createElement(et,{value:e,index:4},M.default.createElement(ut.ErrorBoundary,{FallbackComponent:Mt},M.default.createElement(wl,null))))});ou.default.render(M.default.createElement(nu.IoBrokerApp,{name:"zwave2",translations:mm},M.default.createElement(gm,null)),document.getElementById("root"));
//# sourceMappingURL=tab.js.map
